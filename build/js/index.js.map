{"version":3,"file":"js/index.js","mappings":"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","sources":["webpack://bu-blocks/webpack/runtime/chunk loaded","webpack://bu-blocks/external window \"React\"","webpack://bu-blocks/./src/blocks/headline/heading-toolbar.js","webpack://bu-blocks/./src/blocks/headline/pretext-format.js","webpack://bu-blocks/./src/blocks/headline/posttext-format.js","webpack://bu-blocks/./src/global/allowed-formats.js","webpack://bu-blocks/./src/components/block-icons/index.js","webpack://bu-blocks/./src/blocks/headline/headline.js","webpack://bu-blocks/./src/global/register-block-preset.js","webpack://bu-blocks/./src/global/publication-slug.js","webpack://bu-blocks/./src/global/theme-options.js","webpack://bu-blocks/./src/components/allowed-blocks/index.js","webpack://bu-blocks/./src/blocks/aside/edit.js","webpack://bu-blocks/./src/blocks/aside/aside.js","webpack://bu-blocks/./src/components/background/attributes.js","webpack://bu-blocks/./src/components/background/controls.js","webpack://bu-blocks/./src/components/background/index.js","webpack://bu-blocks/./src/blocks/drawer/drawer.js","webpack://bu-blocks/./src/blocks/modal/edit.js","webpack://bu-blocks/./src/blocks/modal/modal.js","webpack://bu-blocks/./src/blocks/introparagraph/deprecated.js","webpack://bu-blocks/./src/blocks/introparagraph/introparagraph.js","webpack://bu-blocks/./src/blocks/leadin/leadin.js","webpack://bu-blocks/./src/blocks/buniverse/buniverse.js","webpack://bu-blocks/./src/blocks/pullquote/pullquote.js","webpack://bu-blocks/./src/blocks/photoessay/photoessay-image.js","webpack://bu-blocks/./src/blocks/photoessay/photoessay.js","webpack://bu-blocks/./src/blocks/button/deprecated.js","webpack://bu-blocks/./src/blocks/button/button.js","webpack://bu-blocks/./src/blocks/relatedstories/relatedstories.js","webpack://bu-blocks/./src/components/share-tools/index.js","webpack://bu-blocks/./src/blocks/listicle/deprecated.js","webpack://bu-blocks/./src/blocks/listicle/listicle.js","webpack://bu-blocks/./src/blocks/clicktotweet/clicktotweet.js","webpack://bu-blocks/./src/blocks/stat/stat.js","webpack://bu-blocks/./src/blocks/stat/edit.js","webpack://bu-blocks/./src/blocks/stat/stats.js","webpack://bu-blocks/./src/blocks/custom-html/custom-html.js","webpack://bu-blocks/./src/blocks/collapsible/collapsible.js","webpack://bu-blocks/./src/blocks/collapsible-control/collapsible-control.js","webpack://bu-blocks/./src/components/paragraph-caption-style/paragraph-caption-style.js","webpack://bu-blocks/./src/components/paragraph-end-of-article-style/paragraph-end-of-article-style.js","webpack://bu-blocks/./node_modules/classnames/index.js","webpack://bu-blocks/webpack/bootstrap","webpack://bu-blocks/webpack/runtime/compat get default export","webpack://bu-blocks/webpack/runtime/define property getters","webpack://bu-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://bu-blocks/webpack/runtime/jsonp chunk loading","webpack://bu-blocks/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","/**\n * WordPress dependencies\n */\nconst { __, sprintf } = wp.i18n;\nconst { Component } = wp.element;\nconst { Toolbar, Path, SVG } = wp.components;\n\n// Copied from Gutenberg.\n// https://github.com/WordPress/gutenberg/blob/4a94950aec074274bea2c0d88aeeb550c9a95cc6/packages/block-library/src/heading/heading-level-icon.js.\nconst HeadingLevelIcon = function ( { level, isPressed = false } ) {\n\tconst levelToPath = {\n\t\t1: 'M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z',\n\t\t2: 'M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z',\n\t\t3: 'M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z',\n\t\t4: 'M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm10-2h-1v2h-2v-2h-5v-2l4-6h3v6h1v2zm-3-2V7l-2.8 4H16z',\n\t\t5: 'M12.1 12.2c.4.3.7.5 1.1.7.4.2.9.3 1.3.3.5 0 1-.1 1.4-.4.4-.3.6-.7.6-1.1 0-.4-.2-.9-.6-1.1-.4-.3-.9-.4-1.4-.4H14c-.1 0-.3 0-.4.1l-.4.1-.5.2-1-.6.3-5h6.4v1.9h-4.3L14 8.8c.2-.1.5-.1.7-.2.2 0 .5-.1.7-.1.5 0 .9.1 1.4.2.4.1.8.3 1.1.6.3.2.6.6.8.9.2.4.3.9.3 1.4 0 .5-.1 1-.3 1.4-.2.4-.5.8-.9 1.1-.4.3-.8.5-1.3.7-.5.2-1 .3-1.5.3-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1-.1-.1 1-1.5 1-1.5zM9 15H7v-4H3v4H1V5h2v4h4V5h2v10z',\n\t\t6: 'M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm8.6-7.5c-.2-.2-.5-.4-.8-.5-.6-.2-1.3-.2-1.9 0-.3.1-.6.3-.8.5l-.6.9c-.2.5-.2.9-.2 1.4.4-.3.8-.6 1.2-.8.4-.2.8-.3 1.3-.3.4 0 .8 0 1.2.2.4.1.7.3 1 .6.3.3.5.6.7.9.2.4.3.8.3 1.3s-.1.9-.3 1.4c-.2.4-.5.7-.8 1-.4.3-.8.5-1.2.6-1 .3-2 .3-3 0-.5-.2-1-.5-1.4-.9-.4-.4-.8-.9-1-1.5-.2-.6-.3-1.3-.3-2.1s.1-1.6.4-2.3c.2-.6.6-1.2 1-1.6.4-.4.9-.7 1.4-.9.6-.3 1.1-.4 1.7-.4.7 0 1.4.1 2 .3.5.2 1 .5 1.4.8 0 .1-1.3 1.4-1.3 1.4zm-2.4 5.8c.2 0 .4 0 .6-.1.2 0 .4-.1.5-.2.1-.1.3-.3.4-.5.1-.2.1-.5.1-.7 0-.4-.1-.8-.4-1.1-.3-.2-.7-.3-1.1-.3-.3 0-.7.1-1 .2-.4.2-.7.4-1 .7 0 .3.1.7.3 1 .1.2.3.4.4.6.2.1.3.3.5.3.2.1.5.2.7.1z',\n\t};\n\tif ( ! levelToPath.hasOwnProperty( level ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<SVG\n\t\t\twidth=\"24\"\n\t\t\theight=\"24\"\n\t\t\tviewBox=\"0 0 20 20\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tisPressed={ isPressed }\n\t\t\tclass=\"bu-blocks-heading-icon\"\n\t\t>\n\t\t\t<Path d={ levelToPath[ level ] } />\n\t\t</SVG>\n\t);\n};\n\nclass HeadingToolbar extends Component {\n\tcreateLevelControl( targetLevel, selectedLevel, onChange ) {\n\t\treturn {\n\t\t\ticon: <HeadingLevelIcon level={ targetLevel } />,\n\t\t\t// translators: %s: heading level e.g: \"1\", \"2\", \"3\"\n\t\t\ttitle: sprintf( __( 'Heading %d' ), targetLevel ),\n\t\t\tisActive: targetLevel === selectedLevel,\n\t\t\tonClick: () => onChange( targetLevel ),\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { minLevel, maxLevel, selectedLevel, onChange } = this.props;\n\t\tconst range = Array.from(\n\t\t\t{ length: maxLevel - minLevel },\n\t\t\t( v, k ) => k + minLevel\n\t\t);\n\n\t\treturn (\n\t\t\t<Toolbar\n\t\t\t\tcontrols={ range.map( ( index ) =>\n\t\t\t\t\tthis.createLevelControl( index, selectedLevel, onChange )\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default HeadingToolbar;\n","/**\n * Format: bu-headline-pretext\n *\n * A RichText format button for wrapping selected text in a span with the\n * 'wp-block-editorial-headline-pretext' span.\n */\n\n// Import WordPress dependencies\nconst { __ } = wp.i18n;\nconst { Fragment } = wp.element;\nconst { registerFormatType, toggleFormat } = wp.richText;\nconst { RichTextToolbarButton, RichTextShortcut } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst el = wp.element.createElement;\nconst { compose, ifCondition } = wp.compose;\nconst { withSelect } = wp.data;\nconst name = 'editorial/pretext';\nconst pretexticon = el(\n\t'svg',\n\t{ width: 20, height: 20, viewBox: '0 0 20 20' },\n\tel( 'path', {\n\t\td: 'M18,4.3H8.56a.51.51,0,0,0-.51.52v2a.51.51,0,0,0,.51.51H18a.51.51,0,0,0,.52-.51v-2A.52.52,0,0,0,18,4.3Z',\n\t} ),\n\tel( 'polygon', {\n\t\tpoints: '1.53 6.59 4.51 6.59 4.51 7.65 7.1 5.83 4.51 4.02 4.51 5.08 1.53 5.08 1.53 5.08 1.53 6.59',\n\t} ),\n\tel( 'path', {\n\t\td: 'M10,8.67v3.1h3V8.67h1.82v8.08H13.05V13.37H10v3.38H8.2V8.67Z',\n\t} )\n);\n\nregisterFormatType( name, {\n\ttitle: __( 'Pretext' ),\n\ttagName: 'span',\n\tclassName: 'wp-block-editorial-headline-pretext',\n\n\tedit: compose(\n\t\twithSelect( ( select ) => {\n\t\t\tlet getSelectedBlock =\n\t\t\t\t'undefined' === typeof select( 'core/block-editor' )\n\t\t\t\t\t? select( 'core/editor' ).getSelectedBlock\n\t\t\t\t\t: select( 'core/block-editor' ).getSelectedBlock;\n\n\t\t\treturn {\n\t\t\t\tselectedBlock: getSelectedBlock(),\n\t\t\t};\n\t\t} ),\n\t\tifCondition( ( props ) => {\n\t\t\treturn (\n\t\t\t\tprops.selectedBlock &&\n\t\t\t\tprops.selectedBlock.name === 'editorial/headline'\n\t\t\t);\n\t\t} )\n\t)( ( props ) => {\n\t\tconst { isActive, onChange, selectedBlock, value } = props;\n\n\t\tconst onToggle = () =>\n\t\t\tonChange( toggleFormat( value, { type: name } ) );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"access\"\n\t\t\t\t\tcharacter=\"a\"\n\t\t\t\t\tonUse={ onToggle }\n\t\t\t\t/>\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\ticon={ pretexticon }\n\t\t\t\t\ttitle={ __( 'Pretext' ) }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tshortcutType=\"access\"\n\t\t\t\t\tshortcutCharacter=\"a\"\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n} );\n","/**\n * Format: bu-headline-posttext\n *\n * A RichText format button for wrapping selected text in a span with the\n * 'wp-block-editorial-headline-posttext' span.\n */\n\n// Import WordPress dependencies\nconst { __ } = wp.i18n;\nconst { Fragment } = wp.element;\nconst { registerFormatType, toggleFormat } = wp.richText;\nconst { RichTextToolbarButton, RichTextShortcut } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst el = wp.element.createElement;\nconst { compose, ifCondition } = wp.compose;\nconst { withSelect } = wp.data;\nconst name = 'editorial/posttext';\nconst posttexticon = el(\n\t'svg',\n\t{ width: 20, height: 20, viewBox: '0 0 20 20' },\n\tel( 'path', {\n\t\td: 'M18,13.68H8.56a.51.51,0,0,0-.51.51v2a.51.51,0,0,0,.51.51H18a.51.51,0,0,0,.52-.51v-2A.51.51,0,0,0,18,13.68Z',\n\t} ),\n\tel( 'polygon', {\n\t\tpoints: '1.53 15.96 4.51 15.96 4.51 17.02 7.1 15.2 4.51 13.4 4.51 14.46 1.53 14.46 1.53 14.46 1.53 15.96',\n\t} ),\n\tel( 'path', {\n\t\td: 'M10,4.27V7.38h3V4.27h1.82v8.08H13.05V9H10v3.38H8.2V4.27Z',\n\t} )\n);\n\nregisterFormatType( name, {\n\ttitle: __( 'Posttext' ),\n\ttagName: 'span',\n\tclassName: 'wp-block-editorial-headline-posttext',\n\n\tedit: compose(\n\t\twithSelect( ( select ) => {\n\t\t\tlet getSelectedBlock =\n\t\t\t\t'undefined' === typeof select( 'core/block-editor' )\n\t\t\t\t\t? select( 'core/editor' ).getSelectedBlock\n\t\t\t\t\t: select( 'core/block-editor' ).getSelectedBlock;\n\n\t\t\treturn {\n\t\t\t\tselectedBlock: getSelectedBlock(),\n\t\t\t};\n\t\t} ),\n\t\tifCondition( ( props ) => {\n\t\t\treturn (\n\t\t\t\tprops.selectedBlock &&\n\t\t\t\tprops.selectedBlock.name === 'editorial/headline'\n\t\t\t);\n\t\t} )\n\t)( ( props ) => {\n\t\tconst { isActive, onChange, selectedBlock, value } = props;\n\n\t\tconst onToggle = () =>\n\t\t\tonChange( toggleFormat( value, { type: name } ) );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"access\"\n\t\t\t\t\tcharacter=\"b\"\n\t\t\t\t\tonUse={ onToggle }\n\t\t\t\t/>\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\ticon={ posttexticon }\n\t\t\t\t\ttitle={ __( 'Posttext' ) }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tshortcutType=\"access\"\n\t\t\t\t\tshortcutCharacter=\"b\"\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n} );\n","/**\n * Provide the expected attribute value for a list of allowed\n * formatting controls.\n *\n * Before Gutenberg 6.2.0, the formatting controls on RichText elements\n * were controlled with the `formattingControls` attribute.\n *\n * In Gutenberg 6.2.0, the `allowedFormats` attribute was introduced that\n * performs the same function with slightly different expectations.\n *\n * React does not render attributes that have `false` set as a value, so the\n * pattern provided by `getAllowedFormats` handles both `allowedFormats` and\n * `formattingControls` and then sets one of them to `false` depending on which\n * environment is detected.\n *\n * As an example, the following attributes restrict formatting controls to bold\n * and italic, a common pattern throughout the BU Blocks plugin:\n *\n * \t\t<RichText\n * \t\t\tformattingControls={ getAllowedFormats( 'formattingControls', [ 'link' ] ) }\n * \t\t\tallowedFormats={ getAllowedFormats( 'allowedFormats', [ 'core/link' ] ) }\n * \t\t/>\n */\n\nconst getAllowedFormats = ( type, allowedFormats ) => {\n\tconst supportsAllowedFormats =\n\t\t'undefined' === typeof wp.blockEditor ? false : true;\n\n\tif ( 'allowedFormats' === type ) {\n\t\treturn supportsAllowedFormats ? allowedFormats : false;\n\t} else if ( 'formattingControls' === type ) {\n\t\treturn supportsAllowedFormats ? false : allowedFormats;\n\t}\n\n\treturn allowedFormats;\n};\n\nexport default getAllowedFormats;\n","/**\n * Component: blockIcons\n *\n * Returns a set of block icons for use in the Gutenberg UI\n *\n */\n\n// WordPress dependencies.\nconst { Fragment } = wp.element;\n\n// Array of icon paths, the inner elements of the svg icon only.\n// Default item in object is for fallback purposes.\nconst icons = {\n\tdefault: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#c00\"\n\t\t\t\td=\"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\taside: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M53.07 24.43H18.93c-.549 0-1 .451-1 1v20.523c0 .549.451 1 1 1h34.14c.549 0 1-.451 1-1V25.43c0-.549-.451-1-1-1zM26.904 39.252c0 .08 0 .14-.06.14h-5.858s-.06-.06-.06-.14v-1.14c0-.08 0-.14.06-.14h5.858s.06.06.06.14v1.14zm0-2.989c0 .08 0 .15-.06.15h-5.858s-.06-.07-.06-.15v-1.13c0-.08 0-.15.06-.15h5.858s.06.07.06.15v1.13zm0-2.998v.14h-5.948v-1.42h5.918v.14l.03 1.14zm24.192 10.751H29.985V27.409h21.111v16.607z\"\n\t\t\t\ttransform=\"matrix(.66405 0 0 .66405 -11.906 -12.21)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M47.907 36.63H33.298a.171.171 0 01-.18-.15V35.3a.171.171 0 01.18-.15h14.609a.17.17 0 01.18.15v1.18a.17.17 0 01-.18.15z\"\n\t\t\t\ttransform=\"matrix(.66405 0 0 .66405 -11.983 -12.306)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M47.907 39.69H33.298a.171.171 0 01-.18-.15v-1.18a.171.171 0 01.18-.15h14.609a.17.17 0 01.18.15v1.18a.17.17 0 01-.18.15z\"\n\t\t\t\ttransform=\"matrix(.66405 0 0 .66405 -11.983 -12.36)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M47.987 33.74H33.218c-.05 0-.1-.06-.1-.14v-1.15c0-.08 0-.14.1-.14h14.769c.05 0 .1.06.1.14v1.15c0 .08-.05.14-.1.14z\"\n\t\t\t\ttransform=\"matrix(.66405 0 0 .66405 -11.983 -12.44)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tcollapsible: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\td=\"M2.704 10.524l2.489 4.982-2.112.288-2.427-4.859a1.007 1.007 0 01.033-.963L3.042 6.31l2.349-.006-2.687 4.22z\"\n\t\t\t\ttransform=\"matrix(.9913 0 0 .9913 .014 2.663)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\td=\"M2.708 10.533l2.356 4.516-1.985.506-2.425-4.62c-.156-.311-.14-.68.041-.977l2.399-4.276 1.982.626-2.368 4.225z\"\n\t\t\t\ttransform=\"matrix(.9913 0 0 .9913 17.003 2.663)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\td=\"M23.946 1.827H.073v5.272c0 .97.688 1.757 1.536 1.757h20.8c.848 0 1.537-.787 1.537-1.757V1.827zM2.585 4.701v1.282h18.848V4.701H2.585z\"\n\t\t\t\ttransform=\"matrix(.79594 0 0 .69594 2.96 15.807)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"none\"\n\t\t\t\td=\"M1.677 12.15l18.051-.024\"\n\t\t\t\ttransform=\"matrix(.9913 0 0 .9913 .014 1.145)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\td=\"M1.678 12.655l16.964-.024a.505.505 0 10-.002-1.008l-16.963.023a.503.503 0 10.001 1.009z\"\n\t\t\t\ttransform=\"matrix(.9913 0 0 1.95234 .07 -10.66)\"\n\t\t\t></path>\n\t\t\t<g fill=\"#C90813\">\n\t\t\t\t<path\n\t\t\t\t\td=\"M22.199 1.221A1.36 1.36 0 0020.84-.138H4.39a1.36 1.36 0 00-1.359 1.359v5.666h19.168V1.221zM6.547 2.789H4.499v1.095h2.048V2.789zm6.495 0H7.633v1.095h5.409V2.789zm4.593 2.779l2.091-2.881-4.152.012 2.061 2.869z\"\n\t\t\t\t\ttransform=\"matrix(.9913 0 0 .9913 .014 2.137)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\td=\"M22.199 1.221A1.36 1.36 0 0020.84-.138H4.39a1.36 1.36 0 00-1.359 1.359v5.666h19.168V1.221zM21.19 5.878V1.221a.35.35 0 00-.35-.351H4.39a.35.35 0 00-.35.351v.67a.997.997 0 01.459-.111h2.048c.2 0 .386.058.543.159a.997.997 0 01.543-.159h5.409c.558 0 1.009.452 1.009 1.009v1.095c0 .557-.451 1.009-1.009 1.009H7.633a.997.997 0 01-.543-.159.999.999 0 01-.543.159H4.499a.997.997 0 01-.459-.111v1.096h12.576l-1.862-2.59a1.01 1.01 0 01.817-1.597l4.152-.013a1.008 1.008 0 01.819 1.602l-1.886 2.598h2.534zm-3.555-.31l2.091-2.881-4.152.012 2.061 2.869zM6.547 2.789H4.499v1.095h2.048V2.789zm6.495 0H7.633v1.095h5.409V2.789z\"\n\t\t\t\t\ttransform=\"matrix(.9913 0 0 .9913 .014 2.137)\"\n\t\t\t\t></path>\n\t\t\t</g>\n\t\t</Fragment>\n\t),\n\tcollapsiblecontrol: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M33.923 58.23h5.517v16.194h-5.517v5.647h-5.501v-5.647H23V58.23h5.422V30.639h5.501V58.23zm-8.289 2.685v10.839H36.65V60.915H25.634z\"\n\t\t\t\ttransform=\"matrix(.4074 0 0 .4074 -8.496 -8.394) rotate(90 47.334 52.398) scale(.89256)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M33.923 58.23h5.517v16.194h-5.517v5.647h-5.501v-5.647H23V58.23h5.422V30.639h5.501V58.23zm-8.289 2.685v10.839H36.65V60.915H25.634z\"\n\t\t\t\ttransform=\"matrix(.4074 0 0 .4074 -8.496 -8.394) rotate(90 30.162 69.57) scale(.89256)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M33.923 58.23h5.517v16.194h-5.517v5.647h-5.501v-5.647H23V58.23h5.422V30.639h5.501V58.23zm-8.289 2.685v10.839H36.65V60.915H25.634z\"\n\t\t\t\ttransform=\"matrix(.4074 0 0 .4074 -8.496 -8.394) matrix(0 .89256 .89256 0 .916 22.24)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tdrawer: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\td=\"M12.53 11.574l.711 1.421h-1.422l.711-1.421z\"\n\t\t\t\ttransform=\"matrix(2.90833 0 0 1.41188 -24.448 -5.329)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M44.929 32.44H27.175a.13.13 0 01-.12-.13v-1.16l-.002-.02c0-.068.054-.126.122-.13h17.754a.13.13 0 01.12.13v1.18a.13.13 0 01-.12.13z\"\n\t\t\t\ttransform=\"translate(-11.728 -11.386) scale(.65892)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M44.929 32.44H27.175a.13.13 0 01-.12-.13v-1.16l-.002-.02c0-.068.054-.126.122-.13h17.754a.13.13 0 01.12.13v1.18a.13.13 0 01-.12.13z\"\n\t\t\t\ttransform=\"translate(-11.728 -13.38) scale(.65892)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M44.929 32.44H27.175a.13.13 0 01-.12-.13v-1.16l-.002-.02c0-.068.054-.126.122-.13h17.754a.13.13 0 01.12.13v1.18a.13.13 0 01-.12.13z\"\n\t\t\t\ttransform=\"translate(-11.728 -15.424) scale(.65892)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M23.32 1.037H.667a.661.661 0 00-.659.658v20.647c0 .361.297.659.659.659H23.32a.662.662 0 00.659-.659V1.695a.661.661 0 00-.659-.658zm-2.402 19.981h-6.882c-.032 0-.054-.049-.054-.106v-.808c0-.057 0-.107.054-.107h6.882c.032 0 .054.05.054.107v.808c0 .057-.022.106-.054.106zm-9.171-.989H2.661s-.054 0-.062-.084a.182.182 0 010-.13l2.868-3.336a.049.049 0 01.039-.02c.015 0 .029.007.039.02l1.912 2.239 1.554-1.552c.02-.02.05-.02.07 0l2.666 2.649v.13c0 .056.031.084 0 .084zm9.171-1.005h-6.882c-.032 0-.054-.05-.054-.107v-.808c0-.057 0-.106.054-.106h6.882c.032 0 .054.049.054.106v.808c0 .057-.022.107-.054.107zm0-2.004h-6.882c-.032 0-.054-.05-.054-.107v-.808c0-.057 0-.106.054-.106h6.882c.032 0 .054.049.054.106v.808c0 .057-.022.107-.054.107zm1.109-4.021H1.973V2.997h20.054v10.002z\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\thtml: (\n\t\t<Fragment>\n\t\t\t<g>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M53.19 23.864H18.81c-.549 0-1 .451-1 1v22.255c0 .549.451 1 1 1h34.38c.549 0 1-.451 1-1V24.864c0-.549-.451-1-1-1zm-1.965 21.262H20.801V26.897h30.424v18.229z\"\n\t\t\t\t\ttransform=\"translate(-11.734 -11.734) scale(.65929)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M.055-.226v-.049c0-.009.005-.017.015-.022L.432-.5c.005-.003.01-.002.015.001.005.004.008.01.008.018v.06C.455-.413.45-.406.44-.4l-.267.146C.171-.253.17-.252.17-.25s.001.003.003.004L.44-.1c.01.006.015.013.015.021v.06c0 .008-.002.014-.007.017C.442.001.437.002.432 0L.07-.204C.06-.209.055-.217.055-.226z\"\n\t\t\t\t\ttransform=\"translate(2.72 15.411) scale(13.0482)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M.098-.016l.266-.679C.367-.705.373-.71.383-.71h.052c.007 0 .012.003.015.009.004.005.004.012.001.019l-.264.679C.184.007.177.012.166.012H.114A.02.02 0 01.098.004a.023.023 0 010-.02z\"\n\t\t\t\t\ttransform=\"matrix(13.0482 0 0 9.8855 8.386 15.577)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M.095-.019v-.06C.095-.087.1-.094.11-.1l.267-.146c.005-.003.005-.005 0-.008L.11-.4C.1-.406.095-.413.095-.421v-.06c0-.008.003-.014.008-.018.005-.003.01-.004.015-.001l.362.203c.01.005.015.013.015.022v.049c0 .009-.005.017-.015.022L.118 0C.114.003.109.002.103-.001a.022.022 0 01-.008-.018z\"\n\t\t\t\t\ttransform=\"translate(13.794 15.411) scale(13.0482)\"\n\t\t\t\t></path>\n\t\t\t</g>\n\t\t</Fragment>\n\t),\n\tintroparagraph: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M53.19 23.864H18.81c-.549 0-1 .451-1 1v22.255c0 .549.451 1 1 1h34.38c.549 0 1-.451 1-1V24.864c0-.549-.451-1-1-1zm-1.965 21.262H20.801V26.897h30.424v18.229z\"\n\t\t\t\ttransform=\"translate(-11.734 -11.734) scale(.65929)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M29.84 36.28h-2.06l-.39 1.09h-1.24l2-5.34h1.38l2 5.34h-1.3l-.39-1.09zm-1.67-1.08h1.29l-.64-1.84-.65 1.84z\"\n\t\t\t\ttransform=\"translate(-21.386 -22.287) scale(.97221)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46 35.58H32.486a.17.17 0 01-.17-.15v-1.18a.17.17 0 01.17-.15H46a.17.17 0 01.17.15v1.18a.17.17 0 01-.17.15z\"\n\t\t\t\ttransform=\"matrix(.7184 0 0 .65929 -13.183 -11.493)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46 38.64H32.486a.17.17 0 01-.17-.15v-1.18a.17.17 0 01.17-.15H46a.17.17 0 01.17.15v1.18a.17.17 0 01-.17.15z\"\n\t\t\t\ttransform=\"matrix(.7184 0 0 .65929 -13.183 -11.483)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M45.86 41.53H26.14c-.15 0-.27-.07-.27-.15V40.2c0-.08.12-.15.27-.15h19.72c.15 0 .27.07.27.15v1.18c0 .08-.13.15-.27.15z\"\n\t\t\t\ttransform=\"matrix(.78492 0 0 .65929 -16.252 -11.388)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46 32.69H32.416c-.06 0-.1-.06-.1-.14V31.4c0-.08 0-.14.1-.14H46c.06 0 .1.06.1.14v1.15c.03.08-.01.14-.1.14z\"\n\t\t\t\ttransform=\"matrix(.7184 0 0 .65929 -13.183 -11.59)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tlisticle: (\n\t\t<Fragment>\n\t\t\t<g>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M46.826 41.08l.03-17.471-.03-.076c0-.222-.068-.58-.418-.729-.437-.186-1.253-.141-1.508-.141h1.7H23.552a.875.875 0 00-.87.87V45.9c0 .483.397.88.88.88H39.76c.704 1.631 2.318 2.793 4.095 2.793 2.447 0 4.46-2.014 4.46-4.46 0-1.723-.176-2.431-1.499-4.033h.01zm-7.335 2.875l-14.101.086V25.343H44V40.65h-.16c-2.437.011-3.85 1.629-4.349 3.325v-.02zM46 44.67h-.7l-.25.92h.7l-.19.68h-.7l-.19.69H44l.19-.69h-.93l-.19.69h-.7l.19-.69h-.7l.18-.68h.7l.25-.92h-.7l.19-.69h.7l.19-.69h.7l-.19.69h.94l.18-.69h.7l-.18.69h.7l-.22.69z\"\n\t\t\t\t\ttransform=\"matrix(.70137 0 0 .70137 -12.86 -12.819)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M40.43 30.43h-9s-.07-.07-.07-.14v-1.15c0-.08 0-.14.07-.14h9s.07.06.07.14v1.15c0 .07-.03.14-.07.14z\"\n\t\t\t\t\ttransform=\"matrix(.76098 0 0 1.40315 -14.824 -33.72)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M40.43 30.43h-9s-.07-.07-.07-.14v-1.15c0-.08 0-.14.07-.14h9s.07.06.07.14v1.15c0 .07-.03.14-.07.14z\"\n\t\t\t\t\ttransform=\"matrix(.76098 0 0 1.40315 -14.824 -30.682)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M40.43 30.43h-9s-.07-.07-.07-.14v-1.15c0-.08 0-.14.07-.14h9s.07.06.07.14v1.15c0 .07-.03.14-.07.14z\"\n\t\t\t\t\ttransform=\"matrix(.76098 0 0 1.40315 -14.824 -27.682)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M29.753 30.43H29a1.09 1.09 0 010-.14v-1.15a1.09 1.09 0 010-.14h.753a.818.818 0 010 .14v1.15a1.09 1.09 0 010 .14z\"\n\t\t\t\t\ttransform=\"translate(-33.525 -33.475) scale(1.39576)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M29.753 30.43H29a1.09 1.09 0 010-.14v-1.15a1.09 1.09 0 010-.14h.753a.818.818 0 010 .14v1.15a1.09 1.09 0 010 .14z\"\n\t\t\t\t\ttransform=\"translate(-33.525 -30.438) scale(1.39576)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M29.753 30.43H29a1.09 1.09 0 010-.14v-1.15a1.09 1.09 0 010-.14h.753a.818.818 0 010 .14v1.15a1.09 1.09 0 010 .14z\"\n\t\t\t\t\ttransform=\"translate(-33.525 -27.438) scale(1.39576)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\td=\"M43.45 45.59h.94l.25-.92h-.94l-.25.92z\"\n\t\t\t\t\ttransform=\"matrix(.70137 0 0 .70137 -12.86 -12.819)\"\n\t\t\t\t></path>\n\t\t\t</g>\n\t\t</Fragment>\n\t),\n\tmodal: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M53.19 23.916H18.81c-.549 0-1 .451-1 1v28.385c0 .549.451 1 1 1h34.38c.549 0 1-.451 1-1V24.916c0-.549-.451-1-1-1zm-31.543 1.988c1.063 0 1.937.874 1.937 1.936a1.946 1.946 0 01-1.937 1.936 1.945 1.945 0 01-1.936-1.936c0-1.062.874-1.936 1.936-1.936zm29.67 25.398H20.814V31.52h30.503v19.782z\"\n\t\t\t\ttransform=\"matrix(.65893 0 0 .65893 -11.74 -13.775)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46.5 39.4H33.87l-.02.001a.15.15 0 01-.15-.15V38.07a.16.16 0 01.16-.15H46.5a.17.17 0 01.17.15v1.18a.16.16 0 01-.16.15h-.01z\"\n\t\t\t\ttransform=\"matrix(.61639 0 0 .61639 -9.754 -12.36)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46.5 39.4H33.87l-.02.001a.15.15 0 01-.15-.15V38.07a.16.16 0 01.16-.15H46.5a.17.17 0 01.17.15v1.18a.16.16 0 01-.16.15h-.01z\"\n\t\t\t\ttransform=\"matrix(1.15771 0 0 .61639 -35.018 -6.373)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46.5 42.46H33.87l-.02.001a.15.15 0 01-.15-.141v-1.18-.001a.15.15 0 01.15-.15l.02.001h12.64a.16.16 0 01.16.15v1.18a.16.16 0 01-.17.14z\"\n\t\t\t\ttransform=\"matrix(.61639 0 0 .61639 -9.754 -12.25)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46.57 36.52H33.8c-.06 0-.1-.07-.1-.15v-1.14c0-.08 0-.15.1-.15h12.77c.06 0 .1.07.1.15v1.14c0 .08-.04.15-.1.15z\"\n\t\t\t\ttransform=\"matrix(.61639 0 0 .61639 -9.754 -12.587)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M46.57 36.52H33.8c-.06 0-.1-.07-.1-.15v-1.14c0-.08 0-.15.1-.15h12.77c.06 0 .1.07.1.15v1.14c0 .08-.04.15-.1.15z\"\n\t\t\t\ttransform=\"matrix(1.15771 0 0 .61639 -35.018 -6.6)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M30.87 42.68h-6.6a.603.603 0 01-.6-.6v-6.61c0-.329.271-.6.6-.6h6.6c.329 0 .6.271.6.6v6.61c0 .329-.271.6-.6.6zm-5.721-6.394v4.875h5.121\"\n\t\t\t\ttransform=\"matrix(.63676 0 0 .63676 -11.042 -13.222)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\trelated: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M19.14 43.07h16.69v-2.83H22v-8.47h4.27v2.62l6.68-3.87-6.68-3.88v2.29h-7.1l-.03 14.14zM39.08 41.48l6.68 3.88v-2.29h7.1V28.93H36.17v2.84H50v8.47h-4.24v-2.63l-6.68 3.87z\"\n\t\t\t\ttransform=\"translate(-13.621 -13.611) scale(.71105)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tstat: (\n\t\t<Fragment>\n\t\t\t<g>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\td=\"M11.726 6.382a.318.318 0 00-.301.318v5.456c0 .176.142.319.319.319h5.259a.32.32 0 00.318-.289 5.316 5.316 0 00-5.595-5.804zm1.037 1.553v3.174l2.669-.004c.002-.032.16.021.16-.029 0-.863-1.141-3.13-2.829-3.141z\"\n\t\t\t\t\ttransform=\"translate(-4.386 -6.959) scale(1.4387)\"\n\t\t\t\t></path>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#C90813\"\n\t\t\t\t\tstroke=\"#C90813\"\n\t\t\t\t\tstrokeWidth=\"0.27\"\n\t\t\t\t\td=\"M11.759 11.207l5.209.026s-.011 1.285-.022 1.345a4.999 4.999 0 01-4.916 4.104 4.997 4.997 0 01-4.995-4.995c0-2.661 2.095-4.866 4.718-5.015l.006 4.535z\"\n\t\t\t\t\ttransform=\"translate(-7.345 -3.52) scale(1.47642)\"\n\t\t\t\t></path>\n\t\t\t</g>\n\t\t</Fragment>\n\t),\n\tbuniverse: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M53.78 24.16H19.39c-.549 0-1 .451-1 1v22.259c0 .549.451 1 1 1h34.39c.549 0 1-.451 1-1V25.16c0-.549-.451-1-1-1zm-1.973 21.261H21.394V27.21h30.413v18.211z\"\n\t\t\t\ttransform=\"matrix(.65856 0 0 .65856 -12.098 -11.908)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M39.719 36.32l-6.111-3.565v7.09l6.111-3.525z\"\n\t\t\t\ttransform=\"matrix(.97342 0 0 .97342 -23.102 -23.285)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\theadline: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M36 48.4c-6.802 0-12.4-5.598-12.4-12.4 0-6.802 5.598-12.4 12.4-12.4 6.802 0 12.4 5.598 12.4 12.4-.011 6.798-5.602 12.389-12.4 12.4zm0-22.314c-5.439 0-9.914 4.475-9.914 9.914s4.475 9.914 9.914 9.914 9.914-4.475 9.914-9.914-4.475-9.914-9.914-9.914z\"\n\t\t\t\ttransform=\"matrix(.967 0 0 .967 -22.812 -22.812)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M.157 0h.329v-.08L.407-.097v-.5h.097l.033.127h.095L.623-.693H.02L.011-.47h.096l.032-.127h.097v.5L.157-.08V0z\"\n\t\t\t\ttransform=\"matrix(12.4549 0 0 13.538 7.997 16.96)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tphotoessay: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M52.305 24.16H18.81c-.549 0-1 .451-1 1v21.68c0 .549.451 1 1 1h33.495c.549 0 1-.451 1-1V25.16c0-.549-.451-1-1-1zm-18.186 2.968v7.36H20.756v-7.36h13.363zm-13.363 10.38h13.363v7.41m16.282-.037H37.067l.009-17.753H50.4l.001 17.753z\"\n\t\t\t\ttransform=\"matrix(.67517 0 0 .67517 -12.02 -12.31)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M49.106 37.477h-10s-.07 0-.08-.09a.21.21 0 010-.14l3.09-4.622a.06.06 0 01.09 0l2.2 3.442 1.71-1.67a.059.059 0 01.08 0l2.92 2.84a.215.215 0 010 .15c.06.05.03.09-.01.09z\"\n\t\t\t\ttransform=\"matrix(.67517 0 0 .67517 -12.02 -12.31)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tbutton: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M45.283 27.5H26.779c-4.33 0-7.85 3.81-7.85 8.5 0 4.69 3.52 8.5 7.85 8.5h18.504c4.33 0 7.85-3.81 7.85-8.5 0-4.69-3.52-8.5-7.85-8.5zm-5.493 6.89L36.28 38l-1.06 1a.253.253 0 01-.18.08.25.25 0 01-.17-.08l-2.66-2.65a.29.29 0 01-.07-.18.24.24 0 01.07-.17l1.07-1a.25.25 0 01.17-.08c.068.001.133.03.18.08L35 36.37 38.37 33a.253.253 0 01.18-.08.25.25 0 01.17.08l1.07 1a.281.281 0 01.07.17.289.289 0 01-.07.22z\"\n\t\t\t\ttransform=\"translate(-13.32 -13.32) scale(.70331)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tpullquote: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M33.25 36.3a1.605 1.605 0 01-1.35-1.63v-.034c0-.954.785-1.74 1.74-1.74.036 0 .073.002.11.004 1.24 0 2 1 2 2.41 0 2.08-1.38 3.61-3.89 3.79v-.7c1.42-.24 2.28-1 2.38-2.1h-.99zm4.46 0a1.605 1.605 0 01-1.35-1.63v-.022A1.758 1.758 0 0138.2 32.9c1.25 0 2 1 2 2.41 0 2.08-1.37 3.61-3.88 3.79v-.7c1.45-.24 2.28-1 2.41-2.1h-1.02z\"\n\t\t\t\ttransform=\"translate(-29.48 -29.524) scale(1.15278)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M36 48.4c-6.802 0-12.4-5.598-12.4-12.4 0-6.802 5.598-12.4 12.4-12.4 6.802 0 12.4 5.598 12.4 12.4-.011 6.798-5.602 12.389-12.4 12.4zm0-21.879c-5.2 0-9.479 4.279-9.479 9.479 0 5.2 4.279 9.479 9.479 9.479 5.2 0 9.479-4.279 9.479-9.479 0-5.2-4.279-9.479-9.479-9.479z\"\n\t\t\t\ttransform=\"matrix(.96695 0 0 .96695 -22.786 -22.835)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n\tleadin: (\n\t\t<Fragment>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M52.297 24.16H18.81c-.549 0-1 .451-1 1v21.68c0 .549.451 1 1 1h33.487c.548 0 1-.451 1-1V25.16c0-.549-.452-1-1-1zM35.553 44.889H20.775V27.094h14.778v17.795zm15.327-7.378H38.656s-.086 0-.098-.11a.264.264 0 010-.171l3.827-4.375a.073.073 0 01.11 0l2.657 2.937 2.084-2.035a.072.072 0 01.097 0l3.559 3.461a.262.262 0 010 .183c.073.061.037.11-.012.11z\"\n\t\t\t\ttransform=\"matrix(.67528 0 0 .67528 -12.017 -12.301)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M30.455 37.467h-6.573c-.05 0-.292-.07-.292-.15v-.457c0-.08.202-.14.292-.14h6.573c.06 0 .435.06.435.14v.457c0 .08-.375.15-.435.15z\"\n\t\t\t\ttransform=\"matrix(1.08994 0 0 1.35704 -22.73 -37.816)\"\n\t\t\t></path>\n\t\t\t<path\n\t\t\t\tfill=\"#C90813\"\n\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\td=\"M30.505 35.28h-6.663s-.252-.06-.252-.14v-.399c0-.08.202-.15.252-.15h6.663s.385.07.385.15v.399c0 .08-.355.14-.385.14z\"\n\t\t\t\ttransform=\"matrix(1.08994 0 0 1.3643 -22.686 -37.155)\"\n\t\t\t></path>\n\t\t</Fragment>\n\t),\n};\n\n// Get the internal paths/shapes of the\n// icon, else return default brick icon.\nconst getIcon = function ( name ) {\n\tif ( icons[ name ] ) {\n\t\treturn icons[ name ];\n\t} else {\n\t\treturn icons[ 'default' ];\n\t}\n};\n\n// exported component function for use\n// in Blocks to retrieve an icon by name.\nconst blockIcons = function ( name ) {\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfillRule=\"evenodd\"\n\t\t\tstrokeLinejoin=\"round\"\n\t\t\tstrokeMiterlimit=\"2\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t>\n\t\t\t{ getIcon( name ) }\n\t\t</svg>\n\t);\n};\n\n// Export the blockIcons function.\nexport default blockIcons;\n","/**\n * BLOCK: bu-headline-cgb\n *\n * A headline with anchor support and pre- and post-text formatting options.\n */\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Import internal dependencies.\nimport HeadingToolbar from './heading-toolbar';\nimport './pretext-format.js';\nimport './posttext-format.js';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Fragment } = wp.element;\nconst { PanelBody } = wp.components;\nconst { RichText, BlockControls, InspectorControls } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { select } = wp.data;\n\n// Populate selectors that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst { getBlocks } =\n\t'undefined' === typeof select( 'core/block-editor' )\n\t\t? select( 'core/editor' )\n\t\t: select( 'core/block-editor' );\n\n// Register the block.\nregisterBlockType( 'editorial/headline', {\n\ttitle: __( 'Headline' ),\n\tdescription: __(\n\t\t'Add a section heading with an anchor and pre- and post-text formatting options.'\n\t),\n\ticon: blockIcons( 'headline' ),\n\tcategory: 'bu-editorial',\n\tsupports: {\n\t\tanchor: true,\n\t},\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-headline',\n\t\t},\n\t\tlevel: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2,\n\t\t},\n\t\tanchor: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tattribute: 'id',\n\t\t\tselector: '.wp-block-editorial-headline',\n\t\t},\n\t},\n\tstyles: [\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: __( 'Regular' ),\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'emphasis-weight',\n\t\t\tlabel: __( 'Emphasize weight' ),\n\t\t},\n\t\t{\n\t\t\tname: 'emphasis-color',\n\t\t\tlabel: __( 'Emphasize color' ),\n\t\t},\n\t],\n\n\tedit( props ) {\n\t\tconst { attributes, setAttributes, className } = props;\n\t\tconst { content, level, anchor } = attributes;\n\t\tconst tagName = 'h' + level;\n\n\t\t/**\n\t\t * August 2023: Disabling this Anchor ID Generator as it is creating duplicate anchor ids on all headings if:\n\t\t * - Headline blocks are duplicated, resulting in duplicate anchors\n\t\t * - When Headline blocks are child blocks of other blocks they aren't included in the count using the current getBlocks() method.\n\t\t * - Duplicate anchors are a problem for SiteImprove and cause us to fail accessibility checks. Better to force users to manually insert ids.\n\t\t * - Core Gutenberg is considering a new feature to support unique non-duplicatable attributes: https://github.com/WordPress/gutenberg/issues/29693\n\t\t */\n\t\t// Generate an index-based value for the anchor attribute if it is not set.\n\t\t// if ( ! anchor ) {\n\t\t// \tconst headlineBlocks = getBlocks().filter( e => e.name === 'editorial/headline' );\n\t\t// \tconst id = 'headline-' + ( headlineBlocks.length );\n\n\t\t// \tsetAttributes( { anchor: id } );\n\t\t// }\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Help' ) } initialOpen={ false }>\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<strong>PreText and PostText Formats</strong>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\tThese formats are intended to style text such as\n\t\t\t\t\t\t\t\t\"Chapter 3:\" as part of a headline text either\n\t\t\t\t\t\t\t\tbefore or after the main Headline text. Enter\n\t\t\t\t\t\t\t\tthe Headline and then select text in the\n\t\t\t\t\t\t\t\theadline and apply a pre or post text format\n\t\t\t\t\t\t\t\tfrom the Format Control Toolbar on the block.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<strong>Emphasis Color & Weight</strong>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\tEmphasis Color and Emphasis weight can be\n\t\t\t\t\t\t\t\tselectively applied to a word(s) by selecting\n\t\t\t\t\t\t\t\tthose characters and applying a{ ' ' }\n\t\t\t\t\t\t\t\t<strong>Bold</strong> style. The color or weight\n\t\t\t\t\t\t\t\tchange will apply to any bold text inside the\n\t\t\t\t\t\t\t\tHeadline tag.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<HeadingToolbar\n\t\t\t\t\t\tminLevel={ 1 }\n\t\t\t\t\t\tmaxLevel={ 7 }\n\t\t\t\t\t\tselectedLevel={ level }\n\t\t\t\t\t\tonChange={ ( newLevel ) =>\n\t\t\t\t\t\t\tsetAttributes( { level: newLevel } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\n\t\t\t\t\tplaceholder={ __( 'Write headline' ) }\n\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t[ 'pretext', 'posttext', 'bold', 'italic' ]\n\t\t\t\t\t) }\n\t\t\t\t\tallowedFormats={ getAllowedFormats( 'allowedFormats', [\n\t\t\t\t\t\t'editorial/pretext',\n\t\t\t\t\t\t'editorial/posttext',\n\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t] ) }\n\t\t\t\t\twithoutInteractiveFormats={ true }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { content, level } = attributes;\n\t\tconst tagName = 'h' + level;\n\n\t\treturn <RichText.Content tagName={ tagName } value={ content } />;\n\t},\n} );\n","/**\n * Registers a variation of a block with a preset template.\n */\n\n// WordPress dependencies.\nconst { registerBlockType } = wp.blocks;\nconst { createElement } = wp.element;\nconst { addFilter } = wp.hooks;\n\n/**\n * Register a preset variation of a given block.\n *\n * @param {Object} originalBlock  Block type to build preset variation from.\n * @param {Object} presetTemplate Template to apply.\n *\n * @return {Object} Filtered props applied to save element.\n */\nconst RegisterBlockPreset = ( originalBlock, presetTemplate ) => {\n\tconst { name, title, edit, save } = originalBlock;\n\tconst presetBlock = Object.assign( {}, originalBlock );\n\tconst nameParts = name.split( '/' );\n\n\t// Filter the classname of the preset block to match the default block.\n\tconst filterBlockClassName = ( className, blockName ) => {\n\t\tif ( presetBlock.name === blockName ) {\n\t\t\tclassName = className.replace( /-preset/i, '' );\n\t\t}\n\n\t\treturn className;\n\t};\n\n\tpresetBlock.name = nameParts[ 0 ] + '-preset/' + nameParts[ 1 ];\n\tpresetBlock.title = title + ' (preset)';\n\tpresetBlock.category = 'bu-editorial-presets';\n\tpresetBlock.save = save;\n\n\t// Add a `presetTemplate` property to the default block's edit component.\n\tpresetBlock.edit = function ( props ) {\n\t\treturn createElement(\n\t\t\tedit,\n\t\t\tObject.assign( props, { presetTemplate: presetTemplate } )\n\t\t);\n\t};\n\n\t// Register the preset variation of the default block.\n\tregisterBlockType( presetBlock.name, presetBlock );\n\n\t// Filter the classname of the preset block to match the default block.\n\taddFilter(\n\t\t'blocks.getBlockDefaultClassName',\n\t\t'bu-blocks/preset-block-class-name/',\n\t\tfilterBlockClassName\n\t);\n};\n\nexport default RegisterBlockPreset;\n","/**\n * Component: publicationSlug\n *\n * Returns a filterable string representing the current content's publication.\n */\n\nconst { applyFilters } = wp.hooks;\n\n// Return the publication owner for a block if\n// one is available in the DOM.\nconst publicationSlug = () => {\n\tlet publication = document.getElementById( 'bu_publication_owner' );\n\tlet publicationSlug = 'bu-blocks';\n\n\tif ( null !== publication ) {\n\t\tpublicationSlug = publication.value;\n\t}\n\n\treturn applyFilters( 'buBlocks.global.publicationSlug', publicationSlug );\n};\n\nexport default publicationSlug;\n","/**\n * Adds an array of color objects to the editor or theme defaults,\n * and returns it for passing to the `colors` prop.\n */\n\n// WordPress dependencies.\nconst { select, dispatch } = wp.data;\n\nconst { getEditorSettings } = select( 'core/editor' );\n\nconst { updateEditorSettings } = dispatch( 'core/editor' );\n\n// Populate selectors that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst {\n\tgetSettings, // Note that getSettings is _not_ available until WordPress 5.2 and will be undefined otherwise.\n} =\n\t'undefined' === typeof select( 'core/block-editor' )\n\t\t? select( 'core/editor' )\n\t\t: select( 'core/block-editor' );\n\n// Populate actions that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst {\n\tupdateSettings, // Note that updateSettings is _not_ available until WordPress 5.2 and will be undefined otherwise.\n} =\n\t'undefined' === typeof dispatch( 'core/block-editor' )\n\t\t? dispatch( 'core/editor' )\n\t\t: dispatch( 'core/block-editor' );\n\nimport publicationSlug from './publication-slug';\n\nconst themeOptions = () => {\n\tlet defaultColors;\n\n\t// Get the default colors as set by the block editor and in the theme\n\t// through `add_theme_support()`.\n\t//\n\t// getSettings is used in WordPress 5.2 and later.\n\t// getEditorSettings is used in WordPress 4.9 + Gutenberg.\n\tif ( 'undefined' === typeof getSettings ) {\n\t\tdefaultColors = getEditorSettings().colors;\n\t} else {\n\t\tdefaultColors = getSettings().colors;\n\t}\n\n\t// Get default theme color options set by the active theme through the\n\t// `block_editor_settings` filter in PHP.\n\tconst defaultThemes = getEditorSettings().buDefaultThemes;\n\n\t// Get publication specific color options set by the active theme through\n\t// the `block_editor_settings` filter in PHP.\n\tconst publicationThemes = getEditorSettings().buPublicationThemes;\n\n\t// Retrieve the current publication from the DOM.\n\tconst publication = publicationSlug();\n\n\t// Populate the final `themeOptions` from the current publication, if the exist.\n\t// If not, use the default options.\n\tconst themeOptions =\n\t\tpublicationThemes && publicationThemes[ publication ]\n\t\t\t? publicationThemes[ publication ]\n\t\t\t: defaultThemes;\n\n\t/**\n\t * Add custom color objects to the defaults if they haven't already been added.\n\t *\n\t * Gutenberg returns a complete color object only if it is found in colors,\n\t * otherwise only the the hex code is returned.\n\t *\n\t * @see https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/colors/utils.js#L7.\n\t */\n\tif (\n\t\tthemeOptions &&\n\t\t! themeOptions.some( ( v ) => defaultColors.includes( v ) )\n\t) {\n\t\tconst newColors = defaultColors.concat( themeOptions );\n\n\t\t// Update both the editor settings and general settings so that when a color\n\t\t// is chosen, the value is one of those expected by the component.\n\t\tupdateEditorSettings( { colors: newColors } );\n\n\t\t// In WordPress 5.2 and alter, the settings should be updated outside of the\n\t\t// editor too, through updateSettings.\n\t\tif ( 'undefined' !== typeof updateSettings ) {\n\t\t\tupdateSettings( { colors: newColors } );\n\t\t}\n\t}\n\n\t// Return the array of custom color objects for passing to the `colors` prop.\n\treturn themeOptions;\n};\n\nexport default themeOptions;\n","/**\n * Component: allowedBlocks\n *\n * Returns a filterable list of blocks to allow within BU layout-type blocks.\n *\n * This list is used for the Aside, Drawer, and Modal blocks.\n */\n\n// WordPress dependencies.\nconst { getBlockTypes } = wp.blocks;\nconst { applyFilters } = wp.hooks;\n\n// Blocks to exclude from allowedBlocks array for layout-type blocks.\nlet excludeBlocks = [\n\t'bu/leadin',\n\t'core/more',\n\t'core/nextpage',\n\t'core/separator',\n\t'core/spacer',\n\t'editorial/aside',\n\t'editorial/drawer',\n\t'editorial/modal',\n\t'editorial-preset/aside',\n];\n\n// Returns a list of all block namess except those in the excludeBlocks array.\nconst allowedBlocks = () => {\n\texcludeBlocks = applyFilters(\n\t\t'buBlocks.layoutBlockTypes.excludeBlocks',\n\t\texcludeBlocks\n\t);\n\n\tconst allowed = getBlockTypes().map( ( { name } ) => {\n\t\tif ( name && ! excludeBlocks.includes( name ) ) {\n\t\t\treturn name;\n\t\t}\n\t} );\n\n\treturn allowed;\n};\n\n// Export the allowedBlocks function.\nexport default allowedBlocks;\n","/**\n * Edit function for the aside block.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Internal dependencies.\nimport themeOptions from '../../global/theme-options.js';\nimport allowedBlocks from '../../components/allowed-blocks';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { Component, Fragment } = wp.element;\nconst { compose } = wp.compose;\nconst {\n\tInnerBlocks,\n\tInspectorControls,\n\tPanelColorSettings,\n\twithColors,\n\tuseBlockProps,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\nconst BUAsideEdit = ( props ) => {\n\tconst { attributes, className, themeColor, setThemeColor, presetTemplate } =\n\t\tprops;\n\n\tconst classes = classnames( className, {\n\t\t[ `has-${ themeColor.slug }-background` ]: themeColor.slug,\n\t} );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t} );\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelColorSettings\n\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: themeColor.color,\n\t\t\t\t\t\t\tonChange: setThemeColor,\n\t\t\t\t\t\t\tlabel: __( 'Theme' ),\n\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<aside { ...blockProps }>\n\t\t\t\t<InnerBlocks\n\t\t\t\t\tallowedBlocks={ allowedBlocks() }\n\t\t\t\t\ttemplate={ presetTemplate }\n\t\t\t\t/>\n\t\t\t</aside>\n\t\t</Fragment>\n\t);\n};\n\nexport default compose( [ withColors( 'themeColor' ) ] )( BUAsideEdit );\n","/**\n * BLOCK: bu-aside-cgb\n *\n * A container for related information that accepts image,\n * headline, paragraph, and button blocks as children.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport RegisterBlockPreset from '../../global/register-block-preset.js';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { getColorClassName, InnerBlocks, useBlockProps } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n// Internal dependencies.\nimport edit from './edit.js';\n\n// Register the block.\nconst asideBlock = registerBlockType( 'editorial/aside', {\n\tapiVersion: 2,\n\ttitle: __( 'Aside' ),\n\tdescription: __(\n\t\t'Add an aside with related information. Accepts image, headline, paragraph, and button blocks as children.'\n\t),\n\ticon: blockIcons( 'aside' ),\n\tcategory: 'bu-editorial',\n\tsupports: {\n\t\talign: [ 'left', 'right' ],\n\t},\n\tattributes: {\n\t\tthemeColor: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\n\tedit,\n\n\tsave( { attributes, className } ) {\n\t\tconst { themeColor } = attributes;\n\n\t\tconst classes = classnames( className, {\n\t\t\t[ getColorClassName( 'background', themeColor ) ]:\n\t\t\t\tgetColorClassName( 'background', themeColor ),\n\t\t} );\n\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: classes,\n\t\t} );\n\n\t\treturn (\n\t\t\t<aside { ...blockProps }>\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</aside>\n\t\t);\n\t},\n} );\n\nconst presetTemplate = [\n\t[ 'core/image' ],\n\t[ 'core/heading', { placeholder: 'Enter aside title' } ],\n\t[ 'core/paragraph', { placeholder: 'Enter aside content' } ],\n\t[ 'core/button' ],\n];\n\nRegisterBlockPreset( asideBlock, presetTemplate );\n","/**\n * The background component attributes.\n */\n\nconst BackgroundAttributes = {\n\tbackgroundId: {\n\t\ttype: 'number',\n\t},\n\tbackgroundType: {\n\t\ttype: 'string',\n\t},\n\tbackgroundUrl: {\n\t\ttype: 'string',\n\t},\n\tbackgroundOpacity: {\n\t\ttype: 'number',\n\t\tdefault: 100,\n\t},\n\tbackgroundAlt: {\n\t\ttype: 'string',\n\t},\n\tbackgroundCaption: {\n\t\ttype: 'string',\n\t},\n\tbackgroundAutoplay: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n};\n\nexport default BackgroundAttributes;\n","/**\n * Component: background controls\n */\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\n\nconst { Fragment } = wp.element;\n\nconst {\n\tIconButton,\n\tPanelBody,\n\tRangeControl,\n\tTextControl,\n\tToggleControl,\n\tToolbar,\n} = wp.components;\n\nconst {\n\tBlockControls,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\nconst { useState } = wp.element;\n\nconst { getAuthority } = wp.url;\n\nconst { isBlobURL } = wp.blob;\n\nconst BackgroundControls = ( props ) => {\n\t// Destructure properties of this component with defaults.\n\tconst {\n\t\tallowedMediaTypes = [ 'image', 'video' ],\n\t\tblockProps,\n\t\tclassName = 'bu-blocks-background',\n\t\timageSize = 'full',\n\t\tinlinePlaceholder = false,\n\t\toptions = [ 'opacity' ],\n\t\tplaceholderText = __( 'Add Media' ),\n\t\tsetIsUploading,\n\t} = props;\n\n\t// Get the properties of the block using this component.\n\tconst { attributes, setAttributes } = blockProps;\n\n\t// Get the attributes for handling the background data.\n\tconst {\n\t\tbackgroundId,\n\t\tbackgroundType,\n\t\tbackgroundUrl,\n\t\tbackgroundOpacity,\n\t\tbackgroundAutoplay,\n\t} = attributes;\n\n\t// Reset attributes to undefined.\n\tconst onRemoveMedia = () => {\n\t\tsetAttributes( {\n\t\t\tbackgroundId: undefined,\n\t\t\tbackgroundType: undefined,\n\t\t\tbackgroundUrl: undefined,\n\t\t\tbackgroundAlt: undefined,\n\t\t\tbackgroundCaption: undefined,\n\t\t} );\n\t};\n\n\t// Set attributes based on the selected or uploaded media.\n\tconst onSelectMedia = ( media ) => {\n\t\tif ( ! media || ! media.url ) {\n\t\t\tonRemoveMedia();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isBlobURL( media.url ) ) {\n\t\t\tsetIsUploading( true );\n\n\t\t\tsetAttributes( { backgroundUrl: media.url } );\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet mediaType;\n\n\t\tif ( media.media_type ) {\n\t\t\t// Determine the media type from selections originating from a file upload.\n\t\t\t// Only images and videos are accepted. If the media_type is not an image,\n\t\t\t// we can assume it is a video (which contains the media type of 'file').\n\t\t\tmediaType = 'image' === media.media_type ? 'image' : 'video';\n\t\t} else {\n\t\t\t// Determine the media type from selections originating from existing files\n\t\t\t// in the media library.\n\t\t\tif ( media.type !== 'image' && media.type !== 'video' ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmediaType = media.type;\n\t\t}\n\n\t\tlet url = media.url;\n\n\t\t// Assign the block-designated size if it exists.\n\t\tif ( mediaType === 'image' && imageSize !== 'full' ) {\n\t\t\t// The first check is for images already in the media library.\n\t\t\t// The second is for newly uploaded images.\n\t\t\tif ( media.sizes && media.sizes[ imageSize ] ) {\n\t\t\t\turl = media.sizes[ imageSize ].url;\n\t\t\t} else if (\n\t\t\t\tmedia.media_details &&\n\t\t\t\tmedia.media_details.sizes[ imageSize ]\n\t\t\t) {\n\t\t\t\turl = media.media_details.sizes[ imageSize ].source_url;\n\t\t\t}\n\t\t}\n\n\t\tsetIsUploading( false );\n\n\t\tsetAttributes( {\n\t\t\tbackgroundId: media.id,\n\t\t\tbackgroundType: mediaType,\n\t\t\tbackgroundUrl: url,\n\t\t\tbackgroundAlt: media.alt,\n\t\t\tbackgroundCaption: media.caption,\n\t\t} );\n\n\t\t// If an `onChange` attribute is part of the Background component, ensure\n\t\t// that fires as expected.\n\t\tif ( 'function' === typeof props.onChange ) {\n\t\t\tprops.onChange( media, mediaType );\n\t\t}\n\t};\n\n\t// Set attributes based on a selected URL.\n\tconst onSelectURL = ( newURL ) => {\n\t\tconst allowedAuthorities = [\n\t\t\t'vimeo.com',\n\t\t\t'www.youtube.com',\n\t\t\t'youtu.be',\n\t\t\t'www.bu.edu',\n\t\t];\n\t\tconst authority = getAuthority( newURL );\n\n\t\t// Stop here if the selected URL isn't from one of the allowed domains.\n\t\tif (\n\t\t\tnewURL === backgroundUrl ||\n\t\t\t! allowedAuthorities.includes( authority )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\tbackgroundId: undefined,\n\t\t\tbackgroundType: 'url',\n\t\t\tbackgroundUrl: newURL,\n\t\t\tbackgroundAlt: undefined,\n\t\t\tbackgroundCaption: undefined,\n\t\t} );\n\t};\n\n\t// Return the media placeholder if no media has been set.\n\tconst placeholder = () => {\n\t\tif ( backgroundUrl ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn (\n\t\t\t<MediaUploadCheck>\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon=\"format-image\"\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tlabels={ {\n\t\t\t\t\t\ttitle: placeholderText,\n\t\t\t\t\t\tinstructions: __(\n\t\t\t\t\t\t\t'Drag, upload, or select a file from your library.'\n\t\t\t\t\t\t),\n\t\t\t\t\t} }\n\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\tonSelectURL={\n\t\t\t\t\t\tallowedMediaTypes.includes( 'video' )\n\t\t\t\t\t\t\t? onSelectURL\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tallowedTypes={ allowedMediaTypes }\n\t\t\t\t/>\n\t\t\t\t{ allowedMediaTypes.includes( 'video' ) && (\n\t\t\t\t\t<p className=\"description components-bu-background-url-note\">\n\t\t\t\t\t\tYouTube, Vimeo, and BUniverse URLs are supported at this\n\t\t\t\t\t\ttime.\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</MediaUploadCheck>\n\t\t);\n\t};\n\n\t// Return inspector controls.\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody\n\t\t\t\ttitle={ __( 'Media Settings' ) }\n\t\t\t\tclassName=\"components-panel__body-bu-background-media\"\n\t\t\t>\n\t\t\t\t{ ! inlinePlaceholder && placeholder() }\n\t\t\t\t{ !! backgroundUrl && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{ backgroundType === 'url' ? (\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'URL' ) }\n\t\t\t\t\t\t\t\tvalue={ backgroundUrl }\n\t\t\t\t\t\t\t\tonChange={ ( bgUrl ) => {\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tbackgroundUrl: bgUrl,\n\t\t\t\t\t\t\t\t\t\tbackgroundType:\n\t\t\t\t\t\t\t\t\t\t\tbackgroundUrl === ''\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: backgroundType,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\t\t\t\t\tallowedTypes={ allowedMediaTypes }\n\t\t\t\t\t\t\t\t\tvalue={ backgroundId }\n\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Edit Background Media'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={ onRemoveMedia }\n\t\t\t\t\t\t\t\t\ticon=\"no\"\n\t\t\t\t\t\t\t\t\tlabel={ 'Remove Background Media' }\n\t\t\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Fragment>\n\t\t\t\t) }\n\t\t\t\t{ options.includes( 'opacity' ) && (\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Background Opacity' ) }\n\t\t\t\t\t\tvalue={ backgroundOpacity }\n\t\t\t\t\t\tonChange={ ( ratio ) =>\n\t\t\t\t\t\t\tsetAttributes( { backgroundOpacity: ratio } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ 10 }\n\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( backgroundType === 'video' ||\n\t\t\t\t\tbackgroundType === 'url' ) && (\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Autoplay video' ) }\n\t\t\t\t\t\tchecked={ backgroundAutoplay }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tbackgroundAutoplay: ! backgroundAutoplay,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\t// Return the block editing interface.\n\treturn (\n\t\t<Fragment>\n\t\t\t{ inlinePlaceholder && placeholder() }\n\t\t\t{ !! backgroundUrl && backgroundType !== 'url' && (\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\t\t\t\tallowedMediaTypes={ allowedMediaTypes }\n\t\t\t\t\t\t\t\tvalue={ backgroundId }\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Edit Background Media' ) }\n\t\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\tlabel={ 'Remove Background Media' }\n\t\t\t\t\t\t\t\ticon=\"no\"\n\t\t\t\t\t\t\t\tonClick={ onRemoveMedia }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t{ ( ! inlinePlaceholder || backgroundUrl ) && inspectorControls }\n\t\t</Fragment>\n\t);\n};\n\nexport default BackgroundControls;\n","/**\n * Component: background\n *\n * An absraction of the default Cover block for more general use inside blocks.\n *\n * Import this component and its attributes into a block with:\n * \t`import Background, { BackgroundAttributes } from '../../components/background';`\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './editor.scss';\nimport './style.scss';\n\n// Internal dependencies.\nimport BackgroundAttributes from './attributes.js';\nimport BackgroundControls from './controls';\n\n// WordPress dependencies.\nconst { Fragment } = wp.element;\nconst { Spinner } = wp.components;\nconst { getAuthority, getPath, getQueryString } = wp.url;\n\n/**\n * Return a classname based on the value of the 'Background Opacity' setting.\n *\n * @param {number} ratio The value of the 'Background Opacity' setting.\n */\nconst BackgroundOpacityToClass = ( ratio ) => {\n\treturn ratio === 100\n\t\t? null\n\t\t: 'has-background-opacity-' + 10 * Math.round( ratio / 10 );\n};\n\n/**\n * The background component.\n *\n * @param {array} props The properties passed to the component.\n */\nfunction Background( props ) {\n\t// Destructure properties of this component with defaults.\n\tconst {\n\t\tblockProps,\n\t\tclassName = 'bu-blocks-background',\n\t\tisUploading = false,\n\t} = props;\n\n\t// Get the properties of the block using this component.\n\tconst { attributes } = blockProps;\n\n\t// Get the attributes for handling the background data.\n\tconst {\n\t\tbackgroundId,\n\t\tbackgroundType,\n\t\tbackgroundUrl,\n\t\tbackgroundOpacity,\n\t\tbackgroundAlt,\n\t\tbackgroundAutoplay,\n\t} = attributes;\n\n\t// Build the classes to apply to the background element.\n\tconst classes = classnames( className, {\n\t\t'has-background-opacity': backgroundOpacity !== 100,\n\t\t[ BackgroundOpacityToClass( backgroundOpacity ) ]:\n\t\t\tBackgroundOpacityToClass( backgroundOpacity ),\n\t\t[ `wp-image-${ backgroundId }` ]:\n\t\t\tbackgroundId && 'image' === backgroundType,\n\t} );\n\n\t// Return an image element for use as the background.\n\tconst backgroundImage = (\n\t\t<img\n\t\t\tclassName={ classes }\n\t\t\tsrc={ backgroundUrl }\n\t\t\talt={ backgroundAlt }\n\t\t/>\n\t);\n\n\t// Return a video element for use as the background.\n\tconst backgroundVideo = (\n\t\t<video\n\t\t\tclassName={ classes }\n\t\t\tautoPlay={ backgroundAutoplay }\n\t\t\tmuted={ backgroundAutoplay }\n\t\t\tloop={ backgroundAutoplay }\n\t\t\tsrc={ backgroundUrl }\n\t\t/>\n\t);\n\n\t// Return an iframe for use as the background.\n\tconst backgroundIframe = () => {\n\t\tconst authority = getAuthority( backgroundUrl );\n\t\tlet url = '';\n\n\t\tif ( authority === 'www.youtube.com' || authority === 'youtu.be' ) {\n\t\t\tconst videoId =\n\t\t\t\tauthority === 'youtu.be'\n\t\t\t\t\t? getPath( backgroundUrl )\n\t\t\t\t\t: getQueryString( backgroundUrl )\n\t\t\t\t\t\t\t.split( '?' )[ 0 ]\n\t\t\t\t\t\t\t.substr( 2 );\n\n\t\t\t// Build the url, adding autoplay parameters if appropriate.\n\t\t\turl = `//www.youtube.com/embed/${ videoId }`;\n\t\t\turl += backgroundAutoplay\n\t\t\t\t? `?controls=0&autoplay=1&mute=1&origin=http://bu.edu&version=3&loop=1&playlist=${ videoId }`\n\t\t\t\t: '';\n\t\t}\n\n\t\tif ( authority === 'vimeo.com' ) {\n\t\t\tconst videoId = getPath( backgroundUrl );\n\n\t\t\t// Build the url, adding the background parameter for autoplaying if appropriate.\n\t\t\turl = `//player.vimeo.com/video/${ videoId }`;\n\t\t\turl += backgroundAutoplay ? '?background=1' : '';\n\t\t}\n\n\t\tif ( authority === 'www.bu.edu' ) {\n\t\t\tconst videoId = getQueryString( backgroundUrl )\n\t\t\t\t.split( '?' )[ 0 ]\n\t\t\t\t.substr( 2 );\n\n\t\t\t// Build the URL, adding the autoplay parameter if appropriate.\n\t\t\turl = `//www.bu.edu/buniverse/interface/embed/embed.html?v=${ videoId }&jsapi=1`;\n\t\t\turl += backgroundAutoplay ? '&autoplay=true&controls=0' : '';\n\t\t}\n\n\t\tif ( url !== '' ) {\n\t\t\treturn (\n\t\t\t\t<iframe\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\tallow=\"autoplay; fullscreen\"\n\t\t\t\t\tclassName={ classes }\n\t\t\t\t></iframe>\n\t\t\t);\n\t\t}\n\t};\n\n\t// Return the interface for the background component.\n\treturn (\n\t\t<Fragment>\n\t\t\t{ 'image' === backgroundType && backgroundImage }\n\t\t\t{ 'video' === backgroundType && backgroundVideo }\n\t\t\t{ 'url' === backgroundType && (\n\t\t\t\t<div className=\"wp-block-background-video\">\n\t\t\t\t\t<div className=\"wp-block-background-video-ratio\">\n\t\t\t\t\t\t<div className=\"wp-block-background-video-iframe\">\n\t\t\t\t\t\t\t{ backgroundIframe() }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ isUploading && (\n\t\t\t\t<div className=\"wp-block-background-is-uploading\">\n\t\t\t\t\t<img src={ backgroundUrl } alt={ backgroundAlt } />\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n}\n\n// Export dependencies for easy importing in blocks.\nexport { BackgroundAttributes, BackgroundOpacityToClass, BackgroundControls };\n\nexport default Background;\n","/**\n * BLOCK: bu-editorial-drawer\n *\n * A block that works a bit like BU Collapsible to open and close a drawer of content.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport Background, {\n\tBackgroundAttributes,\n\tBackgroundControls,\n} from '../../components/background';\nimport themeOptions from '../../global/theme-options';\nimport allowedBlocks from '../../components/allowed-blocks';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { PanelBody, Path, RadioControl, SVG, ToggleControl } = wp.components;\nconst {\n\tRichText,\n\tInnerBlocks,\n\tInspectorControls,\n\tPanelColorSettings,\n\twithColors,\n\tuseBlockProps,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { select } = wp.data;\n\nconst { useState } = wp.element;\n\n// Populate selectors that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst { hasSelectedInnerBlock, isBlockSelected } =\n\t'undefined' === typeof select( 'core/block-editor' )\n\t\t? select( 'core/editor' )\n\t\t: select( 'core/block-editor' );\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {number}  background Whether the block has background media assigned.\n * @param {string}  className  Default classes assigned to the block.\n * @param {boolean} round      Whether to display round images.\n * @param {boolean} hideTeaser Whether to display the teaser.\n * @param {string}  themeColor The assigned background color.\n */\nconst getClasses = (\n\tbackground,\n\tclassName,\n\thideTeaser,\n\tround,\n\tsize,\n\tthemeColor\n) => {\n\treturn classnames( 'js-bu-block-drawer', {\n\t\t'has-hide-teaser': hideTeaser,\n\t\t'is-style-round': round,\n\t\t[ className ]: className,\n\t\t[ `has-${ themeColor }-background` ]: themeColor,\n\t\t[ size ]: size && size !== '',\n\t\t'has-media': background,\n\t} );\n};\n\n// Register the block.\nregisterBlockType( 'editorial/drawer', {\n\tapiVersion: 2,\n\ttitle: __( 'Drawer' ),\n\tdescription: __( 'Add content that can be toggled.' ),\n\ticon: blockIcons( 'drawer' ),\n\tcategory: 'bu-editorial',\n\tattributes: {\n\t\tbutton: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Read More',\n\t\t\tsource: 'text',\n\t\t\tselector: '.button.js-bu-block-drawer-open',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tclientId: {\n\t\t\ttype: 'number',\n\t\t},\n\t\thed: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'html',\n\t\t\tselector: 'h2',\n\t\t},\n\t\thideTeaser: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tlede: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'html',\n\t\t\tselector: 'p',\n\t\t},\n\t\tround: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tsize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tthemeColor: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\t...BackgroundAttributes,\n\t},\n\tsupports: {\n\t\talign: [ 'left', 'right', 'full' ],\n\t},\n\n\t// Add the `selected-drawer` data attribute when this block or its descendants are selected.\n\tgetEditWrapperProps( { clientId } ) {\n\t\tif ( clientId ) {\n\t\t\tconst drawerHasSelectedBlock =\n\t\t\t\thasSelectedInnerBlock( clientId, true ) ||\n\t\t\t\tisBlockSelected( clientId );\n\n\t\t\treturn {\n\t\t\t\t'data-selected-drawer': drawerHasSelectedBlock\n\t\t\t\t\t? 'true'\n\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t}\n\t},\n\n\tedit: withColors( 'themeColor' )( ( props ) => {\n\t\t// Get the properties and attributes we'll need.\n\t\tconst {\n\t\t\tattributes: {\n\t\t\t\tbackgroundId,\n\t\t\t\tbutton,\n\t\t\t\thed,\n\t\t\t\thideTeaser,\n\t\t\t\tlede,\n\t\t\t\tround,\n\t\t\t\tsize,\n\t\t\t},\n\t\t\tclassName,\n\t\t\tclientId,\n\t\t\tisSelected,\n\t\t\tsetAttributes,\n\t\t\tsetThemeColor,\n\t\t\tthemeColor,\n\t\t} = props;\n\n\t\tconst blockProps = useBlockProps( {\n\t\t\tclassName: getClasses(\n\t\t\t\tbackgroundId,\n\t\t\t\tclassName,\n\t\t\t\thideTeaser,\n\t\t\t\tround,\n\t\t\t\tsize,\n\t\t\t\tthemeColor.slug\n\t\t\t),\n\t\t} );\n\n\t\tconst [ isUploading, setIsUploading ] = useState( false );\n\n\t\t// Set the clientId attribute so it can be accessed in the `getEditWrapperProps` function.\n\t\tif (\n\t\t\thasSelectedInnerBlock( clientId, true ) ||\n\t\t\tisBlockSelected( clientId )\n\t\t) {\n\t\t\tsetAttributes( { clientId: clientId } );\n\t\t}\n\n\t\treturn (\n\t\t\t<aside { ...blockProps }>\n\t\t\t\t<BackgroundControls\n\t\t\t\t\tallowedMediaTypes={ [ 'image' ] }\n\t\t\t\t\tblockProps={ props }\n\t\t\t\t\tinlinePlaceholder={ true }\n\t\t\t\t\toptions={ [] }\n\t\t\t\t\tplaceholderText={ __( 'Add Image' ) }\n\t\t\t\t\tsetIsUploading={ setIsUploading }\n\t\t\t\t/>\n\t\t\t\t<div className=\"wp-block-editorial-drawer-teaser\">\n\t\t\t\t\t{ ( backgroundId ||\n\t\t\t\t\t\tisSelected ||\n\t\t\t\t\t\thasSelectedInnerBlock( clientId, true ) ) && (\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t) }\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tkeepPlaceholderOnFocus={ true }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { hed: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplaceholder={ __( 'Enter heading' ) }\n\t\t\t\t\t\ttagName=\"h2\"\n\t\t\t\t\t\tvalue={ hed }\n\t\t\t\t\t/>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tallowedFormats={ getAllowedFormats( 'allowedFormats', [\n\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t'core/link',\n\t\t\t\t\t\t] ) }\n\t\t\t\t\t\tkeepPlaceholderOnFocus={ true }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { lede: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplaceholder={ __( 'Enter text' ) }\n\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\tvalue={ lede }\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"wp-block-editorial-drawer-open-wrapper\">\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tkeepPlaceholderOnFocus={ true }\n\t\t\t\t\t\t\tclassName=\"button js-bu-block-drawer-open\"\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { button: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={ __( 'Enter button label' ) }\n\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\tvalue={ button }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section className=\"wp-block-editorial-drawer-content js-bu-block-drawer-content\">\n\t\t\t\t\t<div className=\"wp-block-editorial-drawer-wrapper\">\n\t\t\t\t\t\t<InnerBlocks allowedBlocks={ allowedBlocks() } />\n\t\t\t\t\t\t<div className=\"wp-block-editorial-drawer-close\">\n\t\t\t\t\t\t\t<button className=\"wp-block-editorial-drawer-close-button js-bu-block-drawer-close\">\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<div class=\"wp-block-editorial-drawer-clearfix\"></div>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Background Color' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: themeColor.color,\n\t\t\t\t\t\t\t\tonChange: setThemeColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Background' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t<PanelBody title={ __( 'Display Options' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Hide teaser when drawer is open' ) }\n\t\t\t\t\t\t\tchecked={ hideTeaser }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { hideTeaser: ! hideTeaser } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ backgroundId && (\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Round photos' ) }\n\t\t\t\t\t\t\t\tchecked={ round }\n\t\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { round: ! round } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tlabel={ __( 'Size' ) }\n\t\t\t\t\t\t\tselected={ size }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Default',\n\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Narrow',\n\t\t\t\t\t\t\t\t\tvalue: 'is-size-narrow',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Small',\n\t\t\t\t\t\t\t\t\tvalue: 'is-size-small',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Medium',\n\t\t\t\t\t\t\t\t\tvalue: 'is-size-medium',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Wide',\n\t\t\t\t\t\t\t\t\tvalue: 'is-size-wide',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\tonChange={ ( option ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { size: option } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</aside>\n\t\t);\n\t} ),\n\n\tsave( props ) {\n\t\t// Get the properties and attributes we'll need.\n\t\tconst {\n\t\t\tattributes: {\n\t\t\t\tbackgroundId,\n\t\t\t\tbutton,\n\t\t\t\tclassName,\n\t\t\t\thed,\n\t\t\t\thideTeaser,\n\t\t\t\tlede,\n\t\t\t\tround,\n\t\t\t\tsize,\n\t\t\t\tthemeColor,\n\t\t\t},\n\t\t} = props;\n\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: getClasses(\n\t\t\t\tbackgroundId,\n\t\t\t\tclassName,\n\t\t\t\thideTeaser,\n\t\t\t\tround,\n\t\t\t\tsize,\n\t\t\t\tthemeColor\n\t\t\t),\n\t\t} );\n\n\t\treturn (\n\t\t\t<aside { ...blockProps }>\n\t\t\t\t<div className=\"wp-block-editorial-drawer-teaser\">\n\t\t\t\t\t{ backgroundId && (\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<Background blockProps={ props } />\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! RichText.isEmpty( hed ) && (\n\t\t\t\t\t\t<RichText.Content tagName=\"h2\" value={ hed } />\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! RichText.isEmpty( lede ) && (\n\t\t\t\t\t\t<RichText.Content tagName=\"p\" value={ lede } />\n\t\t\t\t\t) }\n\t\t\t\t\t{ button && (\n\t\t\t\t\t\t<a href=\"#\" className=\"button js-bu-block-drawer-open\">\n\t\t\t\t\t\t\t{ button }\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<section className=\"wp-block-editorial-drawer-content js-bu-block-drawer-content\">\n\t\t\t\t\t<div className=\"wp-block-editorial-drawer-wrapper\">\n\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t\t<div className=\"wp-block-editorial-drawer-close\">\n\t\t\t\t\t\t\t<button className=\"wp-block-editorial-drawer-close-button js-bu-block-drawer-close\">\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</aside>\n\t\t);\n\t},\n} );\n","/**\n * Edit function for the modal block.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Internal dependencies.\nimport themeOptions from '../../global/theme-options';\nimport Background, { BackgroundControls } from '../../components/background';\nimport allowedBlocks from '../../components/allowed-blocks';\nimport getAllowedFormats from '../../global/allowed-formats';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { compose } = wp.compose;\n\nconst { Fragment, useState, useEffect } = wp.element;\n\nconst {\n\tInspectorControls,\n\tInnerBlocks,\n\tPanelColorSettings,\n\tRichText,\n\twithColors,\n\tuseBlockProps,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\nconst { select } = wp.data;\n\n// Populate selectors that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst { hasSelectedInnerBlock, isBlockSelected } =\n\t'undefined' === typeof select( 'core/block-editor' )\n\t\t? select( 'core/editor' )\n\t\t: select( 'core/block-editor' );\n\n// Only allow images in the background component for this block.\nconst allowedMedia = [ 'image' ];\n\nconst BUEditorialModalEdit = ( props ) => {\n\tconst {\n\t\tattributes,\n\t\tthemeColor,\n\t\tsetThemeColor,\n\t\tsetAttributes,\n\t\tclassName,\n\t\tclientId,\n\t} = props;\n\n\tconst { backgroundId, calloutHeading, calloutText, trigger } = attributes;\n\n\tconst [ isUploading, setIsUploading ] = useState( false );\n\n\tconst classes = classnames( className, {\n\t\t[ `has-${ themeColor.slug }-theme` ]: themeColor.slug,\n\t\t'has-media': backgroundId,\n\t} );\n\n\t// ToDo: explore removing this and using just the CSS classes .is-selected and .has-selected-child.\n\tconst modalSelected = ( clientId ) => {\n\t\tif ( clientId ) {\n\t\t\tconst modalHasSelectedBlock =\n\t\t\t\thasSelectedInnerBlock( clientId, true ) ||\n\t\t\t\tisBlockSelected( clientId );\n\t\t\treturn modalHasSelectedBlock ? 'true' : 'false';\n\t\t} else {\n\t\t\treturn 'false';\n\t\t}\n\t};\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t\t'data-selected-modal': modalSelected( clientId ),\n\t} );\n\n\tuseEffect( () => {\n\t\t// Set the clientId attribute so it can be accessed in the `getEditWrapperProps` function.\n\t\tif (\n\t\t\thasSelectedInnerBlock( clientId, true ) ||\n\t\t\tisBlockSelected( clientId )\n\t\t) {\n\t\t\tsetAttributes( { clientId: clientId } );\n\t\t}\n\t}, [] );\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelColorSettings\n\t\t\t\t\ttitle={ __( 'Theme Settings' ) }\n\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: themeColor.color,\n\t\t\t\t\t\t\tonChange: setThemeColor,\n\t\t\t\t\t\t\tlabel: __( 'Theme' ),\n\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<BackgroundControls\n\t\t\t\tallowedMediaTypes={ allowedMedia }\n\t\t\t\tblockProps={ props }\n\t\t\t\tclassName=\"banner-placeholder\"\n\t\t\t\tplaceholderText={ __( 'Add Image' ) }\n\t\t\t\tsetIsUploading={ setIsUploading }\n\t\t\t/>\n\t\t\t<aside { ...blockProps }>\n\t\t\t\t<div className=\"wp-block-editorial-modal-callout\">\n\t\t\t\t\t<div className=\"wp-block-editorial-modal-media\">\n\t\t\t\t\t\t<figure className=\"wp-block-editorial-modal-image\">\n\t\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"wp-block-editorial-modal-callout-content\">\n\t\t\t\t\t\t<div className=\"modal-valign\">\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"h1\"\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { calloutHeading: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={ calloutHeading }\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Enter heading' ) }\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { calloutText: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={ calloutText }\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Enter text' ) }\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic', 'core/link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"wp-block-editorial-modal-trigger-wrapper\">\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\tclassName=\"js-bu-block-modal-trigger-overlay button\"\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { trigger: value } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue={ trigger }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Enter trigger label' ) }\n\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wp-block-editorial-modal-content js-bu-block-modal-overlay\">\n\t\t\t\t\t<div className=\"overlay overlay-scale\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\tclass=\"wp-block-editorial-modal-overlay-close js-bu-block-modal-overlay-close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<article>\n\t\t\t\t\t\t\t<InnerBlocks allowedBlocks={ allowedBlocks() } />\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t</Fragment>\n\t);\n};\n\nexport default compose( [ withColors( 'themeColor' ) ] )(\n\tBUEditorialModalEdit\n);\n","/**\n * BLOCK: editorial-modal\n *\n * A block with a callout for opening a modal with supplemental or complementary information.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport edit from './edit.js';\nimport Background, { BackgroundAttributes } from '../../components/background';\nimport blockIcons from '../../components/block-icons';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { getColorClassName, InnerBlocks, useBlockProps } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { select } = wp.data;\n\n// Populate selectors that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst { hasSelectedInnerBlock, isBlockSelected } =\n\t'undefined' === typeof select( 'core/block-editor' )\n\t\t? select( 'core/editor' )\n\t\t: select( 'core/block-editor' );\n\n// Register the block.\nregisterBlockType( 'editorial/modal', {\n\tapiVersion: 2,\n\ttitle: __( 'Modal' ),\n\tdescription: __(\n\t\t'A block with a callout for opening a modal with supplemental or complementary information.'\n\t),\n\ticon: blockIcons( 'modal' ),\n\tcategory: 'bu-editorial',\n\tsupports: {\n\t\talign: true,\n\t},\n\tattributes: {\n\t\tclientId: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tthemeColor: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tcalloutHeading: {\n\t\t\ttype: 'array',\n\t\t\tsource: 'children',\n\t\t\tselector: 'h1',\n\t\t},\n\t\tcalloutText: {\n\t\t\ttype: 'array',\n\t\t\tsource: 'children',\n\t\t\tselector: '.editorial-modal-callout-text',\n\t\t},\n\t\ttrigger: {\n\t\t\ttype: 'array',\n\t\t\tsource: 'children',\n\t\t\tselector: '.js-bu-block-modal-trigger-overlay',\n\t\t},\n\t\t...BackgroundAttributes,\n\t},\n\n\tedit,\n\n\tsave( props ) {\n\t\tconst { attributes, className } = props;\n\t\tconst {\n\t\t\tthemeColor,\n\t\t\tcalloutHeading,\n\t\t\tcalloutText,\n\t\t\ttrigger,\n\t\t\tbackgroundId,\n\t\t} = attributes;\n\t\tconst classes = classnames( className, 'js-bu-block-modal', {\n\t\t\t[ getColorClassName( 'theme', themeColor ) ]: getColorClassName(\n\t\t\t\t'theme',\n\t\t\t\tthemeColor\n\t\t\t),\n\t\t\t'has-media': backgroundId,\n\t\t} );\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: classes,\n\t\t} );\n\n\t\treturn (\n\t\t\t<aside { ...blockProps }>\n\t\t\t\t<div className=\"wp-block-editorial-modal-callout\">\n\t\t\t\t\t<div className=\"wp-block-editorial-modal-media\">\n\t\t\t\t\t\t<figure className=\"wp-block-editorial-modal-image\">\n\t\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\t\tclassName=\"banner-placeholder\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"wp-block-editorial-modal-callout-content\">\n\t\t\t\t\t\t<div className=\"modal-valign\">\n\t\t\t\t\t\t\t<h1>{ calloutHeading }</h1>\n\t\t\t\t\t\t\t<p className=\"editorial-modal-callout-text\">\n\t\t\t\t\t\t\t\t{ calloutText }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\tclassName=\"js-bu-block-modal-trigger-overlay button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ trigger }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wp-block-editorial-modal-content js-bu-block-modal-overlay\">\n\t\t\t\t\t<div className=\"overlay overlay-scale\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\tclass=\"wp-block-editorial-modal-overlay-close js-bu-block-modal-overlay-close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<article>\n\t\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t);\n\t},\n} );\n","import getAllowedFormats from '../../global/allowed-formats';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { createBlock, registerBlockType } = wp.blocks;\nconst { Fragment } = wp.element;\nconst { IconButton, PanelBody, Toolbar } = wp.components;\nconst {\n\tRichText,\n\tPlainText,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tPanelColorSettings,\n\twithColors,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n// Import a library used to manage multiple class names.\nimport classnames from 'classnames';\n\n// Import common handling of available color options.\nimport themeOptions from '../../global/theme-options';\n\n/**\n * Render the SVG used for a drop cap when the drop cap has an\n * image assigned to it.\n *\n * This is used in the block editor and stored in post content\n * as part of the block markup.\n *\n * @param {string} character The character to display in the drop cap.\n * @param {string} imageURL  The background image for the drop cap character.\n */\nconst renderDropCapSVG = ( character, imageURL ) => {\n\treturn (\n\t\t<svg>\n\t\t\t<pattern\n\t\t\t\tid=\"dropcap-texture\"\n\t\t\t\tviewBox=\"0 0 1024 1024\"\n\t\t\t\tpatternUnits=\"userSpaceOnUse\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"100%\"\n\t\t\t\tx=\"0%\"\n\t\t\t\ty=\"0%\"\n\t\t\t>\n\t\t\t\t<image href={ imageURL } width=\"1024\" height=\"1024\" />\n\t\t\t</pattern>\n\t\t\t<text\n\t\t\t\ttextAnchor=\"start\"\n\t\t\t\tx=\"0\"\n\t\t\t\ty=\"50%\"\n\t\t\t\tdy=\".404em\"\n\t\t\t\tclassName=\"dropcap-filltext\"\n\t\t\t>\n\t\t\t\t{ character }\n\t\t\t</text>\n\t\t</svg>\n\t);\n};\n\nconst deprecated = [\n\t{\n\t\tattributes: {\n\t\t\theading: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-introparagraph h4',\n\t\t\t},\n\t\t\tlist: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-introparagraph-toc',\n\t\t\t},\n\t\t\tcontent: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-introparagraph-content p',\n\t\t\t},\n\t\t\tdropCapColor: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tparagraphColor: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tclassName: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tdropCapImageURL: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tdropCapImageId: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t},\n\n\t\tsave( { attributes } ) {\n\t\t\tconst {\n\t\t\t\theading,\n\t\t\t\tlist,\n\t\t\t\tcontent,\n\t\t\t\tdropCapColor,\n\t\t\t\tdropCapImageURL,\n\t\t\t\tparagraphColor,\n\t\t\t\tclassName,\n\t\t\t} = attributes;\n\n\t\t\tlet isImageDropCap = false;\n\t\t\tif ( 'undefined' !== typeof className ) {\n\t\t\t\t// Determine if the drop cap SVG should be included in content.\n\t\t\t\tisImageDropCap = className.includes( 'is-style-dropcap-image' );\n\t\t\t}\n\n\t\t\t// Pull the first character from the article content use in the drop cap SVG.\n\t\t\tlet dropCapCharacter = '';\n\t\t\tif ( 'undefined' !== typeof content ) {\n\t\t\t\tdropCapCharacter = content.charAt( 0 );\n\t\t\t}\n\n\t\t\t// Determine if the list is empty and should be excluded from the saved block.\n\t\t\tlet saveList = true;\n\t\t\tif (\n\t\t\t\t'undefined' === typeof list ||\n\t\t\t\t'<li></li>' === list ||\n\t\t\t\tRichText.isEmpty( list )\n\t\t\t) {\n\t\t\t\tsaveList = false;\n\t\t\t}\n\n\t\t\t// Determine if a sepecific dropcap style has been selected.\n\t\t\tlet hasDropCapStyle =\n\t\t\t\tclassName && className.includes( 'is-style-dropcap' );\n\n\t\t\tconst classes = classnames( className, {\n\t\t\t\t'has-dropcap': hasDropCapStyle,\n\t\t\t\t[ `has-dropcap-color-${ dropCapColor }` ]:\n\t\t\t\t\thasDropCapStyle && dropCapColor,\n\t\t\t\t[ `has-paragraph-color-${ paragraphColor }` ]:\n\t\t\t\t\t! hasDropCapStyle && paragraphColor,\n\t\t\t} );\n\n\t\t\treturn (\n\t\t\t\t<div className={ classes }>\n\t\t\t\t\t{ ! RichText.isEmpty( heading ) && (\n\t\t\t\t\t\t<RichText.Content tagName=\"h4\" value={ heading } />\n\t\t\t\t\t) }\n\t\t\t\t\t{ saveList && (\n\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\t\t\tclassName=\"wp-block-editorial-introparagraph-toc\"\n\t\t\t\t\t\t\tvalue={ list }\n\t\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! RichText.isEmpty( content ) && (\n\t\t\t\t\t\t<div className=\"wp-block-editorial-introparagraph-content\">\n\t\t\t\t\t\t\t{ isImageDropCap &&\n\t\t\t\t\t\t\t\trenderDropCapSVG(\n\t\t\t\t\t\t\t\t\tdropCapCharacter,\n\t\t\t\t\t\t\t\t\tdropCapImageURL\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<RichText.Content tagName=\"p\" value={ content } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t},\n];\n\nexport default deprecated;\n","/**\n * BLOCK: editorial/introparagraph\n *\n * Register an intro paragraph block with Gutenberg.\n */\n\n//  Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\nimport getAllowedFormats from '../../global/allowed-formats';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { createBlock, registerBlockType } = wp.blocks;\nconst { Fragment } = wp.element;\nconst { IconButton, PanelBody, Toolbar, SVG } = wp.components;\nconst {\n\tRichText,\n\tPlainText,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tPanelColorSettings,\n\twithColors,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n// Import a library used to manage multiple class names.\nimport classnames from 'classnames';\n\n// Import common handling of available color options.\nimport themeOptions from '../../global/theme-options';\n\nimport deprecated from './deprecated';\n\n/**\n * Render the SVG used for a drop cap when the drop cap has an\n * image assigned to it.\n *\n * This is used in the block editor and stored in post content\n * as part of the block markup.\n *\n *\n * @param {string} character The character to display in the drop cap.\n * @param {string} imageURL  The background image for the drop cap character.\n */\nconst renderDropCapSVG = ( character, imageURL ) => {\n\tlet randomID = 'dropcap-text-' + character;\n\tlet clipPathURL = 'url(#' + randomID + ')';\n\tlet xlinkurlAttr = { 'xlink:href': imageURL };\n\treturn (\n\t\t<svg>\n\t\t\t<clipPath id={ randomID }>\n\t\t\t\t<text\n\t\t\t\t\ttextAnchor=\"start\"\n\t\t\t\t\tx=\"0\"\n\t\t\t\t\ty=\"50%\"\n\t\t\t\t\tdy=\".404em\"\n\t\t\t\t\tclassName=\"dropcap-filltext\"\n\t\t\t\t>\n\t\t\t\t\t{ character }\n\t\t\t\t</text>\n\t\t\t</clipPath>\n\t\t\t<g clip-path={ clipPathURL }>\n\t\t\t\t<image\n\t\t\t\t\t{ ...xlinkurlAttr }\n\t\t\t\t\thref={ imageURL }\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t\tpreserveAspectRatio=\"none\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t</svg>\n\t);\n};\n\n// Register the block.\nregisterBlockType( 'editorial/introparagraph', {\n\ttitle: __( 'Intro Paragraph' ),\n\tdescription: __(\n\t\t'Add an introduction with a bulleted list and styled paragraph.'\n\t),\n\ticon: blockIcons( 'introparagraph' ),\n\tcategory: 'bu-editorial',\n\tsupports: {\n\t\tanchor: true,\n\t},\n\tattributes: {\n\t\theading: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-introparagraph h4',\n\t\t},\n\t\tlist: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-introparagraph-toc',\n\t\t},\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-introparagraph-content p',\n\t\t},\n\t\tdropCapColor: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tparagraphColor: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tdropCapImageURL: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tdropCapImageId: {\n\t\t\ttype: 'number',\n\t\t},\n\t},\n\tstyles: [\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: __( 'Regular' ),\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'large',\n\t\t\tlabel: __( 'Large paragraph text' ),\n\t\t},\n\t\t{\n\t\t\tname: 'split',\n\t\t\tlabel: __( 'Split paragraph text' ),\n\t\t},\n\t\t{\n\t\t\tname: 'dropcap-default',\n\t\t\tlabel: __( 'Dropcap' ),\n\t\t},\n\t\t{\n\t\t\tname: 'dropcap-boxed',\n\t\t\tlabel: __( 'Boxed dropcap' ),\n\t\t},\n\t\t{\n\t\t\tname: 'dropcap-outlined',\n\t\t\tlabel: __( 'Outlined dropcap' ),\n\t\t},\n\t\t{\n\t\t\tname: 'dropcap-dimensional',\n\t\t\tlabel: __( 'Dimensional dropcap' ),\n\t\t},\n\t\t{\n\t\t\tname: 'dropcap-image',\n\t\t\tlabel: __( 'Image dropcap' ),\n\t\t},\n\t],\n\n\tedit: withColors(\n\t\t'paragraphColor',\n\t\t'dropCapColor'\n\t)( ( props ) => {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tclassName,\n\t\t\tinsertBlocksAfter,\n\t\t\tsetAttributes,\n\t\t\tparagraphColor,\n\t\t\tsetParagraphColor,\n\t\t\tdropCapColor,\n\t\t\tsetDropCapColor,\n\t\t} = props;\n\n\t\tconst { heading, content, list, dropCapImageURL, dropCapImageId } =\n\t\t\tattributes;\n\n\t\t// Determine if a sepecific dropcap style has been selected.\n\t\tlet hasDropCapStyle = className.includes( 'is-style-dropcap' );\n\n\t\t// Ensure that the has-dropcap, other has-dropcap classes, and paragraph classes are aligned.\n\t\tif ( hasDropCapStyle ) {\n\t\t\tsetAttributes( { paragraphColor: '' } );\n\t\t} else if ( ! hasDropCapStyle ) {\n\t\t\tsetAttributes( { dropCapColor: '' } );\n\t\t}\n\n\t\t// Determine if the drop cap SVG should be included in content.\n\t\tlet isImageDropCap = className.includes( 'is-style-dropcap-image' );\n\n\t\t// Pull the first character from the article content use in the drop cap SVG.\n\t\tlet dropCapCharacter = '';\n\t\tif ( 'undefined' !== typeof content ) {\n\t\t\tdropCapCharacter = content.charAt( 0 );\n\t\t}\n\n\t\t// When an image is selected, set the URL and ID attributes on the block.\n\t\tconst onSelectImage = ( media ) => {\n\t\t\tif ( ! media || ! media.url ) {\n\t\t\t\tsetAttributes( { dropCapImageURL: '', dropCapImageId: null } );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Try to set a sensible image size to avoid full size images being loaded.\n\t\t\tlet selectedMediaURL = media.url;\n\n\t\t\t// The first check is for images already in the media library.\n\t\t\t// The second is for newly uploaded images.\n\t\t\tif ( media.sizes ) {\n\t\t\t\tif ( media.sizes[ 'bu_prepress_3x2_xs' ] ) {\n\t\t\t\t\tselectedMediaURL = media.sizes[ 'bu_prepress_3x2_xs' ].url;\n\t\t\t\t} else if ( media.sizes[ 'thumbnail' ] ) {\n\t\t\t\t\tselectedMediaURL = media.sizes[ 'thumbnail' ].url;\n\t\t\t\t} else if ( media.sizes[ 'medium' ] ) {\n\t\t\t\t\tselectedMediaURL = media.sizes[ 'medium' ].url;\n\t\t\t\t}\n\t\t\t} else if ( media.media_details ) {\n\t\t\t\tif ( media.media_details.sizes[ 'bu_prepress_3x2_xs' ] ) {\n\t\t\t\t\tselectedMediaURL =\n\t\t\t\t\t\tmedia.media_details.sizes[ 'bu_prepress_3x2_xs' ]\n\t\t\t\t\t\t\t.source_url;\n\t\t\t\t} else if ( media.media_details.sizes[ 'thumbnail' ] ) {\n\t\t\t\t\tselectedMediaURL =\n\t\t\t\t\t\tmedia.media_details.sizes[ 'thumbnail' ].source_url;\n\t\t\t\t} else if ( media.media_details.sizes[ 'medium' ] ) {\n\t\t\t\t\tselectedMediaURL =\n\t\t\t\t\t\tmedia.media_details.sizes[ 'medium' ].source_url;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetAttributes( {\n\t\t\t\tdropCapImageURL: selectedMediaURL,\n\t\t\t\tdropCapImageId: media.id,\n\t\t\t} );\n\t\t};\n\n\t\t// When an image is removed, reset the URL and ID attributes on the block.\n\t\tconst onRemoveImage = () => {\n\t\t\tsetAttributes( { dropCapImageURL: '', dropCapImageId: null } );\n\t\t};\n\n\t\t// Render the settings panel used to assign color to a paragraph.\n\t\tconst renderParagraphSettings = () => {\n\t\t\treturn (\n\t\t\t\t<PanelColorSettings\n\t\t\t\t\ttitle={ __( 'Paragraph color' ) }\n\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: paragraphColor.color,\n\t\t\t\t\t\t\tonChange: setParagraphColor,\n\t\t\t\t\t\t\tlabel: __( 'Paragraph' ),\n\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\n\t\t// Render the settings panel used to assign color to a drop cap character.\n\t\tconst renderDropCapColorSettings = () => {\n\t\t\treturn (\n\t\t\t\t<PanelColorSettings\n\t\t\t\t\ttitle={ __( 'Drop cap color' ) }\n\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: dropCapColor.color,\n\t\t\t\t\t\t\tonChange: setDropCapColor,\n\t\t\t\t\t\t\tlabel: __( 'Drop cap' ),\n\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\n\t\t// Render the settings panel used to assign an image to a drop cap character.\n\t\tconst renderDropCapImageSettings = () => {\n\t\t\treturn (\n\t\t\t\t<PanelBody title={ __( 'Drop cap image settings' ) }>\n\t\t\t\t\t{ '' !== dropCapImageURL && (\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\t\t\t\tvalue={ dropCapImageId }\n\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Edit image\"\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ onRemoveImage }\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-image__remove\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Remove image\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t\t<img src={ dropCapImageURL } />\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t) }\n\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\tkey=\"drop-cap-image\"\n\t\t\t\t\t\ticon=\"format-image\"\n\t\t\t\t\t\tlabel=\"Drop Cap Image\"\n\t\t\t\t\t\tlabels={ {\n\t\t\t\t\t\t\ttitle: 'Drop Cap Image',\n\t\t\t\t\t\t\tname: 'images',\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t);\n\t\t};\n\n\t\tconst classes = classnames( className, {\n\t\t\t'has-dropcap': hasDropCapStyle,\n\t\t\t[ `has-dropcap-color-${ dropCapColor.slug }` ]:\n\t\t\t\thasDropCapStyle && dropCapColor && dropCapColor.slug,\n\t\t\t[ `has-paragraph-color-${ paragraphColor.slug }` ]:\n\t\t\t\t! hasDropCapStyle && paragraphColor && paragraphColor.slug,\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t{ ! hasDropCapStyle && renderParagraphSettings() }\n\t\t\t\t\t{ hasDropCapStyle &&\n\t\t\t\t\t\t! isImageDropCap &&\n\t\t\t\t\t\trenderDropCapColorSettings() }\n\t\t\t\t\t{ hasDropCapStyle &&\n\t\t\t\t\t\tisImageDropCap &&\n\t\t\t\t\t\trenderDropCapImageSettings() }\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div className={ classes }>\n\t\t\t\t\t<PlainText\n\t\t\t\t\t\ttagname=\"h4\"\n\t\t\t\t\t\tvalue={ heading }\n\t\t\t\t\t\tonChange={ ( heading ) => setAttributes( { heading } ) }\n\t\t\t\t\t\tplaceholder={ __( 'Enter Teaser Headline (optional)' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\ttagname=\"ul\"\n\t\t\t\t\t\tonChange={ ( listValues ) =>\n\t\t\t\t\t\t\tsetAttributes( { list: listValues } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={ list }\n\t\t\t\t\t\twrapperClassName=\"wp-block-editorial-introparagraph-toc\"\n\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t'Enter Teaser Intro List (optional)'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t[ 'link' ]\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tallowedFormats={ getAllowedFormats( 'allowedFormats', [\n\t\t\t\t\t\t\t'core/link',\n\t\t\t\t\t\t] ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"wp-block-editorial-introparagraph-content\">\n\t\t\t\t\t\t{ isImageDropCap &&\n\t\t\t\t\t\t\trenderDropCapSVG(\n\t\t\t\t\t\t\t\tdropCapCharacter,\n\t\t\t\t\t\t\t\tdropCapImageURL\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagname=\"p\"\n\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\tonChange={ ( content ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { content: content } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={ __( 'Write paragraph' ) }\n\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tunstableOnSplit={\n\t\t\t\t\t\t\t\tinsertBlocksAfter\n\t\t\t\t\t\t\t\t\t? ( before, after, ...blocks ) => {\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: before,\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\tinsertBlocksAfter( [\n\t\t\t\t\t\t\t\t\t\t\t\t...blocks,\n\t\t\t\t\t\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: after,\n\t\t\t\t\t\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\theading,\n\t\t\tlist,\n\t\t\tcontent,\n\t\t\tdropCapColor,\n\t\t\tdropCapImageURL,\n\t\t\tparagraphColor,\n\t\t\tclassName,\n\t\t} = attributes;\n\n\t\tlet isImageDropCap = false;\n\t\tif ( 'undefined' !== typeof className ) {\n\t\t\t// Determine if the drop cap SVG should be included in content.\n\t\t\tisImageDropCap = className.includes( 'is-style-dropcap-image' );\n\t\t}\n\n\t\t// Pull the first character from the article content use in the drop cap SVG.\n\t\tlet dropCapCharacter = '';\n\t\tif ( 'undefined' !== typeof content ) {\n\t\t\tdropCapCharacter = content.charAt( 0 );\n\t\t}\n\n\t\t// Determine if the list is empty and should be excluded from the saved block.\n\t\tlet saveList = true;\n\t\tif (\n\t\t\t'undefined' === typeof list ||\n\t\t\t'<li></li>' === list ||\n\t\t\tRichText.isEmpty( list )\n\t\t) {\n\t\t\tsaveList = false;\n\t\t}\n\n\t\t// Determine if a sepecific dropcap style has been selected.\n\t\tlet hasDropCapStyle =\n\t\t\tclassName && className.includes( 'is-style-dropcap' );\n\n\t\tconst classes = classnames( className, {\n\t\t\t'has-dropcap': hasDropCapStyle,\n\t\t\t[ `has-dropcap-color-${ dropCapColor }` ]:\n\t\t\t\thasDropCapStyle && dropCapColor,\n\t\t\t[ `has-paragraph-color-${ paragraphColor }` ]:\n\t\t\t\t! hasDropCapStyle && paragraphColor,\n\t\t} );\n\n\t\treturn (\n\t\t\t<div className={ classes }>\n\t\t\t\t{ ! RichText.isEmpty( heading ) && (\n\t\t\t\t\t<RichText.Content tagName=\"h4\" value={ heading } />\n\t\t\t\t) }\n\t\t\t\t{ saveList && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\t\tclassName=\"wp-block-editorial-introparagraph-toc\"\n\t\t\t\t\t\tvalue={ list }\n\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! RichText.isEmpty( content ) && (\n\t\t\t\t\t<div className=\"wp-block-editorial-introparagraph-content\">\n\t\t\t\t\t\t{ isImageDropCap &&\n\t\t\t\t\t\t\trenderDropCapSVG(\n\t\t\t\t\t\t\t\tdropCapCharacter,\n\t\t\t\t\t\t\t\tdropCapImageURL\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t<RichText.Content tagName=\"p\" value={ content } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t},\n\n\tdeprecated,\n} );\n","/**\n * BLOCK: bu/leadin\n *\n * Register a leadin block with Gutenberg.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies\nimport themeOptions from '../../global/theme-options';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport publicationSlug from '../../global/publication-slug';\nimport Background, {\n\tBackgroundAttributes,\n\tBackgroundControls,\n} from '../../components/background';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Fragment, useState } = wp.element;\nconst { PanelBody, Path, RangeControl, SelectControl, SVG, ToggleControl } =\n\twp.components;\nconst {\n\tInspectorControls,\n\tPanelColorSettings,\n\tRichText,\n\tURLInput,\n\twithColors,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { applyFilters } = wp.hooks;\n\n// Block attributes.\nconst blockAttributes = {\n\thead: {\n\t\ttype: 'string',\n\t},\n\tdeck: {\n\t\ttype: 'string',\n\t},\n\tcaption: {\n\t\ttype: 'string',\n\t},\n\timageFocus: {\n\t\ttype: 'string',\n\t\tdefault: 'center-middle',\n\t},\n\ttextPositionX: {\n\t\ttype: 'string',\n\t\tdefault: 'x-center',\n\t},\n\ttextPositionY: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\twide: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tbox: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tflip: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tclassName: {\n\t\ttype: 'string',\n\t},\n\tthemeColor: {\n\t\ttype: 'string',\n\t},\n\tprimaryTerm: {\n\t\ttype: 'string',\n\t},\n\tmetabar: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\tmetabardate: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tboxOpacity: {\n\t\ttype: 'number',\n\t\tdefault: 100,\n\t},\n\tvideoUncropped: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\turl: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\t...BackgroundAttributes,\n};\n\n// Block styles.\nconst blockStyles = [\n\t{\n\t\tname: 'default',\n\t\tlabel: __( 'Default (uncropped unscaled)' ),\n\t\tisDefault: true,\n\t},\n\t{\n\t\tname: 'default-alt',\n\t\tlabel: __( 'Default Alternate Order' ),\n\t\tisDefault: true,\n\t},\n\t{\n\t\tname: 'text-to-image',\n\t\tlabel: __( 'Text over Horizontal Image' ),\n\t},\n\t{\n\t\tname: 'image-to-text',\n\t\tlabel: __( 'Horizontal Image over Text' ),\n\t},\n\t{\n\t\tname: 'emphasis-on-text',\n\t\tlabel: __( 'Overlapping Text' ),\n\t},\n\t{\n\t\tname: 'text-over-image',\n\t\tlabel: __( 'Image with Text Overlay' ),\n\t},\n\t{\n\t\tname: 'side-by-side',\n\t\tlabel: __( 'Vertical Image and Text Side By Side' ),\n\t},\n];\n\nconst blockSupports = {\n\tclassName: false,\n\tcustomClassName: false,\n\tmultiple: false,\n};\n\nregisterBlockType( 'bu/leadin', {\n\ttitle: __( 'Leadin' ),\n\tdescription: __( 'The opening headline and image of an article.' ),\n\ticon: blockIcons( 'leadin' ),\n\tcategory: 'bu',\n\tattributes: blockAttributes,\n\tstyles: blockStyles,\n\tsupports: blockSupports,\n\n\tedit: withColors( 'themeColor' )( ( props ) => {\n\t\t// Get the block properties and attributes.\n\t\tconst {\n\t\t\tattributes: {\n\t\t\t\tbackgroundId,\n\t\t\t\tbackgroundUrl,\n\t\t\t\tbackgroundAutoplay,\n\t\t\t\thead,\n\t\t\t\tdeck,\n\t\t\t\tcaption,\n\t\t\t\timageFocus,\n\t\t\t\ttextPositionX,\n\t\t\t\ttextPositionY,\n\t\t\t\twide,\n\t\t\t\tbox,\n\t\t\t\tflip,\n\t\t\t\tmetabar,\n\t\t\t\tmetabardate,\n\t\t\t\tboxOpacity,\n\t\t\t\tvideoUncropped,\n\t\t\t\turl,\n\t\t\t},\n\t\t\tthemeColor,\n\t\t\tsetThemeColor,\n\t\t\tsetAttributes,\n\t\t\tclassName,\n\t\t\tisSelected,\n\t\t} = props;\n\n\t\tconst [ isUploading, setIsUploading ] = useState( false );\n\n\t\tconst isStyleEmphasisOnText = className.includes(\n\t\t\t'is-style-emphasis-on-text'\n\t\t);\n\t\tconst isStyleTextOverImage = className.includes(\n\t\t\t'is-style-text-over-image'\n\t\t);\n\t\tconst isStyleSideBySide = className.includes( 'is-style-side-by-side' );\n\t\tconst isStyleTextToImage = className.includes(\n\t\t\t'is-style-text-to-image'\n\t\t);\n\t\tconst isStyleImageToText = className.includes(\n\t\t\t'is-style-image-to-text'\n\t\t);\n\t\tconst publication = publicationSlug();\n\n\t\tconst classes = classnames(\n\t\t\t'wp-block-editorial-leadin',\n\t\t\t{\n\t\t\t\t[ `${ publication }-block-editorial-leadin` ]:\n\t\t\t\t\tpublication !== '',\n\t\t\t},\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t'has-box':\n\t\t\t\t\tbox &&\n\t\t\t\t\t( isStyleEmphasisOnText ||\n\t\t\t\t\t\tisStyleTextOverImage ||\n\t\t\t\t\t\tisStyleSideBySide ),\n\t\t\t\t'has-wider': wide && isStyleSideBySide,\n\t\t\t\t'has-flip': flip && isStyleSideBySide,\n\t\t\t\t'has-media': backgroundUrl,\n\t\t\t\t'has-video-as-loop': backgroundAutoplay,\n\t\t\t\t'has-video-uncropped': videoUncropped,\n\t\t\t\t[ `has-media-focus-${ imageFocus }` ]: imageFocus,\n\t\t\t\t[ `has-text-position-${ textPositionX }` ]:\n\t\t\t\t\ttextPositionX && isStyleTextOverImage,\n\t\t\t\t[ `has-text-position-${ textPositionY }` ]:\n\t\t\t\t\ttextPositionY && isStyleTextOverImage,\n\t\t\t\t[ `has-${ themeColor.slug }-theme` ]: themeColor.slug,\n\t\t\t}\n\t\t);\n\n\t\tconst boxClasses = classnames( 'container-words-inner', {\n\t\t\t[ `has-opacity-${ boxOpacity }` ]:\n\t\t\t\tboxOpacity !== 100 &&\n\t\t\t\tbox &&\n\t\t\t\t( isStyleEmphasisOnText || isStyleTextOverImage ),\n\t\t} );\n\n\t\t// Return the background media positioning controls if a background is set.\n\t\tconst mediaPositioningControls = () => {\n\t\t\tif ( ! backgroundId ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ __( 'Media Positioning' ) }\n\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Crop Media to:' ) }\n\t\t\t\t\t\tvalue={ imageFocus }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { imageFocus: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ value: 'left-top', label: __( 'Left Top' ) },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'left-middle',\n\t\t\t\t\t\t\t\tlabel: __( 'Left Center' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'left-bottom',\n\t\t\t\t\t\t\t\tlabel: __( 'Left Bottom' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ value: 'center-top', label: __( 'Center Top' ) },\n\t\t\t\t\t\t\t{ value: 'center-middle', label: __( 'Center' ) },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'center-bottom',\n\t\t\t\t\t\t\t\tlabel: __( 'Center Bottom' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ value: 'right-top', label: __( 'Right Top' ) },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'right-middle',\n\t\t\t\t\t\t\t\tlabel: __( 'Right Center' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'right-bottom',\n\t\t\t\t\t\t\t\tlabel: __( 'Right Bottom' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t);\n\t\t};\n\n\t\t// Return the text positioning controls if the 'Image with Text Overlay' style is set.\n\t\tconst textPositioningControls = () => {\n\t\t\tif ( ! isStyleTextOverImage ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Horizontal Text Positioning' ) }\n\t\t\t\t\t\tvalue={ textPositionX }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { textPositionX: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ value: 'x-left', label: __( 'Left' ) },\n\t\t\t\t\t\t\t{ value: 'x-center', label: __( 'Center' ) },\n\t\t\t\t\t\t\t{ value: 'x-right', label: __( 'Right' ) },\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Vertical Text Positioning' ) }\n\t\t\t\t\t\tvalue={ textPositionY }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { textPositionY: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ value: 'y-top', label: __( 'Top' ) },\n\t\t\t\t\t\t\t{ value: '', label: __( 'Center' ) },\n\t\t\t\t\t\t\t{ value: 'y-bottom', label: __( 'Bottom' ) },\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t};\n\n\t\t// Return layout controls for the 'Vertical Image and Text Side By Side' style.\n\t\tconst sideBySideLayoutControls = () => {\n\t\t\tif ( ! className.includes( 'is-style-side-by-side' ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Flip Order' ) }\n\t\t\t\t\t\tchecked={ flip }\n\t\t\t\t\t\tonChange={ () => setAttributes( { flip: ! flip } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Wide Layout' ) }\n\t\t\t\t\t\tchecked={ wide }\n\t\t\t\t\t\tonChange={ () => setAttributes( { wide: ! wide } ) }\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t};\n\n\t\t// Return layout options if specific styles are set.\n\t\tconst layoutControls = () => {\n\t\t\tif (\n\t\t\t\t! (\n\t\t\t\t\tisStyleEmphasisOnText ||\n\t\t\t\t\tisStyleTextOverImage ||\n\t\t\t\t\tisStyleSideBySide\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<PanelBody title={ __( 'Layout Options' ) }>\n\t\t\t\t\t{ sideBySideLayoutControls() }\n\t\t\t\t\t{ textPositioningControls() }\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Boxed Text' ) }\n\t\t\t\t\t\tchecked={ box }\n\t\t\t\t\t\tonChange={ () => setAttributes( { box: ! box } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ box &&\n\t\t\t\t\t\t( isStyleEmphasisOnText || isStyleTextOverImage ) && (\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Box Opacity' ) }\n\t\t\t\t\t\t\t\tvalue={ boxOpacity }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { boxOpacity: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ 10 }\n\t\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t);\n\t\t};\n\n\t\t// Return video cropping options if specific styles are set.\n\t\tconst videoCropControls = () => {\n\t\t\tif ( ! ( isStyleTextToImage || isStyleImageToText ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<PanelBody title={ __( 'Video Options' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Leave Video Uncropped' ) }\n\t\t\t\t\t\tchecked={ videoUncropped }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tvideoUncropped: ! videoUncropped,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t);\n\t\t};\n\n\t\t// Return the block editing interface.\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BackgroundControls\n\t\t\t\t\tblockProps={ props }\n\t\t\t\t\tsetIsUploading={ setIsUploading }\n\t\t\t\t/>\n\t\t\t\t<div className={ classes }>\n\t\t\t\t\t<div className=\"container-lockup\">\n\t\t\t\t\t\t<div className=\"wp-block-leadin-media\">\n\t\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"container-words-outer\">\n\t\t\t\t\t\t\t<div className={ boxClasses }>\n\t\t\t\t\t\t\t\t{ applyFilters(\n\t\t\t\t\t\t\t\t\t'buPrepress.PrimaryTerm',\n\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\t\tprops\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"h1\"\n\t\t\t\t\t\t\t\t\tclassName=\"head\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Add headline' ) }\n\t\t\t\t\t\t\t\t\tvalue={ head }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { head: value } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ ( ! RichText.isEmpty( deck ) ||\n\t\t\t\t\t\t\t\t\tisSelected ) && (\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\ttagName=\"h4\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"deck\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Add subheader (optional)'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tvalue={ deck }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { deck: value } )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\tclassName=\"wp-block-editorial-leadin-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t'Add a caption and/or media credit...'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic', 'core/link' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\n\t\t\t\t{ applyFilters(\n\t\t\t\t\t'buBlocks.leadin.metaBar',\n\t\t\t\t\t'',\n\t\t\t\t\tmetabar,\n\t\t\t\t\tmetabardate\n\t\t\t\t) }\n\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t{ mediaPositioningControls() }\n\t\t\t\t\t{ videoCropControls() }\n\t\t\t\t\t{ layoutControls() }\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: themeColor.color,\n\t\t\t\t\t\t\t\tonChange: setThemeColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Theme' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tclassName=\"components-panel__body-bu-leadin-block-url bu-blocks-leadin-block-url-input\"\n\t\t\t\t\t\ttitle={ __( 'URL' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\tLink the leadin block to a story. (Optional)\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<URLInput\n\t\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { url: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n\n\tsave() {\n\t\t// Rendering handled in PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * BLOCK: bu/buniverse\n *\n * Register a BUniverse embed block with Gutenberg.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Internal dependencies.\nimport getAllowedFormats from '../../global/allowed-formats';\nimport blockIcons from '../../components/block-icons/';\n\n//  Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Fragment } = wp.element;\nconst { PanelBody, Path, RadioControl, SVG, TextControl, ToggleControl } =\n\twp.components;\nconst { InspectorControls, RichText, useBlockProps } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string} className     Default classes assigned to the block.\n * @param {string} stylizedTitle If the block has a stylized title.\n */\nconst getClasses = ( className, aspectRatio ) => {\n\treturn classnames( 'wp-block-global-buniverse', {\n\t\t[ aspectRatio ]: aspectRatio,\n\t\t[ className ]: className,\n\t} );\n};\n\n// Register the block.\nregisterBlockType( 'bu/buniverse', {\n\tapiVersion: 2,\n\ttitle: __( 'BUniverse Video' ),\n\tdescription: __(\n\t\t'Insert videos from bu.edu/buniverse. BUniverse videos allow for a high resolution cover image and better control over Youtube embeds.'\n\t),\n\ticon: blockIcons( 'buniverse' ),\n\tcategory: 'bu',\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'string',\n\t\t},\n\t\taspectRatio: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tcontrols: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 1,\n\t\t},\n\t\tautoplay: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 0,\n\t\t},\n\t\tstart: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tminutes: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tseconds: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\n\tedit( props ) {\n\t\tconst {\n\t\t\tattributes: {\n\t\t\t\tid,\n\t\t\t\taspectRatio,\n\t\t\t\tcaption,\n\t\t\t\tcontrols,\n\t\t\t\tautoplay,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t},\n\t\t\tclassName,\n\t\t\tisSelected,\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tconst blockProps = useBlockProps( {\n\t\t\tclassName: getClasses( className, aspectRatio ),\n\t\t} );\n\n\t\t/**\n\t\t * Sets the value for the `minutes` attribute and\n\t\t * calculates a new value to set for the `start` attribute.\n\t\t *\n\t\t * Note: no calculations are done to account for values\n\t\t * greater than 60 entered into the `seconds` input, so\n\t\t * as to avoid subverting expectations in cases where a\n\t\t * user might deliberately do so.\n\t\t *\n\t\t * @param {string} value The value entered into the input.\n\t\t */\n\t\tconst onChangeMinutes = ( value ) => {\n\t\t\tconst newValue = Number( value );\n\t\t\tconst newStart = newValue * 60 + ( seconds ? seconds : 0 );\n\n\t\t\tsetAttributes( { minutes: newValue } );\n\t\t\tsetAttributes( { start: newStart } );\n\t\t};\n\n\t\t/**\n\t\t * Sets the value for the `seconds` attribute and\n\t\t * calculates a new value to set for the `start` attribute.\n\t\t *\n\t\t * Note: See the above note about calculating `seconds` values.\n\t\t *\n\t\t * @param {string} value The value entered into the input.\n\t\t */\n\t\tconst onChangeSeconds = ( value ) => {\n\t\t\tconst newValue = Number( value );\n\t\t\tconst newStart = newValue + ( minutes ? minutes * 60 : 0 );\n\n\t\t\tsetAttributes( { seconds: newValue } );\n\t\t\tsetAttributes( { start: newStart } );\n\t\t};\n\n\t\t// Build out the basic url, intentionally leaving off the extra parameters\n\t\t// because they cause the iframe to reload every time they're changed.\n\t\tconst url = `//www.bu.edu/buniverse/interface/embed/embed.html?v=${ id }&jsapi=1`;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Video Settings' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={ __( 'Video ID:' ) }\n\t\t\t\t\t\t\tclassName=\"buniverse-set-video-id\"\n\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { id: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Enter the ID portion of a BUniverse video URL.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tclassName=\"buniverse-aspect-ratio-options\"\n\t\t\t\t\t\t\tlabel={ __( 'Aspect Ratio' ) }\n\t\t\t\t\t\t\tselected={ aspectRatio }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'16:9 is typically used on widescreen video. 4:3 is often used for older fullscreen video. 1:1 is square. 9:16 and 3:4 are used for vertical video.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: '16:9',\n\t\t\t\t\t\t\t\t\tvalue: 'has-aspectratio-16by9',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{ label: '4:3', value: 'has-aspectratio-4by3' },\n\t\t\t\t\t\t\t\t{ label: '1:1', value: 'has-aspectratio-1by1' },\n\t\t\t\t\t\t\t\t{ label: '3:4', value: 'has-aspectratio-3by4' },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: '9:16',\n\t\t\t\t\t\t\t\t\tvalue: 'has-aspectratio-9by16',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\tonChange={ ( option ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: option } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"buniverse-parameter-toggles\">\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Hide Player Controls' ) }\n\t\t\t\t\t\t\t\tchecked={ controls === 0 }\n\t\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tcontrols: controls === 0 ? 1 : 0,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Auto Start (muted)' ) }\n\t\t\t\t\t\t\t\tchecked={ autoplay === 1 }\n\t\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tautoplay: autoplay === 0 ? 1 : 0,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"buniverse-start-time\">\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Start At' ) }\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={ minutes }\n\t\t\t\t\t\t\t\tonChange={ onChangeMinutes }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={ seconds }\n\t\t\t\t\t\t\t\tonChange={ onChangeSeconds }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<figure { ...blockProps }>\n\t\t\t\t\t<div className=\"wp-block-global-buniverse-wrapper\">\n\t\t\t\t\t\t{ ! id && (\n\t\t\t\t\t\t\t<div className=\"wp-block-global-buinverse-placeholder\">\n\t\t\t\t\t\t\t\t<div className=\"buniverse-logo\"></div>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t'Enter BUniverse video ID here'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { id: value } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"buniverse-video-id-screenshot\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ id && (\n\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t\t\tframeborder=\"0\"\n\t\t\t\t\t\t\t\tallow=\"autoplay; fullscreen\"\n\t\t\t\t\t\t\t></iframe>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t\t<figcaption>\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-global-buniverse-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t'Add a caption and/or media credit...'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic', 'core/link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t) }\n\t\t\t\t</figure>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\tid,\n\t\t\taspectRatio,\n\t\t\tcaption,\n\t\t\tcontrols,\n\t\t\tautoplay,\n\t\t\tstart,\n\t\t\tclassName,\n\t\t} = attributes;\n\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: getClasses( className, aspectRatio ),\n\t\t} );\n\n\t\t// Build out the full url.\n\t\tlet url = `//www.bu.edu/buniverse/interface/embed/embed.html?v=${ id }&jsapi=1`;\n\t\turl += controls !== 1 ? '&controls=0' : '';\n\t\turl += autoplay === 1 ? '&autoplay=true' : '';\n\t\turl += start ? `&start=${ start }` : '';\n\n\t\treturn (\n\t\t\t<figure { ...blockProps }>\n\t\t\t\t<div className=\"wp-block-global-buniverse-wrapper\">\n\t\t\t\t\t{ id && (\n\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\tsrc={ encodeURI( url ) }\n\t\t\t\t\t\t\tframeborder=\"0\"\n\t\t\t\t\t\t\tallow=\"autoplay; fullscreen\"\n\t\t\t\t\t\t></iframe>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t{ caption && (\n\t\t\t\t\t<figcaption>\n\t\t\t\t\t\t<p class=\"wp-block-global-buniverse-caption wp-prepress-component-caption\">\n\t\t\t\t\t\t\t{ caption }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</figcaption>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n} );\n","/**\n * BLOCK: bu/pullquote\n *\n * Register a pullquote block with Gutenberg.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n//  Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport Background, {\n\tBackgroundAttributes,\n\tBackgroundControls,\n} from '../../components/background';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport themeOptions from '../../global/theme-options';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Fragment, useState } = wp.element;\nconst { PanelBody, Path, SelectControl, TextControl, SVG } = wp.components;\nconst { InspectorControls, PanelColorSettings, RichText, withColors } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n// Returns true if the current block style is \"Default\".\nconst isStyleDefault = ( className ) => {\n\treturn (\n\t\t! className.includes( 'is-style-modern' ) &&\n\t\t! className.includes( 'is-style-pop' )\n\t);\n};\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string} className    The classnames assigned to the block\n * @param {number} backgroundId ID of the background media, if set.\n * @param {string} imageFocus   Value of the \"Crop Media To\" setting.\n * @param {string} themeColor   Value of the \"Theme Color\" setting.\n */\nconst getClasses = (\n\tclassName,\n\tbackgroundId,\n\timageFocus,\n\tthemeColor,\n\ttextColor\n) => {\n\tconst isStylePop = className.includes( 'is-style-pop' );\n\n\treturn classnames( className, {\n\t\t'has-image': backgroundId && ! isStylePop,\n\t\t[ `has-image-focus-${ imageFocus }` ]: imageFocus && ! isStylePop,\n\t\t[ `has-${ themeColor }-theme` ]: themeColor,\n\t\t[ `has-${ textColor }-theme-text` ]: textColor,\n\t} );\n};\n\n// Only allow images in the background component for this block.\nconst allowedMedia = [ 'image' ];\n\n// Register the block.\nregisterBlockType( 'bu/pullquote', {\n\ttitle: __( 'BU Pullquote' ),\n\tdescription: __( '' ),\n\ticon: blockIcons( 'pullquote' ),\n\tcategory: 'bu',\n\tsupports: {\n\t\talign: [ 'full', 'wide' ],\n\t},\n\tattributes: {\n\t\tquote: {\n\t\t\ttype: 'array',\n\t\t\tsource: 'children',\n\t\t\tselector: '.quote-sizing',\n\t\t},\n\t\tphotoCredit: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'text',\n\t\t\tselector: '.wp-component-media-credit',\n\t\t},\n\t\tcite: {\n\t\t\ttype: 'array',\n\t\t\tsource: 'children',\n\t\t\tselector: 'footer',\n\t\t},\n\t\timageFocus: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'center-middle',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tthemeColor: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\ttextColor: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\t...BackgroundAttributes,\n\t},\n\tstyles: [\n\t\t{\n\t\t\tname: '',\n\t\t\tlabel: __( 'Default' ),\n\t\t\tdefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'modern',\n\t\t\tlabel: __( 'Modern' ),\n\t\t},\n\t\t{\n\t\t\tname: 'pop',\n\t\t\tlabel: __( 'Pop' ),\n\t\t},\n\t],\n\n\tedit: withColors(\n\t\t'themeColor',\n\t\t'textColor'\n\t)( ( props ) => {\n\t\t// Get the block properties.\n\t\tconst {\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tclassName,\n\t\t\tsetThemeColor,\n\t\t\tthemeColor,\n\t\t\ttextColor,\n\t\t\tsetTextColor,\n\t\t} = props;\n\n\t\t// Get the block attributes.\n\t\tconst { quote, cite, photoCredit, imageFocus, backgroundId } =\n\t\t\tattributes;\n\n\t\tconst [ isUploading, setIsUploading ] = useState( false );\n\n\t\t// Return the background media positioning controls if a background is set\n\t\t// and the style is not set to \"Pop\".\n\t\tconst mediaPositioningControls = () => {\n\t\t\tif ( ! backgroundId || className.includes( 'is-style-pop' ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ __( 'Media Positioning' ) }\n\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Crop Media to:' ) }\n\t\t\t\t\t\tvalue={ imageFocus }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { imageFocus: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ value: 'left-top', label: __( 'Left Top' ) },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'left-middle',\n\t\t\t\t\t\t\t\tlabel: __( 'Left Center' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'left-bottom',\n\t\t\t\t\t\t\t\tlabel: __( 'Left Bottom' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ value: 'center-top', label: __( 'Center Top' ) },\n\t\t\t\t\t\t\t{ value: 'center-middle', label: __( 'Center' ) },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'center-bottom',\n\t\t\t\t\t\t\t\tlabel: __( 'Center Bottom' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ value: 'right-top', label: __( 'Right Top' ) },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'right-middle',\n\t\t\t\t\t\t\t\tlabel: __( 'Right Center' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'right-bottom',\n\t\t\t\t\t\t\t\tlabel: __( 'Right Bottom' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t);\n\t\t};\n\n\t\t// Return the block editing interface.\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Media Options' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={ __( 'Media Credit' ) }\n\t\t\t\t\t\t\tonChange={ ( photoCredit ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { photoCredit } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={ photoCredit }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Theme Color' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: themeColor.color,\n\t\t\t\t\t\t\t\tonChange: setThemeColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Theme' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Text Color' ) }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: textColor.color,\n\t\t\t\t\t\t\t\tonChange: setTextColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Text Color' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t{ mediaPositioningControls() }\n\t\t\t\t</InspectorControls>\n\t\t\t\t<BackgroundControls\n\t\t\t\t\tallowedMediaTypes={ allowedMedia }\n\t\t\t\t\tblockProps={ props }\n\t\t\t\t\tplaceholderText={ __( 'Add Image' ) }\n\t\t\t\t\tsetIsUploading={ setIsUploading }\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ getClasses(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tbackgroundId,\n\t\t\t\t\t\timageFocus,\n\t\t\t\t\t\tthemeColor.slug,\n\t\t\t\t\t\ttextColor.slug\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<div className=\"wp-block-bu-pullquote-inner\">\n\t\t\t\t\t\t{ isStyleDefault( className ) && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<blockquote>\n\t\t\t\t\t\t\t<div className=\"container-lockup\">\n\t\t\t\t\t\t\t\t<div className=\"container-icon-outer\">\n\t\t\t\t\t\t\t\t\t<div className=\"container-icon-inner\">\n\t\t\t\t\t\t\t\t\t\t{ className.includes(\n\t\t\t\t\t\t\t\t\t\t\t'is-style-modern'\n\t\t\t\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"container-text\">\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"quote-sizing\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Add quote text' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={ quote }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { quote: value } )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/link',\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\ttagName=\"footer\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Add quote attribution'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tvalue={ cite }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { cite: value } )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/link',\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{ className.includes( 'is-style-modern' ) &&\n\t\t\t\t\t\t\t\t\tphotoCredit && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"wp-component-media-credit\">\n\t\t\t\t\t\t\t\t\t\t\t{ photoCredit }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</blockquote>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ isStyleDefault( className ) && photoCredit && (\n\t\t\t\t\t\t<div className=\"wp-component-media-credit\">\n\t\t\t\t\t\t\t{ photoCredit }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n\n\tsave( props ) {\n\t\t// Get the block properties.\n\t\tconst { attributes } = props;\n\n\t\t// Get the block attributes.\n\t\tconst {\n\t\t\tquote,\n\t\t\tcite,\n\t\t\timageFocus,\n\t\t\tphotoCredit,\n\t\t\tbackgroundId,\n\t\t\tclassName = '', // Assign default in case the unpacked value is `undefined`.\n\t\t\tthemeColor,\n\t\t\ttextColor,\n\t\t} = attributes;\n\n\t\t// Returns the block rendering for the front end.\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ getClasses(\n\t\t\t\t\tclassName,\n\t\t\t\t\tbackgroundId,\n\t\t\t\t\timageFocus,\n\t\t\t\t\tthemeColor,\n\t\t\t\t\ttextColor\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<div className=\"wp-block-bu-pullquote-inner\">\n\t\t\t\t\t{ isStyleDefault( className ) && (\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<Background blockProps={ props } />\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t) }\n\t\t\t\t\t<blockquote>\n\t\t\t\t\t\t<div className=\"container-lockup\">\n\t\t\t\t\t\t\t<div className=\"container-icon-outer\">\n\t\t\t\t\t\t\t\t<div className=\"container-icon-inner\">\n\t\t\t\t\t\t\t\t\t{ className.includes(\n\t\t\t\t\t\t\t\t\t\t'is-style-modern'\n\t\t\t\t\t\t\t\t\t) && <Background blockProps={ props } /> }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"container-text\">\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\t\tclassName=\"quote-sizing\"\n\t\t\t\t\t\t\t\t\tvalue={ quote }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"footer\"\n\t\t\t\t\t\t\t\t\tclassName=\"caption\"\n\t\t\t\t\t\t\t\t\tvalue={ cite }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ className.includes( 'is-style-modern' ) &&\n\t\t\t\t\t\t\t\tphotoCredit && (\n\t\t\t\t\t\t\t\t\t<div className=\"wp-component-media-credit\">\n\t\t\t\t\t\t\t\t\t\t{ photoCredit }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</blockquote>\n\t\t\t\t</div>\n\n\t\t\t\t{ isStyleDefault( className ) && photoCredit && (\n\t\t\t\t\t<div className=\"wp-component-media-credit\">\n\t\t\t\t\t\t{ photoCredit }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t},\n} );\n","/**\n * BLOCK: editorial/photoessay/image\n *\n * Register an individual image block for the photo essay block.\n *\n * Instead of using InnerBlocks with the default image block as the only\n * allowed block, this is a simplified version of the default image block.\n * This approach will prevent an extra block layer that could confuse users,\n * avoids the alignment options of the default image block, and may help with\n * the modal functionality of the photo essay block.\n */\n\nimport getAllowedFormats from '../../global/allowed-formats';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { IconButton, PanelBody, Toolbar } = wp.components;\nconst { Fragment } = wp.element;\nconst {\n\tBlockControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tRichText,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { addFilter } = wp.hooks;\nconst { createHigherOrderComponent } = wp.compose;\n\n// Register the block.\nregisterBlockType( 'editorial/photoessay-image', {\n\ttitle: __( 'Photo Essay Image' ),\n\tdescription: __( 'An individual image block for use in photo essay rows.' ),\n\ticon: 'format-image',\n\tcategory: 'bu-editorial',\n\tparent: [ 'editorial/photoessay' ],\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\turl: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'img',\n\t\t\tattribute: 'src',\n\t\t},\n\t\talt: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'img',\n\t\t\tattribute: 'alt',\n\t\t\tdefault: '',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tcolumnClass: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\tsupports: {\n\t\tclassName: false,\n\t\tcustomClassName: false,\n\t\thtml: false,\n\t\tinserter: false,\n\t\treusable: false,\n\t},\n\n\tgetEditWrapperProps( { columnClass } ) {\n\t\treturn {\n\t\t\tclassName:\n\t\t\t\t'wp-block editor-block-list__block block-editor-block-list__block ' +\n\t\t\t\tcolumnClass,\n\t\t};\n\t},\n\n\tedit( { attributes, setAttributes, isSelected } ) {\n\t\tconst { id, url, alt, columnClass, caption } = attributes;\n\n\t\t// Set attributes when an image is selected.\n\t\tconst onSelectImage = ( media ) => {\n\t\t\tif ( ! media || ! media.id || ! media.url ) {\n\t\t\t\tonRemoveImage();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetAttributes( {\n\t\t\t\tid: media.id,\n\t\t\t\turl: media.sizes[ 'large' ]\n\t\t\t\t\t? media.sizes[ 'large' ].url\n\t\t\t\t\t: media.url,\n\t\t\t\talt: media.alt,\n\t\t\t} );\n\t\t};\n\n\t\t// Reset attributes when an image is removed.\n\t\tconst onRemoveImage = () => {\n\t\t\tsetAttributes( {\n\t\t\t\tid: undefined,\n\t\t\t\turl: undefined,\n\t\t\t\talt: undefined,\n\t\t\t} );\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"wp-block-photoessay-media\">\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t{ ! url && (\n\t\t\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\t\t\ticon=\"format-image\"\n\t\t\t\t\t\t\t\tlabel=\"Image\"\n\t\t\t\t\t\t\t\tlabels={ {\n\t\t\t\t\t\t\t\t\ttitle: 'Image',\n\t\t\t\t\t\t\t\t\tname: 'images',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ url && (\n\t\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Edit image\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRemoveImage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-image__remove\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Remove image\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t{ url && (\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) &&\n\t\t\t\t\t\t\t\turl && (\n\t\t\t\t\t\t\t\t\t<div className=\"wp-block-photoessay-media-caption-editor-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-photoessay-media-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Add a caption and/or media credit...'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaption: value,\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core/link',\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div class=\"wp-block-photoessay-media-editorshim\"></div>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { id, url, alt, columnClass, caption } = attributes;\n\n\t\treturn (\n\t\t\t<div className={ columnClass }>\n\t\t\t\t<div className=\"wp-block-photoessay-media\">\n\t\t\t\t\t<figure>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t\t\t<figcaption>\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-photoessay-media-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</figure>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n} );\n","/**\n * BLOCK: editorial/photoessay\n *\n * Register a photo essay block with Gutenberg.\n */\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport './photoessay-image';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Fragment } = wp.element;\nconst { PanelBody, Path, RadioControl, SVG } = wp.components;\nconst { InnerBlocks, InspectorControls } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { dispatch, select } = wp.data;\n\n// Populate selectors that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst { getBlocksByClientId } =\n\t'undefined' === typeof select( 'core/block-editor' )\n\t\t? select( 'core/editor' )\n\t\t: select( 'core/block-editor' );\n\n// Populate actions that were in core/editor until WordPress 5.2 and are\n// now located in core/block-editor.\nconst { updateBlockAttributes, removeBlock } =\n\t'undefined' === typeof dispatch( 'core/block-editor' )\n\t\t? dispatch( 'core/editor' )\n\t\t: dispatch( 'core/block-editor' );\n\n// Register the block.\nregisterBlockType( 'editorial/photoessay', {\n\ttitle: __( 'Photo Essay' ),\n\tdescription: __( 'Insert a row of photos with optional layouts.' ),\n\ticon: blockIcons( 'photoessay' ),\n\tcategory: 'bu-editorial',\n\tattributes: {\n\t\tlayout: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: [ 'wide', 'full' ],\n\t},\n\n\tedit( { attributes, setAttributes, clientId } ) {\n\t\tconst { layout } = attributes;\n\n\t\t/**\n\t\t * Updates the layout attribute and handles any necessary block updates or removals.\n\t\t *\n\t\t * @param {string} newLayout Currently selected layout option.\n\t\t */\n\t\tconst onChangeLayout = ( newLayout ) => {\n\t\t\tsetAttributes( { layout: newLayout } );\n\n\t\t\t// Get the image block classes from the information contained in the layout option.\n\t\t\tconst blockClasses = newLayout.split( '-' ).splice( 3 );\n\n\t\t\t// Get any existing image blocks.\n\t\t\tconst currentBlocks =\n\t\t\t\tgetBlocksByClientId( clientId )[ 0 ].innerBlocks;\n\n\t\t\t// Update any existing photoessay-image blocks with the correct class name when\n\t\t\t// the layout changes. A template applied to the photoessay block provides default\n\t\t\t// columnClass values for the inner photoessay-image blocks, but will not override\n\t\t\t// attributes previously assigned to the block.\n\t\t\tblockClasses.forEach( ( blockClass, i ) => {\n\t\t\t\tconst existingBlock = currentBlocks[ i ];\n\t\t\t\tconst newColumnClass = { columnClass: `photo-${ blockClass }` };\n\n\t\t\t\tif ( existingBlock ) {\n\t\t\t\t\t// Update the `columnClass` attribute of the existing block at this index.\n\t\t\t\t\tupdateBlockAttributes(\n\t\t\t\t\t\texistingBlock.clientId,\n\t\t\t\t\t\tnewColumnClass\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Remove excess blocks if the new layout has fewer images than the previous.\n\t\t\tcurrentBlocks.forEach( ( block, i ) => {\n\t\t\t\tif ( blockClasses[ i ] ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tremoveBlock( block.clientId, false );\n\t\t\t} );\n\t\t};\n\n\t\t// Assume an empty template that will be populated based on the number\n\t\t// of blocks expected by the selected layout.\n\t\tlet photoTemplate = [];\n\n\t\t// Set a default layout when the block is first inserted and\n\t\t// ensure one photoessay-image block is added to the template.\n\t\tif ( layout === '' ) {\n\t\t\tsetAttributes( { layout: 'photo-row-thirds-3' } );\n\t\t\tphotoTemplate.push( [\n\t\t\t\t'editorial/photoessay-image',\n\t\t\t\t{ columnClass: 'photo-3' },\n\t\t\t] );\n\t\t} else {\n\t\t\tconst blockClasses = layout.split( '-' ).splice( 3 );\n\n\t\t\t// Ensure the photoessay template for this block contains enough\n\t\t\t// room for the number of expected photoessay-image blocks.\n\t\t\tblockClasses.forEach( ( blockClass, i ) => {\n\t\t\t\tphotoTemplate.push( [\n\t\t\t\t\t'editorial/photoessay-image',\n\t\t\t\t\t{ columnClass: `photo-${ blockClass }` },\n\t\t\t\t] );\n\t\t\t} );\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Photo Essay Row Settings' ) }>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tlabel={ __( 'Layout' ) }\n\t\t\t\t\t\t\tclassName=\"bu-photoessay-layout-options\"\n\t\t\t\t\t\t\tselected={ layout }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t// Single column layouts.\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Single full-frame image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-full-f',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Single wide image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-thirds-3',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Single ultra-wide image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-4',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// Two column layouts.\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Two landscape images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-2-2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Two portrait images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-tall-1-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One square, one portrait image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-s-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One square, one landscape image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-s-2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One square, one wide image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-s-3',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One portrait, one square image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-1-s',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One landscape, one square image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-2-s',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One wide, one square image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-3-s',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One landscape, one portrait image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-thirds-2-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One wide, one portrait image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-3-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One portrait, one landscape image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-thirds-1-2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One portrait, one wide image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-1-3',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// Three column layouts.\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Three portrait images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-thirds-1-1-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Three square images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-s-s-s',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One landscape, two portrait images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-2-1-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One portrait, one landscape, one portrait image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-1-2-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Two portrait, one landscape image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-1-1-2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One ultra-wide, two landscape image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-short-4-2-2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'One landscape, one ultra-wide, one landscape image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-short-2-4-2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Two landscape, one ultra-wide image',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-short-2-2-4',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// Four column layouts.\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Four portrait images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-fourths-1-1-1-1',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Four square images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-square-s-s-s-s',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Four wide images',\n\t\t\t\t\t\t\t\t\tvalue: 'photo-row-short-2-2-2-2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\tonChange={ onChangeLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div className=\"wp-block-editorial-photoessay\">\n\t\t\t\t\t<div className={ layout }>\n\t\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\t\ttemplate={ photoTemplate }\n\t\t\t\t\t\t\ttemplateLock=\"all\"\n\t\t\t\t\t\t\tallowedBlocks={ [ 'editorial/photoessay-image' ] }\n\t\t\t\t\t\t\ttemplateInsertUpdatesSelection={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { layout } = attributes;\n\n\t\treturn (\n\t\t\t<div className=\"wp-block-photoessay js-block-editorial-photoessay\">\n\t\t\t\t<div className={ layout }>\n\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n} );\n","/**\n * BLOCK: bu-button\n *\n * Prompt visitors to take action with a custom button.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Internal dependencies.\nimport themeOptions from '../../global/theme-options.js';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport publicationSlug from '../../global/publication-slug';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Button, Dashicon, G, IconButton, PanelBody, Path, RadioControl, SVG } =\n\twp.components;\nconst { Fragment } = wp.element;\nconst {\n\tInspectorControls,\n\tPanelColorSettings,\n\tRichText,\n\tURLInput,\n\twithColors,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n// The current publication owner.\nconst publication = publicationSlug();\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string} className  Additional classes assigned to the block.\n * @param {string} themeColor The theme color assigned to the block.\n * @param {string} icon       The icon placement.\n */\nconst getClasses = ( className, themeColor, icon ) =>\n\tclassnames( 'wp-block-button', {\n\t\t[ `${ publication }-block-button` ]: publication && publication !== '',\n\t\t[ `has-${ themeColor }-theme` ]: themeColor,\n\t\t[ `icon-navigateright ${ icon }` ]: icon,\n\t\t[ className ]: className,\n\t} );\n\nconst deprecated = [\n\t{\n\t\ttitle: __( 'Button' ),\n\t\tdescription: __(\n\t\t\t'Prompt visitors to take action with a custom button.'\n\t\t),\n\t\ticon: (\n\t\t\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t<Path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n\t\t\t\t<G>\n\t\t\t\t\t<Path\n\t\t\t\t\t\tfill=\"#c00\"\n\t\t\t\t\t\td=\"M19 6H5L3 8v8l2 2h14l2-2V8l-2-2zm0 10H5V8h14v8z\"\n\t\t\t\t\t/>\n\t\t\t\t</G>\n\t\t\t</SVG>\n\t\t),\n\t\tcategory: 'bu',\n\t\tattributes: {\n\t\t\turl: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'a',\n\t\t\t\tattribute: 'href',\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'a',\n\t\t\t\tattribute: 'title',\n\t\t\t},\n\t\t\ttext: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: 'a',\n\t\t\t},\n\t\t\tthemeColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\ticon: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tclassName: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\tstyles: [\n\t\t\t{\n\t\t\t\tname: 'default',\n\t\t\t\tlabel: __( 'Default' ),\n\t\t\t\tisDefault: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'outline',\n\t\t\t\tlabel: __( 'Outline' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'text',\n\t\t\t\tlabel: __( 'Text' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'accent',\n\t\t\t\tlabel: __( 'Accent' ),\n\t\t\t},\n\t\t],\n\t\tsupports: {\n\t\t\tclassName: false,\n\t\t\tcustomClassName: false,\n\t\t\talign: [ 'left', 'center', 'right' ],\n\t\t},\n\n\t\tedit: withColors( 'themeColor' )( ( props ) => {\n\t\t\tconst {\n\t\t\t\tattributes: { text, url, icon },\n\t\t\t\tthemeColor,\n\t\t\t\tsetThemeColor,\n\t\t\t\tsetAttributes,\n\t\t\t\tisSelected,\n\t\t\t\tclassName,\n\t\t\t} = props;\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: themeColor.color,\n\t\t\t\t\t\t\t\t\tonChange: setThemeColor,\n\t\t\t\t\t\t\t\t\tlabel: __( 'Theme' ),\n\t\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<PanelBody title={ __( 'Icon Settings' ) }>\n\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\tlabel=\"Placement\"\n\t\t\t\t\t\t\t\tselected={ icon }\n\t\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'Before text',\n\t\t\t\t\t\t\t\t\t\tvalue: 'align-icon-left',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: 'After text',\n\t\t\t\t\t\t\t\t\t\tvalue: 'align-icon-right',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\tsetAttributes( { icon: value } );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { icon: undefined } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={ 'Clear icon settings' }\n\t\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Clear' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\tplaceholder={ __( 'Add text' ) }\n\t\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { text: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tclassName={ getClasses(\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\tthemeColor.slug,\n\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t</p>\n\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tclassName=\"block-library-button__inline-link\"\n\t\t\t\t\t\t\tonSubmit={ ( event ) => event.preventDefault() }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Dashicon icon=\"admin-links\" />\n\t\t\t\t\t\t\t<URLInput\n\t\t\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { url: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\ticon=\"editor-break\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} ),\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, text, themeColor, icon, className } = attributes;\n\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\t\tclassName={ getClasses( className, themeColor, icon ) }\n\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t);\n\t\t},\n\t},\n];\n\nexport default deprecated;\n","/**\n * BLOCK: bu-button\n *\n * Prompt visitors to take action with a custom button.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Internal dependencies.\nimport themeOptions from '../../global/theme-options';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport publicationSlug from '../../global/publication-slug';\nimport blockIcons from '../../components/block-icons/';\n\nimport deprecated from './deprecated';\n\n//  Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Button, Dashicon, G, IconButton, PanelBody, Path, RadioControl, SVG } =\n\twp.components;\nconst { Fragment } = wp.element;\nconst {\n\tInspectorControls,\n\tPanelColorSettings,\n\tRichText,\n\tURLInput,\n\twithColors,\n\tuseBlockProps,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n// The current publication owner.\nconst publication = publicationSlug();\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string} className  Additional classes assigned to the block.\n * @param {string} themeColor The theme color assigned to the block.\n * @param {string} icon       The icon placement.\n */\nconst getClasses = ( className, themeColor, icon ) =>\n\tclassnames( 'wp-block-button', 'wp-block-bu-button', {\n\t\t[ `${ publication }-block-button` ]: publication && publication !== '',\n\t\t[ `has-${ themeColor }-theme` ]: themeColor,\n\t\t[ `icon-navigateright ${ icon }` ]: icon,\n\t\t[ className ]: className,\n\t} );\n\n// Register the block.\nregisterBlockType( 'bu/button', {\n\tapiVersion: 2,\n\ttitle: __( 'Button' ),\n\tdescription: __( 'Prompt visitors to take action with a custom button.' ),\n\ticon: blockIcons( 'button' ),\n\tcategory: 'bu',\n\tattributes: {\n\t\turl: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a',\n\t\t\tattribute: 'href',\n\t\t},\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a',\n\t\t\tattribute: 'title',\n\t\t},\n\t\ttext: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a',\n\t\t},\n\t\tthemeColor: {\n\t\t\ttype: 'string',\n\t\t},\n\t\ticon: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\tstyles: [\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: __( 'Default' ),\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'outline',\n\t\t\tlabel: __( 'Outline' ),\n\t\t},\n\t\t{\n\t\t\tname: 'text',\n\t\t\tlabel: __( 'Text' ),\n\t\t},\n\t\t{\n\t\t\tname: 'accent',\n\t\t\tlabel: __( 'Accent' ),\n\t\t},\n\t],\n\tsupports: {\n\t\tclassName: false,\n\t\tcustomClassName: false,\n\t\talign: [ 'left', 'center', 'right' ],\n\t},\n\n\tedit: withColors( 'themeColor' )( ( props ) => {\n\t\tconst {\n\t\t\tattributes: { text, url, icon, align },\n\t\t\tthemeColor,\n\t\t\tsetThemeColor,\n\t\t\tsetAttributes,\n\t\t\tisSelected,\n\t\t\tclassName,\n\t\t} = props;\n\n\t\tconst blockProps = useBlockProps( {\n\t\t\tclassName: getClasses( className, themeColor.slug, icon ),\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: themeColor.color,\n\t\t\t\t\t\t\t\tonChange: setThemeColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Theme' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t<PanelBody title={ __( 'Icon Settings' ) }>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tlabel=\"Placement\"\n\t\t\t\t\t\t\tselected={ icon }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'Before text',\n\t\t\t\t\t\t\t\t\tvalue: 'align-icon-left',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: 'After text',\n\t\t\t\t\t\t\t\t\tvalue: 'align-icon-right',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { icon: value } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { icon: undefined } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={ 'Clear icon settings' }\n\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Clear' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</PanelBody>\n\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tclassName=\"components-panel__body-bu-button-block-url bu-blocks-button-block-url-input\"\n\t\t\t\t\t\ttitle={ __( 'URL' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"description\">Add link to the button</p>\n\t\t\t\t\t\t<URLInput\n\t\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { url: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<p\n\t\t\t\t\tclassName={ `wp-block-bu-button-container ${\n\t\t\t\t\t\talign ? '' : 'wp-block'\n\t\t\t\t\t}` }\n\t\t\t\t>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\t{ ...blockProps }\n\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\tplaceholder={ __( 'Add text' ) }\n\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { text: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tallowedFormats={ getAllowedFormats( 'allowedFormats', [\n\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t] ) }\n\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n\n\tsave( { attributes } ) {\n\t\tconst { url, text, themeColor, icon, className } = attributes;\n\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: getClasses( className, themeColor, icon ),\n\t\t} );\n\n\t\treturn (\n\t\t\t<p>\n\t\t\t\t<RichText.Content\n\t\t\t\t\t{ ...blockProps }\n\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\thref={ url }\n\t\t\t\t\tvalue={ text }\n\t\t\t\t/>\n\t\t\t</p>\n\t\t);\n\t},\n\n\tdeprecated,\n} );\n","/**\n * BLOCK: bu-relatedstories-cgb\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport blockIcons from '../../components/block-icons';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\n\nconst { registerBlockType } = wp.blocks;\n\nconst { withState, compose } = wp.compose;\n\nconst { withSelect, select } = wp.data;\n\nconst { Fragment } = wp.element;\n\nconst { PanelBody, RangeControl, ToggleControl } = wp.components;\n\nconst {\n\tInspectorControls,\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\tURLInput,\n\tuseBlockProps,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\nconst { addQueryArgs } = wp.url;\n\nconst { apiFetch } = wp;\n\nconst { applyFilters } = wp.hooks;\n\nconst { decodeEntities } = wp.htmlEntities;\n\nimport classnames from 'classnames';\n\n// Register the block.\nregisterBlockType( 'editorial/relatedstories', {\n\tapiVersion: 2,\n\ttitle: __( 'Related Stories' ),\n\tdescription: __( 'A list of related stories to embed in an article.' ),\n\ticon: blockIcons( 'related' ),\n\tcategory: 'bu-editorial',\n\tattributes: {\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'right',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\n\t\t// The number of cards to display when not a list format.\n\t\tcardCount: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2,\n\t\t},\n\n\t\t// Whether posts are selected manually or via YARPP.\n\t\trelatedManual: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\n\t\t// Store the post IDs used when a related stories list is manual.\n\t\tincludePosts: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t},\n\n\t\t// Temporarily store URL lookup data when using URLInput.\n\t\tURLInputEntry: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tstyles: [\n\t\t{\n\t\t\tname: 'list',\n\t\t\tlabel: __( 'List' ),\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'card',\n\t\t\tlabel: __( 'Card' ),\n\t\t},\n\t],\n\n\t// Only add alignment attributes when a list is being displayed.\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align, className } = attributes;\n\n\t\tif (\n\t\t\t[ 'left', 'right' ].includes( align ) &&\n\t\t\t( 'undefined' === typeof className ||\n\t\t\t\tclassName.includes( 'is-style-list' ) )\n\t\t) {\n\t\t\treturn { 'data-align': align };\n\t\t}\n\t\tif ( className.includes( 'is-style-card' ) ) {\n\t\t\treturn { 'data-style': 'card' };\n\t\t}\n\n\t\treturn { 'data-align': 'none' };\n\t},\n\n\tedit: compose( [\n\t\twithState( {\n\t\t\t// Track dynamically provided YARPP post IDs as a state.\n\t\t\tyarppPosts: [],\n\t\t\tyarppPostsError: false,\n\t\t\tdoingYarppPostsFetch: false,\n\n\t\t\t// Track the retrieval of related post IDs (manual or automatic) as a state.\n\t\t\trelatedPosts: [],\n\t\t\trelatedPostsError: false,\n\t\t\tdoingRelatedPostsFetch: false,\n\n\t\t\terrorMessage: false,\n\t\t} ),\n\t\twithSelect( ( select, props ) => {\n\t\t\tconst {\n\t\t\t\tsetState,\n\t\t\t\tyarppPosts,\n\t\t\t\tyarppPostsError,\n\t\t\t\tdoingYarppPostsFetch,\n\t\t\t\trelatedPosts,\n\t\t\t\trelatedPostsError,\n\t\t\t\tdoingRelatedPostsFetch,\n\t\t\t\terrorMessage,\n\t\t\t} = props;\n\n\t\t\tconst { relatedManual, includePosts, className, cardCount } =\n\t\t\t\tprops.attributes;\n\n\t\t\tlet query;\n\t\t\tlet isCardStyle =\n\t\t\t\tclassName && className.includes( 'is-style-card' )\n\t\t\t\t\t? true\n\t\t\t\t\t: false;\n\t\t\tlet perPage = isCardStyle && cardCount ? cardCount : 3;\n\n\t\t\tif ( relatedManual ) {\n\t\t\t\t// Setup the query arguments to run against the core REST API.\n\t\t\t\tquery = {\n\t\t\t\t\tper_page: perPage,\n\t\t\t\t\tinclude: includePosts,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// If the YARPP posts state has not yet been set, and an\n\t\t\t\t// existing YARPP API error has not been cleared, retrieve\n\t\t\t\t// a list of related post IDs.\n\t\t\t\tif ( yarppPosts.length === 0 && ! yarppPostsError ) {\n\t\t\t\t\tlet postID = select( 'core/editor' ).getCurrentPostId();\n\n\t\t\t\t\tif ( postID && ! doingYarppPostsFetch ) {\n\t\t\t\t\t\tsetState( { doingYarppPostsFetch: true } );\n\n\t\t\t\t\t\tlet postTypes = applyFilters(\n\t\t\t\t\t\t\t'buBlocks.relatedStories.yarppPostTypes',\n\t\t\t\t\t\t\t[ 'post' ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tapiFetch( {\n\t\t\t\t\t\t\tpath: addQueryArgs( '/bu-blocks/v1/yarpprelated', {\n\t\t\t\t\t\t\t\tpost_id: postID,\n\t\t\t\t\t\t\t\tpost_type: postTypes,\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t.then( ( posts ) => {\n\t\t\t\t\t\t\t\tsetState( {\n\t\t\t\t\t\t\t\t\tyarppPosts: posts,\n\t\t\t\t\t\t\t\t\tyarppPostsError:\n\t\t\t\t\t\t\t\t\t\tposts.length === 0 ? true : false,\n\t\t\t\t\t\t\t\t\tdoingYarppPostsFetch: false,\n\n\t\t\t\t\t\t\t\t\trelatedPosts: [],\n\t\t\t\t\t\t\t\t\trelatedPostsError: false,\n\t\t\t\t\t\t\t\t\tdoingRelatedPostsFetch: false,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t.catch( ( error ) => {\n\t\t\t\t\t\t\t\tif ( error.code === 'yarpp_disabled' ) {\n\t\t\t\t\t\t\t\t\tsetState( {\n\t\t\t\t\t\t\t\t\t\tyarppPostsError: true,\n\t\t\t\t\t\t\t\t\t\tdoingYarppPostsFetch: false,\n\t\t\t\t\t\t\t\t\t\terrorMessage: error.message,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Setup the query arguments to run against the core REST API.\n\t\t\t\tquery = {\n\t\t\t\t\tper_page: perPage,\n\t\t\t\t\tinclude: yarppPosts,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If a known number of posts has been provided, retrieve those posts.\n\t\t\tif (\n\t\t\t\tquery.include.length > 0 &&\n\t\t\t\trelatedPosts.length === 0 &&\n\t\t\t\t! relatedPostsError &&\n\t\t\t\t! doingRelatedPostsFetch\n\t\t\t) {\n\t\t\t\t// Filter the default post type used when retrieving.\n\t\t\t\tlet postTypes = applyFilters(\n\t\t\t\t\t'buBlocks.relatedStories.postTypes',\n\t\t\t\t\t[ 'post' ]\n\t\t\t\t);\n\n\t\t\t\t// Prevent immediate duplicate requests.\n\t\t\t\tsetState( { doingRelatedPostsFetch: true } );\n\n\t\t\t\tapiFetch( {\n\t\t\t\t\tpath: addQueryArgs( '/bu-blocks/v1/collection', {\n\t\t\t\t\t\tinclude: query.include,\n\t\t\t\t\t\tpost_type: postTypes,\n\t\t\t\t\t} ),\n\t\t\t\t} )\n\t\t\t\t\t.then( ( posts ) => {\n\t\t\t\t\t\tsetState( {\n\t\t\t\t\t\t\trelatedPosts: posts,\n\t\t\t\t\t\t\trelatedPostsError:\n\t\t\t\t\t\t\t\tposts.length === 0 ? true : false,\n\t\t\t\t\t\t\tdoingRelatedPostsFetch: false,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( ( error ) => {\n\t\t\t\t\t\t// There is no expected error here, but we can log it.\n\t\t\t\t\t\tsetState( {\n\t\t\t\t\t\t\trelatedPostsError: true,\n\t\t\t\t\t\t\tdoingRelatedPostsFetch: false,\n\t\t\t\t\t\t\terrorMessage: error.code,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tposts: relatedPosts, // Full post objects to display in the block.\n\t\t\t\terrorMessage: errorMessage, // A string to display in the block if an API request failed.\n\t\t\t};\n\t\t} ),\n\t] )( ( { posts, errorMessage, attributes, ...props } ) => {\n\t\tconst { setAttributes, setState } = props;\n\n\t\tconst {\n\t\t\talign,\n\t\t\tcardCount,\n\t\t\trelatedManual,\n\t\t\tURLInputEntry,\n\t\t\tincludePosts,\n\t\t\tclassName,\n\t\t} = attributes;\n\n\t\tlet isCardStyle =\n\t\t\tclassName && className.includes( 'is-style-card' ) ? true : false;\n\t\tlet cardCountClass = '';\n\n\t\tif ( isCardStyle && cardCount === 2 ) {\n\t\t\tcardCountClass = 'has-two';\n\t\t} else if ( isCardStyle ) {\n\t\t\tcardCountClass = ' has-three';\n\t\t}\n\n\t\tconst classes = classnames( className, cardCountClass );\n\n\t\tconst blockProps = useBlockProps( {\n\t\t\tclassName: classes,\n\t\t\t'data-style': isCardStyle ? 'card' : 'list',\n\t\t} );\n\n\t\tlet displayPosts;\n\n\t\t// If only 2 cards are being displayed, ensure the displayed posts in the block are limited to 2.\n\t\tif ( posts.length > 2 && isCardStyle && cardCount === 2 ) {\n\t\t\tdisplayPosts = posts.slice( 0, 2 );\n\t\t} else {\n\t\t\tdisplayPosts = posts;\n\t\t}\n\n\t\tlet currentPost = select( 'core/editor' ).getCurrentPost();\n\n\t\tconst displayListItem = ( className, post ) => {\n\t\t\treturn (\n\t\t\t\t<li className=\"wp-block-editorial-relatedstories-list-item\">\n\t\t\t\t\t<article className=\"wp-block-editorial-relatedstories-article\">\n\t\t\t\t\t\t{ isCardStyle && post.media_url && (\n\t\t\t\t\t\t\t<figure className=\"wp-block-editorial-relatedstories-article-image\">\n\t\t\t\t\t\t\t\t<img src={ post.media_url } alt=\"placeholder\" />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div className=\"wp-block-editorial-relatedstories-article-content\">\n\t\t\t\t\t\t\t{ isCardStyle && post.primary_term && (\n\t\t\t\t\t\t\t\t<p className=\"wp-block-editorial-relatedstories-article-category\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{ decodeEntities( post.primary_term ) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<h4 className=\"wp-block-editorial-relatedstories-article-title\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={ post.link }\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-relatedstories-article-title-link\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ decodeEntities( post.title ) }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<p className=\"wp-block-editorial-relatedstories-article-date\">\n\t\t\t\t\t\t\t\t{ post.date_gmt }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{ applyFilters(\n\t\t\t\t\t\t\t\t'buBlocks.relatedStories.displayListItem',\n\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\tpost,\n\t\t\t\t\t\t\t\tcurrentPost\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</article>\n\t\t\t\t</li>\n\t\t\t);\n\t\t};\n\n\t\t// Reset the related posts collection to its defaults to allow for\n\t\t// a fresh lookup after a change.\n\t\tconst resetRelatedState = () => {\n\t\t\tsetState( {\n\t\t\t\trelatedPosts: [],\n\t\t\t\trelatedPostsError: false,\n\t\t\t\tdoingRelatedPostsFetch: false,\n\t\t\t} );\n\t\t};\n\n\t\t/**\n\t\t * Remove a previously selected post from the list of manual posts.\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tconst removeSelectedPost = ( event ) => {\n\t\t\tlet postId = event.target.parentNode.dataset.postId;\n\n\t\t\tif ( ! postId ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet index = includePosts.indexOf( parseInt( postId ) );\n\n\t\t\tif ( index > -1 ) {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tincludePosts: includePosts.filter(\n\t\t\t\t\t\t( _, i ) => i !== index\n\t\t\t\t\t),\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Clear any error or existing fetch for selected posts.\n\t\t\tresetRelatedState();\n\t\t};\n\n\t\t/**\n\t\t * Display the markup for an existing selected post.\n\t\t *\n\t\t * @param {object} post The current post to display.\n\t\t */\n\t\tconst displaySelectedPost = ( post ) => {\n\t\t\treturn (\n\t\t\t\t<li data-post-id={ post.id }>\n\t\t\t\t\t{ decodeEntities( post.title ) }{ ' ' }\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={ removeSelectedPost }\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tid=\"remove-selected-post\"\n\t\t\t\t\t\tclass=\"components-button is-tertiary\"\n\t\t\t\t\t>\n\t\t\t\t\t\tRemove\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t};\n\n\t\t/**\n\t\t * Handle the selection of a post in the URLInput component.\n\t\t *\n\t\t * @param {string} url  The data currently in the URLInput component's text input.\n\t\t * @param {object} post The full post object, once selected.\n\t\t */\n\t\tconst handleSelectPost = ( url, post ) => {\n\t\t\t// If `post` is undefined, then the user is still searching.\n\t\t\tif ( 'undefined' === typeof post ) {\n\t\t\t\tsetAttributes( { URLInputEntry: url } );\n\t\t\t} else {\n\t\t\t\t// Once a post has been selected, add it to the list of included posts.\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tincludePosts: includePosts.concat( post.id ),\n\t\t\t\t} );\n\n\t\t\t\t// Clear the URL input field to allow for another search.\n\t\t\t\tsetAttributes( { URLInputEntry: '' } );\n\n\t\t\t\t// Clear any error or existing fetch for selected posts.\n\t\t\t\tresetRelatedState();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Toggle the manual/automatic selection for how related posts are assigned.\n\t\t */\n\t\tconst toggleRelatedManual = () => {\n\t\t\tsetAttributes( { relatedManual: ! relatedManual } );\n\n\t\t\t// Allow the manual toggle to retrigger a failed related posts request to YARPP.\n\t\t\tif ( relatedManual ) {\n\t\t\t\tsetState( {\n\t\t\t\t\tyarppPosts: [],\n\t\t\t\t\tyarppPostsError: false,\n\t\t\t\t\tdoingYarppPostsFetch: false,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tresetRelatedState();\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\ttitle={ __( 'Settings' ) }\n\t\t\t\t\t\tclassName=\"panelbody-related-stories\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isCardStyle && (\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Cards' ) }\n\t\t\t\t\t\t\t\tvalue={ cardCount }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { cardCount: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinitialPosition={ 2 }\n\t\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\t\tmax={ 3 }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel=\"Enable manual selection\"\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\trelatedManual\n\t\t\t\t\t\t\t\t\t? 'Display manually selected related stories. If the YARPP plugin is available disable manual selection to find related posts automatically.'\n\t\t\t\t\t\t\t\t\t: 'Display related stories automatically via YARPP.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={ relatedManual }\n\t\t\t\t\t\t\tonChange={ toggleRelatedManual }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ relatedManual && (\n\t\t\t\t\t\t\t<URLInput\n\t\t\t\t\t\t\t\tvalue={ URLInputEntry }\n\t\t\t\t\t\t\t\tonChange={ handleSelectPost }\n\t\t\t\t\t\t\t\tclassName=\"bu-blocks-related-stories-block-url-input-field\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ relatedManual && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<h3>Manually selected posts:</h3>\n\t\t\t\t\t\t\t\t{ posts && posts.length > 0 && (\n\t\t\t\t\t\t\t\t\t<ul className=\"panelbody-related-stories-list\">\n\t\t\t\t\t\t\t\t\t\t{ posts.map( ( post ) =>\n\t\t\t\t\t\t\t\t\t\t\tdisplaySelectedPost( post )\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t{ ! isCardStyle && (\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { align: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontrols={ [ 'left', 'right' ] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t) }\n\t\t\t\t<aside { ...blockProps }>\n\t\t\t\t\t<h3 className=\"wp-block-editorial-relatedstories-title\">\n\t\t\t\t\t\tRelated\n\t\t\t\t\t</h3>\n\t\t\t\t\t{ displayPosts && displayPosts.length > 0 ? (\n\t\t\t\t\t\t<ul className=\"wp-block-editorial-relatedstories-list\">\n\t\t\t\t\t\t\t{ displayPosts &&\n\t\t\t\t\t\t\t\tdisplayPosts.map( ( post ) =>\n\t\t\t\t\t\t\t\t\tdisplayListItem( className, post )\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p class=\"wp-block-editorial-relatedstories-error\">\n\t\t\t\t\t\t\t{ errorMessage\n\t\t\t\t\t\t\t\t? errorMessage\n\t\t\t\t\t\t\t\t: \"Select related posts in this block's settings.\" }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) }\n\t\t\t\t</aside>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n\n\t// The front-end HTML for this block is handled in PHP, but\n\t// the save function is required.\n\tsave() {\n\t\treturn null;\n\t},\n} );\n","/**\n * Component: background\n *\n * An absraction of the default Cover block for more general use inside blocks.\n *\n * Import this component and its attributes into a block with:\n * \t`import ShareTools, { ShareToolsAttributes } from '../../components/share-tools';`\n */\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { Fragment } = wp.element;\nconst { PanelBody, ToggleControl } = wp.components;\nconst { InspectorControls } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n// Share tools attributes.\nconst ShareToolsAttributes = {\n\tshareToolsDisabled: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n};\n\n// Share tools controls.\nconst ShareToolsControls = ( props ) => {\n\t// Get the properties of this component.\n\tconst { blockProps } = props;\n\n\t// Get the properties of the block using this component.\n\tconst {\n\t\tattributes: { shareToolsDisabled },\n\t\tsetAttributes,\n\t} = blockProps;\n\n\t// Return the interface for the background component.\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Sharing Options' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Disable Share Tools' ) }\n\t\t\t\t\tchecked={ shareToolsDisabled }\n\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tshareToolsDisabled: ! shareToolsDisabled,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n};\n\n/**\n * The Share Tools component.\n *\n * @param {array} props The properties passed to the component.\n */\nfunction ShareTools( props ) {\n\t// Get the properties of this component.\n\tconst { blockProps } = props;\n\n\t// Get the properties of the block using this component.\n\tconst {\n\t\tattributes: { shareToolsDisabled },\n\t} = blockProps;\n\n\t// Return the interface for the background component.\n\treturn (\n\t\t<Fragment>\n\t\t\t{ ! shareToolsDisabled && (\n\t\t\t\t<p className=\"wp-blocks-components-share-tools\">\n\t\t\t\t\t<a href=\"#\" className=\"icon-action\">\n\t\t\t\t\t\t{ __( 'Share this' ) }\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n}\n\n// Export attributes for easy importing in blocks.\nexport { ShareToolsAttributes, ShareToolsControls };\n\n// Export the share tools control panel.\nexport default ShareTools;\n","/**\n * BLOCK: editorial/listicle\n *\n * Register a listicle block with Gutenberg.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport Background, {\n\tBackgroundAttributes,\n\tBackgroundControls,\n} from '../../components/background';\nimport ShareTools, {\n\tShareToolsAttributes,\n\tShareToolsControls,\n} from '../../components/share-tools';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport blockIcons from '../../components/block-icons';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { PanelBody, ToggleControl } = wp.components;\nconst { InspectorControls, RichText, PlainText } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { useEffect, useState } = wp.element;\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string}  className          Default classes assigned to the block.\n * @param {string}  number             Value of the number attribute.\n * @param {string}  aside              Whether the block has aside content.\n * @param {number}  backgroundUrl      The URL of the background media assigned to the block.\n * @param {boolean} backgroundAutoplay Whether the background video is set to autoplay.\n */\nconst getClasses = (\n\tclassName,\n\tnumber,\n\taside,\n\tbackgroundUrl,\n\tbackgroundAutoplay,\n\tdivider\n) => {\n\treturn classnames( className, {\n\t\t'has-number': number,\n\t\t'has-sidebar': aside,\n\t\t'has-media': backgroundUrl,\n\t\t'has-video-as-loop': backgroundAutoplay,\n\t\t'has-no-bottom-divider': ! divider,\n\t} );\n};\n\n/**\n * Determine if the related links list is empty.\n *\n * @param {string} related The value of the `related` attribute.\n */\nconst hasRelatedLinks = ( related ) => {\n\tif (\n\t\t'undefined' === typeof related ||\n\t\t'<li></li>' === related ||\n\t\tRichText.isEmpty( related )\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n\nconst deprecated = [\n\t{\n\t\ttitle: __( 'Listicle' ),\n\t\tdescription: __(\n\t\t\t'An individual item for an article that uses a list as its thematic structure.'\n\t\t),\n\t\ticon: blockIcons( 'listicle' ),\n\t\tcategory: 'bu-editorial',\n\t\tattributes: {\n\t\t\thed: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-listicle-header-content-hed',\n\t\t\t},\n\t\t\tdek: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-listicle-header-content-dek',\n\t\t\t},\n\t\t\tcontent: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-listicle-section-content',\n\t\t\t},\n\t\t\taside: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-listicle-section-aside p',\n\t\t\t},\n\t\t\tnumber: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-listicle-header-number',\n\t\t\t},\n\t\t\trelated: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-block-editorial-listicle-footer-list',\n\t\t\t},\n\t\t\tcredit: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: '.wp-caption-text',\n\t\t\t},\n\t\t\tclassName: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tdivider: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: true,\n\t\t\t},\n\t\t\t...BackgroundAttributes,\n\t\t\t...ShareToolsAttributes,\n\t\t},\n\n\t\tedit( props ) {\n\t\t\t// Get the block properties.\n\t\t\tconst { attributes, setAttributes, className, isSelected } = props;\n\n\t\t\t// Get the block attributes.\n\t\t\tconst {\n\t\t\t\thed,\n\t\t\t\tdek,\n\t\t\t\tcontent,\n\t\t\t\taside,\n\t\t\t\tnumber,\n\t\t\t\trelated,\n\t\t\t\tcredit,\n\t\t\t\tbackgroundUrl,\n\t\t\t\tbackgroundAutoplay,\n\t\t\t\tbackgroundCaption,\n\t\t\t\tdivider,\n\t\t\t} = attributes;\n\n\t\t\tconst [ isUploading, setIsUploading ] = useState( false );\n\n\t\t\t/**\n\t\t\t * Update credit attribute with the caption of the selected image.\n\t\t\t *\n\t\t\t * @param {object} prevProps The property values before the change.\n\t\t\t */\n\t\t\tuseEffect( () => {\n\t\t\t\t// Stop here if the `backgroundCaption` attribute hasn't changed.\n\t\t\t\tif ( backgroundCaption === backgroundCaption ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Stop here if the `credit` attribute is already set.\n\t\t\t\tif ( !! credit || ! backgroundCaption ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Update the `credit` attribute using the caption from the selected image.\n\t\t\t\tsetAttributes( { credit: backgroundCaption } );\n\t\t\t}, [] );\n\n\t\t\t// Check if the block has aside content (extra condition due to use of multiline).\n\t\t\tconst hasAsideContent =\n\t\t\t\t! RichText.isEmpty( aside ) && aside !== '<br>';\n\n\t\t\t/**\n\t\t\t * Get a value to use for the inline width of the number input.\n\t\t\t *\n\t\t\t * Returns either 100% if the field is empty, or `{n}ch`,\n\t\t\t * where `{n}` is the number of characters in the input.\n\t\t\t *\n\t\t\t */\n\t\t\tconst getNumberInputWidth = number ? number.length + 'ch' : '100%';\n\n\t\t\t// Return the block editing interface.\n\t\t\treturn (\n\t\t\t\t<section\n\t\t\t\t\tclassName={ getClasses(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tnumber,\n\t\t\t\t\t\thasAsideContent,\n\t\t\t\t\t\tbackgroundUrl,\n\t\t\t\t\t\tbackgroundAutoplay,\n\t\t\t\t\t\tdivider\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<BackgroundControls\n\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\tinlinePlaceholder={ true }\n\t\t\t\t\t\tsetIsUploading={ setIsUploading }\n\t\t\t\t\t\toptions={ [] }\n\t\t\t\t\t/>\n\t\t\t\t\t<ShareToolsControls blockProps={ props } />\n\t\t\t\t\t<article className=\"wp-block-editorial-listicle-article\">\n\t\t\t\t\t\t<figure className=\"wp-block-editorial-listicle-figure\">\n\t\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\tclassName=\"wp-caption-text wp-block-editorial-listicle-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\t\tvalue={ credit }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { credit: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t'Add Photo or Video Credit'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic', 'core/link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t<header className=\"wp-block-editorial-listicle-header\">\n\t\t\t\t\t\t\t{ ( number || isSelected ) && (\n\t\t\t\t\t\t\t\t<h2 className=\"wp-block-editorial-listicle-header-number\">\n\t\t\t\t\t\t\t\t\t<PlainText\n\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Add Item Number (Optional)'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tvalue={ number }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( number ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { number } )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\twidth: getNumberInputWidth,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-header-content\">\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"h3\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-hed\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Add Title' ) }\n\t\t\t\t\t\t\t\t\tvalue={ hed }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { hed: value } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"h4\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-dek\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Add Subtitle' ) }\n\t\t\t\t\t\t\t\t\tvalue={ dek }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { dek: value } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<section className=\"wp-block-editorial-listicle-section\">\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-section-content\"\n\t\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t'Add Content lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer in dictum felis. Nullam gravida dui nunc, vitae tristique ex pellentesque at. Suspendisse id porttitor metus. Nullam et ipsum hendrerit urna mattis porttitor at in leo.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { content: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic', 'core/link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-section-meta\">\n\t\t\t\t\t\t\t\t{ ( hasAsideContent || isSelected ) && (\n\t\t\t\t\t\t\t\t\t<aside className=\"wp-block-editorial-listicle-section-aside\">\n\t\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Add Sidebar (Optional)'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ aside }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\t\taside: value,\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core/link',\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</aside>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<ShareTools blockProps={ props } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t{ ( hasRelatedLinks( related ) || isSelected ) && (\n\t\t\t\t\t\t\t<footer className=\"wp-block-editorial-listicle-footer\">\n\t\t\t\t\t\t\t\t<h3 className=\"wp-block-editorial-listicle-footer-title\">\n\t\t\t\t\t\t\t\t\tRelated Stories\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-footer-list\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t'Enter Related Stories List'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tvalue={ related }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { related: value } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t[ 'link' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t[ 'core/link' ]\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</article>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelBody title={ __( 'Display Options' ) }>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Show Bottom Divider' ) }\n\t\t\t\t\t\t\t\tchecked={ divider }\n\t\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { divider: ! divider } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t</section>\n\t\t\t);\n\t\t},\n\n\t\tsave( props ) {\n\t\t\t// Get the block properties we need.\n\t\t\tconst { attributes } = props;\n\n\t\t\t// Get the block attributes.\n\t\t\tconst {\n\t\t\t\thed,\n\t\t\t\tdek,\n\t\t\t\tcontent,\n\t\t\t\taside,\n\t\t\t\tnumber,\n\t\t\t\trelated,\n\t\t\t\tcredit,\n\t\t\t\tbackgroundUrl,\n\t\t\t\tbackgroundAutoplay,\n\t\t\t\tclassName,\n\t\t\t\tdivider,\n\t\t\t} = attributes;\n\n\t\t\t// Return the block rendering for the front end.\n\t\t\treturn (\n\t\t\t\t<section\n\t\t\t\t\tclassName={ getClasses(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tnumber,\n\t\t\t\t\t\taside,\n\t\t\t\t\t\tbackgroundUrl,\n\t\t\t\t\t\tbackgroundAutoplay,\n\t\t\t\t\t\tdivider\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<article className=\"wp-block-editorial-listicle-article\">\n\t\t\t\t\t\t<figure className=\"wp-block-editorial-listicle-figure\">\n\t\t\t\t\t\t\t<Background blockProps={ props } />\n\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\tclassName=\"wp-caption-text wp-block-editorial-listicle-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\t\tvalue={ credit }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t<header className=\"wp-block-editorial-listicle-header\">\n\t\t\t\t\t\t\t{ number && (\n\t\t\t\t\t\t\t\t<h2 className=\"wp-block-editorial-listicle-header-number\">\n\t\t\t\t\t\t\t\t\t{ number }\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-header-content\">\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"h3\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-hed\"\n\t\t\t\t\t\t\t\t\tvalue={ hed }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"h4\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-dek\"\n\t\t\t\t\t\t\t\t\tvalue={ dek }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<section className=\"wp-block-editorial-listicle-section\">\n\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-section-content\"\n\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-section-meta\">\n\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( aside ) && (\n\t\t\t\t\t\t\t\t\t<aside className=\"wp-block-editorial-listicle-section-aside\">\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ aside }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</aside>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<ShareTools blockProps={ props } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t{ hasRelatedLinks( related ) && (\n\t\t\t\t\t\t\t<footer className=\"wp-block-editorial-listicle-footer\">\n\t\t\t\t\t\t\t\t<h3 className=\"wp-block-editorial-listicle-footer-title\">\n\t\t\t\t\t\t\t\t\tRelated Stories\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-footer-list\"\n\t\t\t\t\t\t\t\t\tvalue={ related }\n\t\t\t\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</article>\n\t\t\t\t</section>\n\t\t\t);\n\t\t},\n\t},\n];\n\nexport default deprecated;\n","/**\n * BLOCK: editorial/listicle\n *\n * Register a listicle block with Gutenberg.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport Background, {\n\tBackgroundAttributes,\n\tBackgroundControls,\n} from '../../components/background';\nimport ShareTools, {\n\tShareToolsAttributes,\n\tShareToolsControls,\n} from '../../components/share-tools';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport blockIcons from '../../components/block-icons';\n\nimport deprecated from './deprecated';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { PanelBody, ToggleControl } = wp.components;\nconst { InspectorControls, RichText, PlainText } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { useEffect, useState } = wp.element;\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string}  className          Default classes assigned to the block.\n * @param {string}  number             Value of the number attribute.\n * @param {string}  aside              Whether the block has aside content.\n * @param {number}  backgroundUrl      The URL of the background media assigned to the block.\n * @param {boolean} backgroundAutoplay Whether the background video is set to autoplay.\n */\nconst getClasses = (\n\tclassName,\n\tnumber,\n\taside,\n\tbackgroundUrl,\n\tbackgroundAutoplay,\n\tdivider\n) => {\n\treturn classnames( className, {\n\t\t'has-number': number,\n\t\t'has-sidebar': aside,\n\t\t'has-media': backgroundUrl,\n\t\t'has-video-as-loop': backgroundAutoplay,\n\t\t'has-no-bottom-divider': ! divider,\n\t} );\n};\n\n/**\n * Determine if the related links list is empty.\n *\n * @param {string} related The value of the `related` attribute.\n */\nconst hasRelatedLinks = ( related ) => {\n\tif (\n\t\t'undefined' === typeof related ||\n\t\t'<li></li>' === related ||\n\t\tRichText.isEmpty( related )\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n\n// Register the block.\nregisterBlockType( 'editorial/listicle', {\n\ttitle: __( 'Listicle' ),\n\tdescription: __(\n\t\t'An individual item for an article that uses a list as its thematic structure.'\n\t),\n\ticon: blockIcons( 'listicle' ),\n\tcategory: 'bu-editorial',\n\tattributes: {\n\t\thed: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-listicle-header-content-hed',\n\t\t},\n\t\tdek: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-listicle-header-content-dek',\n\t\t},\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-listicle-section-content',\n\t\t},\n\t\taside: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-listicle-section-aside p',\n\t\t},\n\t\tnumber: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-listicle-header-number',\n\t\t},\n\t\trelated: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-editorial-listicle-footer-list',\n\t\t},\n\t\tcredit: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-caption-text',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tdivider: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\t...BackgroundAttributes,\n\t\t...ShareToolsAttributes,\n\t},\n\n\tedit( props ) {\n\t\t// Get the block properties.\n\t\tconst { attributes, setAttributes, className, isSelected } = props;\n\n\t\t// Get the block attributes.\n\t\tconst {\n\t\t\thed,\n\t\t\tdek,\n\t\t\tcontent,\n\t\t\taside,\n\t\t\tnumber,\n\t\t\trelated,\n\t\t\tcredit,\n\t\t\tbackgroundUrl,\n\t\t\tbackgroundAutoplay,\n\t\t\tbackgroundCaption,\n\t\t\tdivider,\n\t\t} = attributes;\n\n\t\tconst [ isUploading, setIsUploading ] = useState( false );\n\n\t\t/**\n\t\t * Update credit attribute with the caption of the selected image.\n\t\t *\n\t\t * @param {object} prevProps The property values before the change.\n\t\t */\n\t\tuseEffect( () => {\n\t\t\t// Stop here if the `backgroundCaption` attribute hasn't changed.\n\t\t\tif ( backgroundCaption === backgroundCaption ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Stop here if the `credit` attribute is already set.\n\t\t\tif ( !! credit || ! backgroundCaption ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Update the `credit` attribute using the caption from the selected image.\n\t\t\tsetAttributes( { credit: backgroundCaption } );\n\t\t}, [] );\n\n\t\t// Check if the block has aside content (extra condition due to use of multiline).\n\t\tconst hasAsideContent = ! RichText.isEmpty( aside ) && aside !== '<br>';\n\n\t\t/**\n\t\t * Get a value to use for the inline width of the number input.\n\t\t *\n\t\t * Returns either 100% if the field is empty, or `{n}ch`,\n\t\t * where `{n}` is the number of characters in the input.\n\t\t *\n\t\t */\n\t\tconst getNumberInputWidth = number ? number.length + 'ch' : '100%';\n\n\t\t// Return the block editing interface.\n\t\treturn (\n\t\t\t<section\n\t\t\t\tclassName={ getClasses(\n\t\t\t\t\tclassName,\n\t\t\t\t\tnumber,\n\t\t\t\t\thasAsideContent,\n\t\t\t\t\tbackgroundUrl,\n\t\t\t\t\tbackgroundAutoplay,\n\t\t\t\t\tdivider\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<BackgroundControls\n\t\t\t\t\tblockProps={ props }\n\t\t\t\t\tinlinePlaceholder={ true }\n\t\t\t\t\tsetIsUploading={ setIsUploading }\n\t\t\t\t\toptions={ [] }\n\t\t\t\t/>\n\t\t\t\t<ShareToolsControls blockProps={ props } />\n\t\t\t\t<article className=\"wp-block-editorial-listicle-article\">\n\t\t\t\t\t<figure className=\"wp-block-editorial-listicle-figure\">\n\t\t\t\t\t\t<Background\n\t\t\t\t\t\t\tblockProps={ props }\n\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\tclassName=\"wp-caption-text wp-block-editorial-listicle-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\tvalue={ credit }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { credit: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={ __( 'Add Photo or Video Credit' ) }\n\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic', 'core/link' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t</figure>\n\t\t\t\t\t<header className=\"wp-block-editorial-listicle-header\">\n\t\t\t\t\t\t{ ( number || isSelected ) && (\n\t\t\t\t\t\t\t<h2 className=\"wp-block-editorial-listicle-header-number\">\n\t\t\t\t\t\t\t\t<PlainText\n\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t'Add Item Number (Optional)'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tvalue={ number }\n\t\t\t\t\t\t\t\t\tonChange={ ( number ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { number } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\twidth: getNumberInputWidth,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-header-content\">\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"h3\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-hed\"\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Add Title' ) }\n\t\t\t\t\t\t\t\tvalue={ hed }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { hed: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"h4\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-dek\"\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Add Subtitle' ) }\n\t\t\t\t\t\t\t\tvalue={ dek }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { dek: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t\t<section className=\"wp-block-editorial-listicle-section\">\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-section-content\"\n\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t'Add Content lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer in dictum felis. Nullam gravida dui nunc, vitae tristique ex pellentesque at. Suspendisse id porttitor metus. Nullam et ipsum hendrerit urna mattis porttitor at in leo.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { content: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic', 'core/link' ]\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-section-meta\">\n\t\t\t\t\t\t\t{ ( hasAsideContent || isSelected ) && (\n\t\t\t\t\t\t\t\t<aside className=\"wp-block-editorial-listicle-section-aside\">\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Add Sidebar (Optional)'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tvalue={ aside }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { aside: value } )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/link',\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</aside>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<ShareTools blockProps={ props } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t{ ( hasRelatedLinks( related ) || isSelected ) && (\n\t\t\t\t\t\t<footer className=\"wp-block-editorial-listicle-footer\">\n\t\t\t\t\t\t\t<h3 className=\"wp-block-editorial-listicle-footer-title\">\n\t\t\t\t\t\t\t\tRelated Stories\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-footer-list\"\n\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t'Enter Related Stories List'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ related }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { related: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/link' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t) }\n\t\t\t\t</article>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Display Options' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Show Bottom Divider' ) }\n\t\t\t\t\t\t\tchecked={ divider }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { divider: ! divider } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</section>\n\t\t);\n\t},\n\n\tsave( props ) {\n\t\t// Get the block properties we need.\n\t\tconst { attributes } = props;\n\n\t\t// Get the block attributes.\n\t\tconst {\n\t\t\thed,\n\t\t\tdek,\n\t\t\tcontent,\n\t\t\taside,\n\t\t\tnumber,\n\t\t\trelated,\n\t\t\tcredit,\n\t\t\tbackgroundUrl,\n\t\t\tbackgroundAutoplay,\n\t\t\tclassName,\n\t\t\tdivider,\n\t\t} = attributes;\n\n\t\t// Return the block rendering for the front end.\n\t\treturn (\n\t\t\t<section\n\t\t\t\tclassName={ getClasses(\n\t\t\t\t\tclassName,\n\t\t\t\t\tnumber,\n\t\t\t\t\taside,\n\t\t\t\t\tbackgroundUrl,\n\t\t\t\t\tbackgroundAutoplay,\n\t\t\t\t\tdivider\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<article className=\"wp-block-editorial-listicle-article\">\n\t\t\t\t\t{ ( backgroundUrl || credit ) && (\n\t\t\t\t\t\t<figure className=\"wp-block-editorial-listicle-figure\">\n\t\t\t\t\t\t\t<Background blockProps={ props } />\n\t\t\t\t\t\t\t{ credit && (\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-caption-text wp-block-editorial-listicle-caption wp-prepress-component-caption\"\n\t\t\t\t\t\t\t\t\tvalue={ credit }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t) }\n\t\t\t\t\t<header className=\"wp-block-editorial-listicle-header\">\n\t\t\t\t\t\t{ number && (\n\t\t\t\t\t\t\t<h2 className=\"wp-block-editorial-listicle-header-number\">\n\t\t\t\t\t\t\t\t{ number }\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-header-content\">\n\t\t\t\t\t\t\t{ hed && (\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"h3\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-hed\"\n\t\t\t\t\t\t\t\t\tvalue={ hed }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ dek && (\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\ttagName=\"h4\"\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-header-content-dek\"\n\t\t\t\t\t\t\t\t\tvalue={ dek }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t\t<section className=\"wp-block-editorial-listicle-section\">\n\t\t\t\t\t\t{ ! RichText.isEmpty( content ) && (\n\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-section-content\"\n\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div className=\"wp-block-editorial-listicle-section-meta\">\n\t\t\t\t\t\t\t{ ! RichText.isEmpty( aside ) && (\n\t\t\t\t\t\t\t\t<aside className=\"wp-block-editorial-listicle-section-aside\">\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\t\tvalue={ aside }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</aside>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<ShareTools blockProps={ props } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t{ hasRelatedLinks( related ) && (\n\t\t\t\t\t\t<footer className=\"wp-block-editorial-listicle-footer\">\n\t\t\t\t\t\t\t<h3 className=\"wp-block-editorial-listicle-footer-title\">\n\t\t\t\t\t\t\t\tRelated Stories\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-editorial-listicle-footer-list\"\n\t\t\t\t\t\t\t\tvalue={ related }\n\t\t\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t) }\n\t\t\t\t</article>\n\t\t\t</section>\n\t\t);\n\t},\n\n\tdeprecated,\n} );\n","/**\n * BLOCK: bu/clicktotweet\n *\n * Registers a Click to Tweet block.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { Fragment } = wp.element;\nconst { withSelect } = wp.data;\nconst { compose, ifCondition } = wp.compose;\nconst { registerFormatType, toggleFormat } = wp.richText;\nconst { RichTextShortcut, RichTextToolbarButton } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\nconst { createHigherOrderComponent } = wp.compose;\nconst { addFilter } = wp.hooks;\n\n// Define the format name.\nconst name = 'bu/clicktotweet-highlight';\n\n// Define the opening markup for Click to Tweet content.\nconst clickToTweetContainer = '<span class=\"wp-block-bu-clicktotweet-content\">';\n\n// Define the opening markup for highlighted Click to Tweet text.\nconst clickToTweetHighlight =\n\t'<span class=\"wp-block-bu-clicktotweet-highlight\">';\n\n// Registers the 'Click to Tweet highlight' format.\nregisterFormatType( name, {\n\ttitle: __( 'Click to Tweet' ),\n\ttagName: 'span',\n\tclassName: 'wp-block-bu-clicktotweet-highlight',\n\tedit: compose(\n\t\twithSelect( ( select ) => {\n\t\t\tlet getSelectedBlock =\n\t\t\t\t'undefined' === typeof select( 'core/block-editor' )\n\t\t\t\t\t? select( 'core/editor' ).getSelectedBlock\n\t\t\t\t\t: select( 'core/block-editor' ).getSelectedBlock;\n\n\t\t\treturn {\n\t\t\t\tselectedBlock: getSelectedBlock(),\n\t\t\t};\n\t\t} ),\n\t\tifCondition( ( props ) => {\n\t\t\treturn (\n\t\t\t\tprops.selectedBlock &&\n\t\t\t\tprops.selectedBlock.name === 'core/paragraph'\n\t\t\t);\n\t\t} )\n\t)( ( props ) => {\n\t\tconst { isActive, onChange, selectedBlock, value } = props;\n\n\t\tconst { clickToTweet, content } = selectedBlock.attributes;\n\n\t\t// Set up a boolean for displaying the format button as active.\n\t\tconst active =\n\t\t\tisActive ||\n\t\t\t( clickToTweet && ! content.includes( clickToTweetHighlight ) );\n\n\t\tconst onToggle = () => {\n\t\t\t// A super hacky way to fake `setAttributes` for `clickToTweet`in this context.\n\t\t\t// If it's `true` and the format is being removed from text or the entire block\n\t\t\t// is being toggled back off, we switch it to `false`.\n\t\t\t// In all other cases, we switch it to `true`.\n\t\t\tif (\n\t\t\t\tclickToTweet &&\n\t\t\t\t( isActive ||\n\t\t\t\t\t( ! isActive &&\n\t\t\t\t\t\tcontent.includes( clickToTweetContainer ) ) )\n\t\t\t) {\n\t\t\t\tprops.selectedBlock.attributes.clickToTweet = false;\n\t\t\t} else {\n\t\t\t\tprops.selectedBlock.attributes.clickToTweet = true;\n\t\t\t}\n\n\t\t\t// Handle the toggling of the Click to Tweet Highlight format.\n\t\t\tonChange( toggleFormat( value, { type: name } ) );\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\tcharacter=\"b\"\n\t\t\t\t\tonUse={ onToggle }\n\t\t\t\t\ttype=\"access\"\n\t\t\t\t/>\n\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\ticon=\"twitter\"\n\t\t\t\t\tisActive={ active }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\tshortcutCharacter=\"b\"\n\t\t\t\t\tshortcutType=\"access\"\n\t\t\t\t\ttitle={ __( 'Click to Tweet' ) }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n} );\n\n/**\n * Adds the `clickToTweet` attribute to the paragraph block.\n *\n * @param {object} settings The block settings.\n * @param {string} name     The block name.\n */\nconst registerClickToTweetAttributes = ( settings, name ) => {\n\tif ( 'core/paragraph' !== name ) {\n\t\treturn settings;\n\t}\n\n\tconst clickToTweetAttributes = {\n\t\tclickToTweet: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t};\n\n\tsettings.attributes = Object.assign(\n\t\tsettings.attributes,\n\t\tclickToTweetAttributes\n\t);\n\n\treturn settings;\n};\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'bu-blocks/click-to-tweet-paragraph',\n\tregisterClickToTweetAttributes\n);\n\n/**\n * Toggle the block `content` and `className` attributes when the\n * Click to Tweet format is applied.\n */\nconst registerFields = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\tif ( 'core/paragraph' !== props.name ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst {\n\t\t\tattributes: { className, clickToTweet, content },\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tif (\n\t\t\tclickToTweet &&\n\t\t\tcontent &&\n\t\t\t! content.includes( clickToTweetContainer )\n\t\t) {\n\t\t\tconst wrappedContent = `<span class=\"wp-block-bu-clicktotweet-content\">${ content }</span>`;\n\t\t\t// Build the new value for the `className` property.\n\t\t\tconst wrappedClassName = classnames(\n\t\t\t\tclassName,\n\t\t\t\t'wp-block-bu-clicktotweet',\n\t\t\t\t{\n\t\t\t\t\t'has-format-highlight': content.includes(\n\t\t\t\t\t\tclickToTweetHighlight\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tsetAttributes( {\n\t\t\t\tclassName: wrappedClassName,\n\t\t\t\tcontent: wrappedContent,\n\t\t\t} );\n\t\t}\n\n\t\tif ( clickToTweet && content ) {\n\t\t\tif (\n\t\t\t\tcontent.includes( clickToTweetHighlight ) &&\n\t\t\t\tclassName &&\n\t\t\t\t! className.includes( 'has-format-highlight' )\n\t\t\t) {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tclassName: classnames( className, 'has-format-highlight' ),\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t! content.includes( clickToTweetHighlight ) &&\n\t\t\t\tclassName &&\n\t\t\t\tclassName.includes( 'has-format-highlight' )\n\t\t\t) {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\tclassName.replace( /has-format-highlight/g, '' )\n\t\t\t\t\t).trim(),\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! clickToTweet && content.includes( clickToTweetContainer ) ) {\n\t\t\tconst strippedContent = content.slice(\n\t\t\t\tclickToTweetContainer.length,\n\t\t\t\t-7\n\t\t\t);\n\t\t\tconst strippedClassName = ! className\n\t\t\t\t? undefined\n\t\t\t\t: classnames(\n\t\t\t\t\t\tclassName.replace(\n\t\t\t\t\t\t\t/wp-block-bu-clicktotweet|has-format-highlight/g,\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)\n\t\t\t\t  ).trim();\n\n\t\t\tsetAttributes( {\n\t\t\t\tclassName: strippedClassName,\n\t\t\t\tcontent: strippedContent,\n\t\t\t} );\n\t\t}\n\n\t\treturn <BlockEdit { ...props } />;\n\t};\n} );\n\naddFilter(\n\t'editor.BlockEdit',\n\t'bu-blocks/click-to-tweet-paragraph',\n\tregisterFields\n);\n\n/**\n * Modify the result of the paragraph block's `save` function.\n *\n * @param {object} element    The original save element.\n * @param {object} settings   The block settings.\n * @param {object} attributes The block attributes.\n */\nconst saveClickToTweet = ( element, settings, attributes ) => {\n\tif ( 'core/paragraph' !== settings.name ) {\n\t\treturn element;\n\t}\n\n\tconst { props } = element;\n\tconst { value } = props;\n\tconst { clickToTweet } = attributes;\n\n\t// Stop here if the value property of the save element is empty,\n\t// or the `clickToTweet` attribute is false.\n\tif ( ! value || ! clickToTweet ) {\n\t\t// Check if the value previously had Click to Tweet markup.\n\t\tif ( value && value.includes( clickToTweetContainer ) ) {\n\t\t\t// Trim the Click to Tweet markup from the value.\n\t\t\tconst newValue = value.slice( clickToTweetContainer.length, -7 );\n\n\t\t\t// Assign our new `value` value to the `element` object.\n\t\t\telement.props = Object.assign( props, {\n\t\t\t\tvalue: newValue,\n\t\t\t} );\n\t\t}\n\n\t\treturn element;\n\t}\n\n\t// Build the new value for the `value` property.\n\tconst newValue = ! value.includes( clickToTweetContainer )\n\t\t? `<span class=\"wp-block-bu-clicktotweet-content\">${ value }</span>`\n\t\t: value;\n\n\t// Assign our new `className` and `value` values to the `element` object.\n\telement.props = Object.assign( props, {\n\t\tvalue: newValue,\n\t} );\n\n\treturn element;\n};\n\naddFilter(\n\t'blocks.getSaveElement',\n\t'bu-blocks/click-to-tweet-paragraph',\n\tsaveClickToTweet\n);\n","/**\n * BLOCK: bu/stat\n *\n * Register a stat block with Gutenberg.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport themeOptions from '../../global/theme-options';\nimport getAllowedFormats from '../../global/allowed-formats';\nimport blockIcons from '../../components/block-icons/';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { Circle, PanelBody, Path, RangeControl, SVG } = wp.components;\nconst {\n\tInspectorControls,\n\tPanelColorSettings,\n\tPlainText,\n\tRichText,\n\twithColors,\n\tuseBlockProps,\n} = 'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string} circleOneColor The color option for circle 1.\n * @param {string} circleTwoColor The color option for circle 2.\n * @param {string} className      Default classes assigned to the block.\n * @param {number} numberSize     The size at which to display the stat number.\n */\nconst getBlockClasses = (\n\tcircleOneColor,\n\tcircleTwoColor,\n\tclassName,\n\tnumberSize\n) => {\n\treturn classnames( className, {\n\t\t[ `has-circle1-color-${ circleOneColor }` ]: circleOneColor,\n\t\t[ `has-circle2-color-${ circleTwoColor }` ]: circleTwoColor,\n\t\t[ `has-number-size-${ numberSize }` ]: numberSize,\n\t} );\n};\n\n/**\n * The markup for the stat SVG.\n *\n * @param {number} circleOneFill The percentage of circle one to fill in.\n * @param {number} circleTwoFill The percentage of circle two to fill in.\n */\nconst statSVG = ( circleOneFill, circleTwoFill ) => (\n\t<SVG\n\t\tclassName=\"wp-block-bu-stat-svg\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"100px\"\n\t\theight=\"100px\"\n\t\tviewBox=\"0 0 100 100\"\n\t\tstyle={ { enableBackground: 'new 0 0 100 100' } }\n\t>\n\t\t<Circle\n\t\t\tclassName=\"wp-block-bu-stat-circle1\"\n\t\t\tcx=\"50\"\n\t\t\tcy=\"50\"\n\t\t\tr=\"47\"\n\t\t\tstyle={ {\n\t\t\t\tstrokeDashoffset: `${ 302 * ( 1 - circleOneFill * 0.01 ) }`,\n\t\t\t} }\n\t\t/>\n\t\t<Circle\n\t\t\tclassName=\"wp-block-bu-stat-circle2\"\n\t\t\tcx=\"50\"\n\t\t\tcy=\"50\"\n\t\t\tr=\"47\"\n\t\t\tstyle={ {\n\t\t\t\tstrokeDashoffset: `${ 302 * ( 1 - circleTwoFill * 0.01 ) }`,\n\t\t\t} }\n\t\t/>\n\t</SVG>\n);\n\n// Register the block.\nregisterBlockType( 'bu/stat', {\n\tapiVersion: 2,\n\tparent: [ 'bu/stats' ],\n\ttitle: __( 'Stat' ),\n\tdescription: __( 'Display statistical information.' ),\n\ticon: blockIcons( 'stat' ),\n\tcategory: 'bu',\n\tattributes: {\n\t\tcircleOneColor: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tcircleOneFill: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 100,\n\t\t},\n\t\tcircleTwoColor: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tcircleTwoFill: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 25,\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tnumber: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'text',\n\t\t\tselector: '.wp-block-bu-stat-number',\n\t\t},\n\t\tnumberSize: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2,\n\t\t},\n\t\tpostText: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-bu-stat-text-post',\n\t\t},\n\t\tpreText: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-bu-stat-text-pre',\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t},\n\n\tedit: withColors(\n\t\t'circleOneColor',\n\t\t'circleTwoColor'\n\t)( ( props ) => {\n\t\tconst {\n\t\t\tattributes: {\n\t\t\t\tcircleOneFill,\n\t\t\t\tcircleTwoFill,\n\t\t\t\tnumberSize,\n\t\t\t\tnumber,\n\t\t\t\tpostText,\n\t\t\t\tpreText,\n\t\t\t},\n\t\t\tcircleOneColor,\n\t\t\tcircleTwoColor,\n\t\t\tclassName,\n\t\t\tisSelected,\n\t\t\tsetAttributes,\n\t\t\tsetCircleOneColor,\n\t\t\tsetCircleTwoColor,\n\t\t} = props;\n\n\t\tconst blockProps = useBlockProps( {\n\t\t\tclassName: getBlockClasses(\n\t\t\t\tcircleOneColor.slug,\n\t\t\t\tcircleTwoColor.slug,\n\t\t\t\tclassName,\n\t\t\t\tnumberSize\n\t\t\t),\n\t\t} );\n\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<div className=\"wp-block-bu-stat-container-outer\">\n\t\t\t\t\t<div className=\"wp-block-bu-stat-container-inner\">\n\t\t\t\t\t\t{ ( isSelected || ! RichText.isEmpty( preText ) ) && (\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-bu-stat-text-pre\"\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Opening text' ) }\n\t\t\t\t\t\t\t\tvalue={ preText }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { preText: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<div className=\"wp-block-bu-stat-number\">\n\t\t\t\t\t\t\t<PlainText\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Number' ) }\n\t\t\t\t\t\t\t\tvalue={ number }\n\t\t\t\t\t\t\t\tonChange={ ( number ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { number } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{ ( isSelected || ! RichText.isEmpty( postText ) ) && (\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-bu-stat-text-post\"\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Closing text' ) }\n\t\t\t\t\t\t\t\tvalue={ postText }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { postText: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t\t\t\t[ 'bold', 'italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tallowedFormats={ getAllowedFormats(\n\t\t\t\t\t\t\t\t\t'allowedFormats',\n\t\t\t\t\t\t\t\t\t[ 'core/bold', 'core/italic' ]\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ statSVG( circleOneFill, circleTwoFill ) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Display Options' ) }>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Number Size' ) }\n\t\t\t\t\t\t\tvalue={ numberSize }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { numberSize: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Bottom Circle Fill' ) }\n\t\t\t\t\t\t\tvalue={ circleOneFill }\n\t\t\t\t\t\t\tonChange={ ( circleOneFill ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { circleOneFill } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Top Circle Fill' ) }\n\t\t\t\t\t\t\tvalue={ circleTwoFill }\n\t\t\t\t\t\t\tonChange={ ( circleTwoFill ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { circleTwoFill } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Color Options' ) }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: circleOneColor.color,\n\t\t\t\t\t\t\t\tonChange: setCircleOneColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Bottom Circle' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: circleTwoColor.color,\n\t\t\t\t\t\t\t\tonChange: setCircleTwoColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Top Circle' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: themeOptions(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t</div>\n\t\t);\n\t} ),\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\tcircleOneColor,\n\t\t\tcircleOneFill,\n\t\t\tcircleTwoColor,\n\t\t\tcircleTwoFill,\n\t\t\tclassName,\n\t\t\tnumber,\n\t\t\tnumberSize,\n\t\t\tpostText,\n\t\t\tpreText,\n\t\t} = attributes;\n\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: getBlockClasses(\n\t\t\t\tcircleOneColor,\n\t\t\t\tcircleTwoColor,\n\t\t\t\tclassName,\n\t\t\t\tnumberSize\n\t\t\t),\n\t\t} );\n\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<div className=\"wp-block-bu-stat-container-outer\">\n\t\t\t\t\t<div className=\"wp-block-bu-stat-container-inner\">\n\t\t\t\t\t\t{ ! RichText.isEmpty( preText ) && (\n\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-bu-stat-text-pre\"\n\t\t\t\t\t\t\t\tvalue={ preText }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div className=\"wp-block-bu-stat-number\">\n\t\t\t\t\t\t\t{ number }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ ! RichText.isEmpty( postText ) && (\n\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-bu-stat-text-post\"\n\t\t\t\t\t\t\t\tvalue={ postText }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ statSVG( circleOneFill, circleTwoFill ) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n} );\n","// External dependencies.\nimport classnames from 'classnames';\n\n// Internal dependencies.\nimport getAllowedFormats from '../../global/allowed-formats';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\n\nconst { createBlock } = wp.blocks;\nconst { PanelBody, RangeControl } = wp.components;\nconst { InnerBlocks, InspectorControls, RichText, useBlockProps } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\nconst { compose } = wp.compose;\nconst { withDispatch, withSelect } = wp.data;\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string} className Default classes assigned to the block.\n * @param {number} stats     The number of stat blocks to display.\n *\n * @return {string} block classnames\n */\nconst getBlockClasses = ( className, stats ) => {\n\treturn classnames( className, {\n\t\t[ `has-${ stats }-stats` ]: stats,\n\t} );\n};\n\nconst Edit = ( props ) => {\n\tconst {\n\t\tclientId,\n\t\tattributes: { align, caption, stats },\n\t\tclassName,\n\t\tsetAttributes,\n\t\tgetBlocksByClientId,\n\t\tremoveBlock,\n\t\tinsertBlock,\n\t} = props;\n\n\t// Determine whether the block is aligned left or right.\n\tconst isAlignedLeftOrRight = align === 'left' || align === 'right';\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: getBlockClasses( className, stats ),\n\t} );\n\n\t/**\n\t * Updates the stats attribute and handles innerBlock insertions or removals.\n\t *\n\t * @param {string} statNumber Current value of the stat number option.\n\t */\n\tconst onChangeStatsNumber = ( statNumber ) => {\n\t\tsetAttributes( { stats: statNumber } );\n\n\t\t// Get the current innerBlocks.\n\t\tconst blocks = getBlocksByClientId( clientId )[ 0 ].innerBlocks;\n\n\t\t// Remove the last innerBlock if there are more innerBlocks than columns.\n\t\tif ( blocks.length > statNumber && blocks[ statNumber ] ) {\n\t\t\tremoveBlock( blocks[ statNumber ].clientId, false );\n\t\t} else {\n\t\t\t// Otherwise, create and insert a new block.\n\t\t\tconst newBlock = createBlock( 'bu/stat', {} );\n\t\t\tconst index = statNumber - 1;\n\n\t\t\tinsertBlock( newBlock, index, clientId );\n\t\t}\n\t};\n\n\t// Reset to a single Stat block if aligned left or right.\n\tif ( isAlignedLeftOrRight && stats !== 1 ) {\n\t\tonChangeStatsNumber( 1 );\n\t}\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<figure className=\"wp-block-bu-stats-figure\">\n\t\t\t\t<div className=\"wp-block-bu-stats-row\">\n\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\tallowedBlocks={ [ 'bu/stat' ] }\n\t\t\t\t\t\ttemplate={ [ [ 'bu/stat', {} ] ] }\n\t\t\t\t\t\ttemplateLock={ false }\n\t\t\t\t\t/>\n\t\t\t\t\t{ ! isAlignedLeftOrRight && (\n\t\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t\t<PanelBody title={ __( 'Options' ) }>\n\t\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Number of Stats' ) }\n\t\t\t\t\t\t\t\t\tvalue={ stats }\n\t\t\t\t\t\t\t\t\tonChange={ onChangeStatsNumber }\n\t\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\tclassName=\"wp-block-bu-stats-caption\"\n\t\t\t\t\tplaceholder={ __( 'Add a caption (optional)' ) }\n\t\t\t\t\tvalue={ caption }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t}\n\t\t\t\t\tformattingControls={ getAllowedFormats(\n\t\t\t\t\t\t'formattingControls',\n\t\t\t\t\t\t[ 'bold', 'italic', 'link' ]\n\t\t\t\t\t) }\n\t\t\t\t\tallowedFormats={ getAllowedFormats( 'allowedFormats', [\n\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t'core/link',\n\t\t\t\t\t] ) }\n\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t/>\n\t\t\t</figure>\n\t\t</div>\n\t);\n};\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getBlocksByClientId } = select( 'core/block-editor' );\n\t\treturn {\n\t\t\tgetBlocksByClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { insertBlock, removeBlock } = dispatch( 'core/block-editor' );\n\t\treturn {\n\t\t\tinsertBlock,\n\t\t\tremoveBlock,\n\t\t};\n\t} ),\n] )( Edit );\n","/**\n * BLOCK: bu/stats\n *\n * Register a stats block with Gutenberg.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport './stat';\nimport blockIcons from '../../components/block-icons/';\nimport edit from './edit';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\n\nconst { InnerBlocks, RichText, useBlockProps } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\n/**\n * Returns the class list for the block based on the current settings.\n *\n * @param {string} className Default classes assigned to the block.\n * @param {number} stats     The number of stat blocks to display.\n *\n * @return {string} block classnames\n */\nconst getBlockClasses = ( className, stats ) => {\n\treturn classnames( className, {\n\t\t[ `has-${ stats }-stats` ]: stats,\n\t} );\n};\n\n// Register the block.\nregisterBlockType( 'bu/stats', {\n\tapiVersion: 2,\n\ttitle: __( 'Stats' ),\n\tdescription: __( 'Add one to four statistics to your content.' ),\n\ticon: blockIcons( 'stat' ),\n\tcategory: 'bu',\n\tattributes: {\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'html',\n\t\t\tselector: '.wp-block-bu-stats-caption',\n\t\t},\n\t\tclassName: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tstats: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 1,\n\t\t},\n\t},\n\tsupports: {\n\t\talign: [ 'left', 'right', 'wide' ],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { caption, className, stats } = attributes;\n\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: getBlockClasses( className, stats ),\n\t\t} );\n\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<figure className=\"wp-block-bu-stats-figure\">\n\t\t\t\t\t<div className=\"wp-block-bu-stats-row\">\n\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t</div>\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"wp-block-bu-stats-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t},\n} );\n","/**\n * BLOCK: editorial/custom-html\n *\n * A block used for arbitrary custom HTML that is not sanitized\n * or escaped in any way on output.\n */\n\n//  Import CSS.\nimport './editor.scss';\n\n// Internal dependencies.\nimport blockIcons from '../../components/block-icons';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\n\nconst { registerBlockType } = wp.blocks;\n\nconst { withState, compose } = wp.compose;\n\nconst { withSelect, select, subscribe } = wp.data;\n\nconst { PlainText } =\n\t'undefined' === typeof wp.blockEditor ? wp.editor : wp.blockEditor;\n\nconst { addQueryArgs } = wp.url;\n\nconst { apiFetch } = wp;\n\n// Register the block.\nregisterBlockType( 'editorial/custom-html', {\n\ttitle: __( 'BU Custom HTML' ),\n\n\tdescription: __( 'Enter arbitrary custom HTML.' ),\n\n\ticon: blockIcons( 'html' ),\n\n\tcategory: 'bu-editorial',\n\n\tattributes: {\n\t\t// This block ID is used when storing individual block content as post meta.\n\t\tcustomBlockID: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\n\tedit: compose( [\n\t\twithState( {\n\t\t\tcustomHTML: '',\n\t\t\thasLoaded: false,\n\t\t\tdoingHTMLFetch: false,\n\t\t\terrorMessage: false,\n\t\t} ),\n\t\twithSelect( ( select, props ) => {\n\t\t\tconst {\n\t\t\t\tsetState,\n\t\t\t\tcustomHTML,\n\t\t\t\thasLoaded,\n\t\t\t\tdoingHTMLFetch,\n\t\t\t\terrorMessage,\n\t\t\t} = props;\n\n\t\t\tconst { customBlockID } = props.attributes;\n\n\t\t\t// Do an initial load of the block's stored data from meta.\n\t\t\tif ( '' !== customBlockID && ! doingHTMLFetch && ! hasLoaded ) {\n\t\t\t\tsetState( {\n\t\t\t\t\tdoingHTMLFetch: true, // Prevent concurrent API calls for the same data.\n\t\t\t\t} );\n\n\t\t\t\tapiFetch( {\n\t\t\t\t\tpath: addQueryArgs( '/bu-blocks/v1/customhtml', {\n\t\t\t\t\t\tpost_id: select( 'core/editor' ).getCurrentPostId(),\n\t\t\t\t\t\tcustom_block_id: customBlockID,\n\t\t\t\t\t} ),\n\t\t\t\t} )\n\t\t\t\t\t.then( ( html ) => {\n\t\t\t\t\t\tsetState( {\n\t\t\t\t\t\t\tcustomHTML: html,\n\t\t\t\t\t\t\tdoingHTMLFetch: false,\n\t\t\t\t\t\t\thasLoaded: true,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( ( error ) => {\n\t\t\t\t\t\tsetState( {\n\t\t\t\t\t\t\tdoingHTMLFetch: false,\n\t\t\t\t\t\t\terrorMessage: error.message,\n\t\t\t\t\t\t\thasLoaded: true,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\thasLoaded: hasLoaded, // Whether the initial load is complete.\n\t\t\t\tcustomHTML: customHTML, // HTML to display in the block.\n\t\t\t\terrorMessage: errorMessage, // A string to display in the block if an API request failed.\n\t\t\t};\n\t\t} ),\n\t] )( ( { hasLoaded, customHTML, errorMessage, attributes, ...props } ) => {\n\t\tconst { className, setState, setAttributes } = props;\n\n\t\tconst { customBlockID } = attributes;\n\n\t\t// Update the block's content state whenever content in this block\n\t\t// is changed.\n\t\tconst updateBlockValue = ( updatedHTML ) => {\n\t\t\t// HTML is passed around as a state rather than an attribute\n\t\t\t// because it is stored in meta rather than in content.\n\t\t\tsetState( {\n\t\t\t\tcustomHTML: updatedHTML,\n\t\t\t} );\n\t\t};\n\n\t\t// Save post meta via REST Endpoint.\n\t\tconst savePostMeta = function () {\n\t\t\tlet postID = select( 'core/editor' ).getCurrentPostId();\n\n\t\t\t// This may be true on the first load of some posts.\n\t\t\tif ( null === postID ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet customTextArea = document.querySelector(\n\t\t\t\t'#block-' + customBlockID + ' textarea'\n\t\t\t);\n\n\t\t\t// This may be true on the first load of some posts.\n\t\t\tif ( null === customTextArea ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet post = {\n\t\t\t\tpost_id: postID,\n\t\t\t\tcustom_block_id: customBlockID,\n\t\t\t\thtml: customTextArea.value,\n\t\t\t};\n\n\t\t\t// Save the data for this block using a custom endpoint.\n\t\t\t//\n\t\t\t// This is saved this way vs the standard block->attribute->meta\n\t\t\t// approach so that the HTML is left intact as is and is not rendered\n\t\t\t// to post_content. The intent with this block is to support HTML as\n\t\t\t// entered, including unclosed tags or other issues that WP will try\n\t\t\t// to fix in the core HTML block.\n\t\t\t//\n\t\t\t// Also, when the HTML is stored as an attribute it is part of the block\n\t\t\t// markup. However all of the blocks are parsed on loading of the post in\n\t\t\t// the editor and run through some functions to validate the markup. Any\n\t\t\t// unclosed tags or other issues trigger a warning and the user would be\n\t\t\t// prompted to have WP fix it. Therby breaking the intended code output.\n\t\t\t//\n\t\t\t// Why would you want unclosed tags or other issues? Normally you don't\n\t\t\t// but in some edge cases you may need to \"wrap\" html like a div tag around\n\t\t\t// other content in the post. This block unlike the core HTML block will allow\n\t\t\t// you to open a tag and then close it in another BU Custom HTML block later.\n\t\t\t// It's the responsiblity of the user to make sure to close the tags in those\n\t\t\t// situations but it is important to have that ability.\n\t\t\tif ( '' !== customBlockID ) {\n\t\t\t\tapiFetch( {\n\t\t\t\t\tpath: '/bu-blocks/v1/customhtml',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: post,\n\t\t\t\t} )\n\t\t\t\t\t.then( ( html ) => {\n\t\t\t\t\t\t// Success!\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( ( error ) => {\n\t\t\t\t\t\t// How to handle this error?\n\t\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\t\t/* In 5.4 the previous method of saving the html to post meta was\n\t\tnot working properly. A temporary fix of using wp.data.subscribe() to\n\t\tmonitor for post save and update the post meta then is being used here.\n\n\t\tUltimately a better solution is needed. A suggested approach to bypass validation\n\t\tby the block editor instead of this method of storing in postmeta via the rest\n\t\tapi would be to encode the html as base64 so it appears to be a nonsensical string\n\t\tand store that in a normal block attribute and then decode the base64 \"hidden\" html\n\t\ton the frontend to convert back to html. */\n\n\t\tconst { isSavingPost } = select( 'core/editor' );\n\t\tconst { isAutosavingPost } = select( 'core/editor' );\n\t\tconst { didPostSaveRequestSucceed } = select( 'core/editor' );\n\t\tvar saving = false;\n\n\t\tsubscribe( () => {\n\t\t\tif (\n\t\t\t\tisSavingPost() &&\n\t\t\t\t! isAutosavingPost() &&\n\t\t\t\tdidPostSaveRequestSucceed()\n\t\t\t) {\n\t\t\t\tsaving = true;\n\t\t\t} else {\n\t\t\t\tif ( saving ) {\n\t\t\t\t\tsavePostMeta();\n\t\t\t\t\tsaving = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Set a timestamp based block ID if it does not yet exist. It is okay\n\t\t// for multiple posts to share similar block IDs, but not okay for multiple\n\t\t// blocks on the same post. Using `Date().getTime()` here provides a unique\n\t\t// enough identifier at a low cost.\n\t\tif ( '' === customBlockID ) {\n\t\t\tsetAttributes( {\n\t\t\t\tcustomBlockID: 'manual-' + new Date().getTime(),\n\t\t\t} );\n\t\t}\n\n\t\t// Selectors technically can't start with a number, so prepend a string to\n\t\t// build the ID attribute of the wrapping container.\n\t\tlet containerID = 'block-' + customBlockID;\n\n\t\treturn (\n\t\t\t<div id={ containerID } className={ className }>\n\t\t\t\t{ ! hasLoaded && <span>Looking for existing content...</span> }\n\t\t\t\t{ hasLoaded && (\n\t\t\t\t\t<PlainText\n\t\t\t\t\t\tlabel=\"Enter custom HTML\"\n\t\t\t\t\t\tvalue={ customHTML }\n\t\t\t\t\t\tonChange={ updateBlockValue }\n\t\t\t\t\t></PlainText>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t} ),\n\n\t// The front-end HTML for this block is handled in PHP, but\n\t// the save function is required.\n\tsave( { attributes } ) {\n\t\treturn null;\n\t},\n} );\n","/**\n * BLOCK: collapsible\n *\n * A collapsible content block.\n */\n\n// External dependencies.\nimport classnames from 'classnames';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// Internal dependencies.\nimport allowedBlocks from '../../components/allowed-blocks';\nimport blockIcons from '../../components/block-icons';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst {\n\tPanelBody,\n\tToggleControl,\n\tSelectControl,\n\tTextControl,\n\tRangeControl,\n\tPath,\n\tSVG,\n\tButton,\n\tButtonGroup,\n} = wp.components;\nconst {\n\tInnerBlocks,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n} = wp.blockEditor;\nconst { select } = wp.data;\nconst { getBlocks } = select( 'core/block-editor' );\n\nimport HeadingToolbar from '../headline/heading-toolbar';\n\n// Register the block.\nregisterBlockType( 'bu/collapsible', {\n\tapiVersion: 2,\n\tname: 'bu/collapsible',\n\ttitle: __( 'Collapsible' ),\n\tdescription: __( 'A collapsible content block.' ),\n\ticon: blockIcons( 'collapsible' ),\n\tcategory: 'bu',\n\tsupports: {\n\t\talign: [ 'wide', 'full' ],\n\t},\n\tattributes: {\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlevel: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2,\n\t\t},\n\t\tisOpen: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\ticonStyle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'plus-minus',\n\t\t},\n\t\tcustomMarginBottom: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tmarginBottom: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 0,\n\t\t},\n\t\tid: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tbuttonOpenLabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Read More',\n\t\t},\n\t\tbuttonCloseLabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Close',\n\t\t},\n\t},\n\tstyles: [\n\t\t{\n\t\t\tname: 'plain',\n\t\t\tlabel: __( 'Plain' ),\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'outline',\n\t\t\tlabel: __( 'Outline' ),\n\t\t},\n\t\t{\n\t\t\tname: 'preview',\n\t\t\tlabel: __( 'Preview' ),\n\t\t},\n\t],\n\n\tedit( props ) {\n\t\tconst { attributes, setAttributes, clientId, className } = props;\n\t\tconst {\n\t\t\ttitle,\n\t\t\tlevel,\n\t\t\tisOpen,\n\t\t\ticonStyle,\n\t\t\tcustomMarginBottom,\n\t\t\tmarginBottom,\n\t\t\tid,\n\t\t\tbuttonCloseLabel,\n\t\t\tbuttonOpenLabel,\n\t\t} = attributes;\n\t\tconst TagName = `h${ level }`;\n\n\t\tlet isPreviewStyle = false;\n\t\tif ( props.attributes.className ) {\n\t\t\tisPreviewStyle =\n\t\t\t\tprops.attributes.className.includes( 'is-style-preview' );\n\t\t}\n\n\t\tconst allowedBlockList = allowedBlocks().filter(\n\t\t\t( block ) => undefined !== block\n\t\t);\n\t\tallowedBlockList.push( 'bu/collapsible' );\n\n\t\t// Add an offset to the bottom margin in the editor to account for the container element padding\n\t\tconst editorContainerPaddingOffset = 28;\n\n\t\t// Generate anchor if not set\n\t\tif ( ! id ) {\n\t\t\tsetAttributes( {\n\t\t\t\tid: `bu-collapsible-${ clientId.split( '-', 1 ) }`,\n\t\t\t} );\n\t\t}\n\n\t\tconst styles = {\n\t\t\tmarginBottom:\n\t\t\t\t( customMarginBottom ? marginBottom : 0 ) +\n\t\t\t\teditorContainerPaddingOffset,\n\t\t};\n\n\t\tconst blockProps = useBlockProps( {\n\t\t\tclassName: classnames(\n\t\t\t\tclassName,\n\t\t\t\t{ 'is-open': isOpen },\n\t\t\t\t`icon-style-${ iconStyle }`\n\t\t\t),\n\t\t\tstyle: styles,\n\t\t} );\n\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t{ ! isPreviewStyle && (\n\t\t\t\t\t\t<PanelBody title={ __( 'Icon Style' ) }>\n\t\t\t\t\t\t\t<ButtonGroup className=\"bu-collapsible-icon-style-button\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisPrimary={ 'plus-minus' === iconStyle }\n\t\t\t\t\t\t\t\t\tisSecondary={ 'plus-minus' !== iconStyle }\n\t\t\t\t\t\t\t\t\tshowTooltip={ true }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Plus/Minus' ) }\n\t\t\t\t\t\t\t\t\tonClick={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\ticonStyle: 'plus-minus',\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t+ -\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisPrimary={ 'arrows' === iconStyle }\n\t\t\t\t\t\t\t\t\tisSecondary={ 'arrows' !== iconStyle }\n\t\t\t\t\t\t\t\t\tshowTooltip={ true }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Arrows' ) }\n\t\t\t\t\t\t\t\t\tonClick={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { iconStyle: 'arrows' } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t&#62721; &#62720;\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ isPreviewStyle && (\n\t\t\t\t\t\t<PanelBody title={ __( 'Button Labels' ) }>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Open Button Label' ) }\n\t\t\t\t\t\t\t\tvalue={ buttonOpenLabel }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { buttonOpenLabel: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Close Button Label' ) }\n\t\t\t\t\t\t\t\tvalue={ buttonCloseLabel }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { buttonCloseLabel: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! isPreviewStyle && (\n\t\t\t\t\t\t<PanelBody title={ __( 'Default Collapsible Status' ) }>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Open' ) }\n\t\t\t\t\t\t\t\tchecked={ isOpen }\n\t\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { isOpen: ! isOpen } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<PanelBody title={ __( 'Spacing' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Custom spacing' ) }\n\t\t\t\t\t\t\tchecked={ customMarginBottom }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tcustomMarginBottom: ! customMarginBottom,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{ customMarginBottom && (\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Bottom Margin (px)' ) }\n\t\t\t\t\t\t\t\tvalue={ marginBottom }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { marginBottom: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\t\tmax={ 200 }\n\t\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\n\t\t\t\t\t<PanelBody title={ __( 'Anchor ID' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={ __( 'Unique HTML ID' ) }\n\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { id: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<HeadingToolbar\n\t\t\t\t\t\tminLevel={ 2 }\n\t\t\t\t\t\tmaxLevel={ 7 }\n\t\t\t\t\t\tselectedLevel={ level }\n\t\t\t\t\t\tonChange={ ( newLevel ) =>\n\t\t\t\t\t\t\tsetAttributes( { level: newLevel } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\n\t\t\t\t<TagName className=\"bu-collapsible-heading\">\n\t\t\t\t\t{ /* Using div because button cause issue in editor */ }\n\t\t\t\t\t{ ! isPreviewStyle && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName={ 'div' }\n\t\t\t\t\t\t\tclassName=\"bu-block-collapsible-toggle\"\n\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { title: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={ __( 'Heading...' ) }\n\t\t\t\t\t\t\tformattingControls={ [ 'bold', 'italic' ] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ isPreviewStyle && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName={ 'div' }\n\t\t\t\t\t\t\tclassName=\"\"\n\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { title: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={ __( 'Heading...' ) }\n\t\t\t\t\t\t\tformattingControls={ [ 'bold', 'italic' ] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</TagName>\n\n\t\t\t\t<div className=\"bu-block-collapsible-content\">\n\t\t\t\t\t<InnerBlocks allowedBlocks={ allowedBlockList } />\n\t\t\t\t</div>\n\n\t\t\t\t{ isPreviewStyle && (\n\t\t\t\t\t<div className=\"button\">{ buttonOpenLabel }</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\treturn <InnerBlocks.Content />;\n\t},\n} );\n","/**\n * BLOCK: collapsible-control\n *\n * A block to toggle collapsible blocks on the page\n */\n\n// Internal dependencies.\nimport blockIcons from '../../components/block-icons';\n\n// Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\n// WordPress dependencies.\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\nconst { PanelBody, RadioControl, Path, SVG } = wp.components;\nconst { Fragment } = wp.element;\nconst { InspectorControls, RichText, useBlockProps } = wp.blockEditor;\n\n// Register the block.\nregisterBlockType( 'bu/collapsible-control', {\n\tapiVersion: 2,\n\ttitle: __( 'Collapsible Control' ),\n\tdescription: __( 'Toggle Collapsible blocks on the page' ),\n\tkeywords: [ __( 'collapsible' ), __( 'control' ), __( 'toggle' ) ],\n\ticon: blockIcons( 'collapsiblecontrol' ),\n\tcategory: 'bu',\n\tattributes: {\n\t\ttext: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'button',\n\t\t},\n\t\ttarget: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'all',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: [ 'left', 'center', 'right' ],\n\t},\n\n\tedit( props ) {\n\t\tconst { attributes, setAttributes } = props;\n\t\tconst { text, target } = attributes;\n\n\t\tconst togglebuttonclasses = 'bu-collapsible-control-toggle';\n\n\t\tconst blockProps = useBlockProps();\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<p { ...blockProps }>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"button\"\n\t\t\t\t\t\tclassName={ togglebuttonclasses }\n\t\t\t\t\t\tplaceholder={ __( 'Toggle Text' ) }\n\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { text: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformattingControls={ [ 'bold', 'italic' ] }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Control Options' ) }>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tlabel={ __( 'Target' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'To control expanding/collapsing a select number of collapsible blocks on the page, place the collapsible blocks AND this control block inside a Group block.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tselected={ target }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { target: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t'All Collapsible blocks on this page'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: 'all',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t'All Collapsible blocks in this group'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: 'group',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { text, target } = attributes;\n\n\t\tconst togglebuttonclasses =\n\t\t\t'bu-collapsible-control-toggle js-bu-collapsible-control-target-' +\n\t\t\ttarget;\n\n\t\tconst blockProps = useBlockProps.save();\n\n\t\treturn (\n\t\t\t<p { ...blockProps }>\n\t\t\t\t<RichText.Content\n\t\t\t\t\ttagName=\"button\"\n\t\t\t\t\tvalue={ text }\n\t\t\t\t\tclassName={ togglebuttonclasses }\n\t\t\t\t/>\n\t\t\t</p>\n\t\t);\n\t},\n} );\n","/**\n * Registers the caption style for the core paragraph block.\n */\n\n//  Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\nwp.domReady( () => {\n\twp.blocks.registerBlockStyle( 'core/paragraph', [\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: 'Default',\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'caption',\n\t\t\tlabel: 'Caption',\n\t\t},\n\t] );\n} );\n","/**\n * Registers the end-of-article style for the core paragraph block.\n */\n\n//  Import CSS.\nimport './style.scss';\nimport './editor.scss';\n\nwp.domReady( () => {\n\twp.blocks.registerBlockStyle( 'core/paragraph', [\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: 'Default',\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'end-of-article',\n\t\t\tlabel: 'End of Article',\n\t\t},\n\t] );\n} );\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t759: 0,\n\t687: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbu_blocks\"] = self[\"webpackChunkbu_blocks\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [687], function() { return __webpack_require__(137); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","window","__","sprintf","wp","i18n","Component","element","Toolbar","Path","SVG","components","HeadingLevelIcon","level","isPressed","levelToPath","hasOwnProperty","createElement","width","height","viewBox","xmlns","class","d","createLevelControl","targetLevel","selectedLevel","onChange","icon","title","isActive","onClick","render","minLevel","maxLevel","this","props","range","Array","from","length","v","k","controls","map","index","Fragment","registerFormatType","toggleFormat","richText","RichTextToolbarButton","RichTextShortcut","blockEditor","editor","el","compose","ifCondition","withSelect","data","name","pretexticon","points","tagName","className","edit","select","selectedBlock","getSelectedBlock","value","onToggle","type","character","onUse","shortcutType","shortcutCharacter","posttexticon","getAllowedFormats","allowedFormats","supportsAllowedFormats","icons","default","fill","aside","fillRule","transform","collapsible","collapsiblecontrol","drawer","html","introparagraph","listicle","modal","related","stat","stroke","strokeWidth","buniverse","headline","photoessay","button","pullquote","leadin","strokeLinejoin","strokeMiterlimit","clipRule","getIcon","registerBlockType","blocks","PanelBody","RichText","BlockControls","InspectorControls","getBlocks","description","blockIcons","category","supports","anchor","attributes","content","source","selector","attribute","styles","label","isDefault","setAttributes","initialOpen","HeadingToolbar","newLevel","placeholder","formattingControls","withoutInteractiveFormats","save","Content","addFilter","hooks","applyFilters","publicationSlug","publication","document","getElementById","dispatch","getEditorSettings","updateEditorSettings","getSettings","updateSettings","themeOptions","defaultColors","colors","defaultThemes","buDefaultThemes","publicationThemes","buPublicationThemes","some","includes","newColors","concat","getBlockTypes","excludeBlocks","allowedBlocks","InnerBlocks","PanelColorSettings","withColors","useBlockProps","themeColor","setThemeColor","presetTemplate","classes","classnames","slug","blockProps","colorSettings","color","disableCustomColors","template","getColorClassName","asideBlock","apiVersion","align","RegisterBlockPreset","originalBlock","presetBlock","Object","assign","nameParts","split","filterBlockClassName","blockName","replace","backgroundId","backgroundType","backgroundUrl","backgroundOpacity","backgroundAlt","backgroundCaption","backgroundAutoplay","IconButton","RangeControl","TextControl","ToggleControl","MediaPlaceholder","MediaUpload","MediaUploadCheck","useState","getAuthority","url","isBlobURL","blob","allowedMediaTypes","imageSize","inlinePlaceholder","options","placeholderText","setIsUploading","onRemoveMedia","undefined","onSelectMedia","media","mediaType","media_type","sizes","media_details","source_url","id","alt","caption","onSelectURL","newURL","authority","labels","instructions","onSelect","allowedTypes","inspectorControls","bgUrl","open","isLarge","ratio","min","max","step","checked","Spinner","getPath","getQueryString","BackgroundOpacityToClass","Math","round","isUploading","backgroundImage","src","backgroundVideo","autoPlay","muted","loop","backgroundIframe","videoId","substr","frameBorder","allow","RadioControl","hasSelectedInnerBlock","isBlockSelected","getClasses","background","hideTeaser","size","clientId","hed","lede","BackgroundAttributes","getEditWrapperProps","isSelected","BackgroundControls","Background","keepPlaceholderOnFocus","selected","option","isEmpty","href","useEffect","allowedMedia","calloutHeading","calloutText","trigger","modalSelected","createBlock","PlainText","deprecated","heading","list","dropCapColor","paragraphColor","dropCapImageURL","dropCapImageId","isImageDropCap","dropCapCharacter","charAt","saveList","hasDropCapStyle","multiline","imageURL","patternUnits","x","y","textAnchor","dy","renderDropCapSVG","randomID","clipPathURL","xlinkurlAttr","preserveAspectRatio","insertBlocksAfter","setParagraphColor","setDropCapColor","onSelectImage","selectedMediaURL","onRemoveImage","key","tagname","listValues","wrapperClassName","unstableOnSplit","before","after","SelectControl","URLInput","blockAttributes","head","deck","imageFocus","textPositionX","textPositionY","wide","box","flip","primaryTerm","metabar","metabardate","boxOpacity","videoUncropped","blockStyles","customClassName","multiple","isStyleEmphasisOnText","isStyleTextOverImage","isStyleSideBySide","isStyleTextToImage","isStyleImageToText","boxClasses","aspectRatio","autoplay","start","minutes","seconds","help","newValue","Number","newStart","frameborder","encodeURI","isStyleDefault","textColor","isStylePop","quote","photoCredit","cite","setTextColor","createHigherOrderComponent","parent","columnClass","inserter","reusable","getBlocksByClientId","updateBlockAttributes","removeBlock","layout","photoTemplate","push","splice","forEach","blockClass","i","newLayout","blockClasses","currentBlocks","innerBlocks","existingBlock","newColumnClass","block","templateLock","templateInsertUpdatesSelection","Button","Dashicon","G","text","isSmall","onSubmit","event","preventDefault","withState","BlockAlignmentToolbar","addQueryArgs","apiFetch","decodeEntities","htmlEntities","cardCount","relatedManual","includePosts","URLInputEntry","yarppPosts","yarppPostsError","doingYarppPostsFetch","relatedPosts","relatedPostsError","doingRelatedPostsFetch","errorMessage","setState","query","perPage","per_page","include","postID","getCurrentPostId","postTypes","path","post_id","post_type","then","posts","catch","error","code","message","isCardStyle","cardCountClass","displayPosts","slice","currentPost","getCurrentPost","resetRelatedState","removeSelectedPost","postId","target","parentNode","dataset","indexOf","parseInt","filter","_","initialPosition","toggleRelatedManual","handleSelectPost","post","displaySelectedPost","displayListItem","media_url","primary_term","link","date_gmt","ShareToolsAttributes","shareToolsDisabled","ShareToolsControls","number","divider","hasRelatedLinks","dek","credit","hasAsideContent","getNumberInputWidth","style","ShareTools","clickToTweetContainer","clickToTweetHighlight","clickToTweet","active","registerClickToTweetAttributes","settings","BlockEdit","wrappedContent","trim","strippedContent","saveClickToTweet","Circle","getBlockClasses","circleOneColor","circleTwoColor","numberSize","statSVG","circleOneFill","circleTwoFill","enableBackground","cx","cy","r","strokeDashoffset","postText","preText","setCircleOneColor","setCircleTwoColor","withDispatch","stats","insertBlock","isAlignedLeftOrRight","onChangeStatsNumber","statNumber","newBlock","subscribe","customBlockID","customHTML","hasLoaded","doingHTMLFetch","custom_block_id","isSavingPost","isAutosavingPost","didPostSaveRequestSucceed","saving","customTextArea","querySelector","method","savePostMeta","Date","getTime","containerID","updatedHTML","ButtonGroup","isOpen","iconStyle","customMarginBottom","marginBottom","buttonOpenLabel","buttonCloseLabel","TagName","isPreviewStyle","allowedBlockList","isPrimary","isSecondary","showTooltip","keywords","withoutInteractiveFormatting","togglebuttonclasses","domReady","registerBlockStyle","hasOwn","classNames","arguments","arg","appendClass","parseValue","isArray","apply","toString","prototype","call","newClass","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","obj","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}