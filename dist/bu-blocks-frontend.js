!function(){var t={696:function(){!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value(t){if(null==this)throw new TypeError('"this" is null or not defined');const e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");const o=arguments[1];let c=0;for(;c<n;){const n=e[c];if(t.call(o,n,c,e))return c;c++}return-1},configurable:!0,writable:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),"NodeList"in window&&!NodeList.prototype.forEach&&(console.info("polyfill for IE11"),NodeList.prototype.forEach=function(t,e){e=e||window;for(let n=0;n<this.length;n++)t.call(e,this[n],n,this)}),Array.prototype.forEach||(Array.prototype.forEach=function(t){let e,n;if(null==this)throw new TypeError("this is null or not defined");const o=Object(this),c=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),n=0;n<c;){var l;n in o&&(l=o[n],t.call(e,l,n,o)),n++}}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){"use strict";if(!("Element"in t))return;const e="classList",n="prototype",o=t.Element[n],c=Object,l=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){let e=0,n=this.length;for(;e<n;e++)if(e in this&&this[e]===t)return e;return-1},i=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},r=function(t,e){if(""===e)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},a=function(t){let e=l.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],o=0,c=n.length;for(;o<c;o++)this.push(n[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=a[n]=[],d=function(){return new a(this)};if(i[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==r(this,t+="")},u.add=function(){let t,e=arguments,n=0,o=e.length,c=!1;do{t=e[n]+"",-1===r(this,t)&&(this.push(t),c=!0)}while(++n<o);c&&this._updateClassName()},u.remove=function(){let t,e,n=arguments,o=0,c=n.length,l=!1;do{for(t=n[o]+"",e=r(this,t);-1!==e;)this.splice(e,1),l=!0,e=r(this,t)}while(++o<c);l&&this._updateClassName()},u.toggle=function(t,e){t+="";const n=this.contains(t),o=n?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},c.defineProperty){const t={get:d,enumerable:!0,configurable:!0};try{c.defineProperty(o,e,t)}catch(n){void 0!==n.number&&-2146823252!==n.number||(t.enumerable=!1,c.defineProperty(o,e,t))}}else c[n].__defineGetter__&&o.__defineGetter__(e,d)}(self),function(){"use strict";let t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){const t=function(t){const e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){let n,o=arguments.length;for(n=0;n<o;n++)t=arguments[n],e.call(this,t)}};t("add"),t("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){const t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){return 1 in arguments&&!this.contains(e)==!n?n:t.call(this,e)}}t=null}())}},e={};function n(o){var c=e[o];if(void 0!==c)return c.exports;var l=e[o]={exports:{}};return t[o](l,l.exports,n),l.exports}!function(){"use strict";n(696);var t={};t.clicktotweet=function(){const t=[];let e="Tweet this";const n=function(){!function(){const e=document.querySelectorAll(".wp-block-bu-clicktotweet");e.length>0&&e.forEach((function(e,n){const o={};o.element=e,e.classList.contains("has-format-highlight")?(o.highlight=e.querySelector(".wp-block-bu-clicktotweet-highlight"),o.tweet_text=o.highlight.innerText):o.tweet_text=e.innerText,t.push(o)}))}(),t.length>0&&t.forEach((function(t,n){let o;t.highlight?o=t.highlight:(o=document.createElement("button"),o.appendChild(document.createTextNode(e)),o.classList.add("wp-block-bu-clicktotweet-action"),o.classList.add("js-wp-block-clicktotweet-action"),t.element.appendChild(o),t.btn=o),o&&o.addEventListener("click",(function(e){e.preventDefault(),function(t){const e=window.location.href;window.open("http://twitter.com/intent/tweet?url="+e+"&text="+t+"&","twitterwindow","height=450, width=550, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")}(t.tweet_text)}))}))};return document.addEventListener("DOMContentLoaded",(function(){n()})),{gettweetBlocks(){return t},settweetButtonText(n){!function(n){e=n,t.forEach((function(t,n){t.btn&&(t.btn.innerText=e)}))}(n)}}}(),t.collapsible=function(){const t=[],e="is-open",n="is-closed",o=new CustomEvent("bu-blocks-collapsible-open"),c=new CustomEvent("bu-blocks-collapsible-close"),l=function(t){return!!t.container.classList.contains(e)},s=function(t){const c=t.container,l=t.toggle,s=t.panel;c.classList.add(e),c.classList.remove(n),l.setAttribute("aria-expanded",!0),s.setAttribute("aria-hidden",!1),c.classList.contains("is-style-preview")&&(l.innerHTML=l.getAttribute("data-close-text")),c.dispatchEvent(o)},i=function(t){const o=t.container,l=t.toggle,s=t.panel;o.classList.remove(e),o.classList.add(n),l.setAttribute("aria-expanded",!1),s.setAttribute("aria-hidden",!0),o.classList.contains("is-style-preview")&&(l.innerHTML=l.getAttribute("data-open-text")),o.dispatchEvent(c)},r=function(t){l(t)?i(t):s(t)};return document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelectorAll(".js-wp-block-bu-collapsible");0!==e.length&&e.forEach((function(e,n){const o={};o.container=e,o.toggle=e.querySelector(".js-bu-block-collapsible-toggle"),o.panel=e.querySelector(".js-bu-block-collapsible-content"),t.push(o)}))}(),0!==t.length&&t.forEach((function(t,e){t.container;const n=t.toggle,o=t.panel;n.addEventListener("click",(function(e){e.preventDefault(),r(t)})),n.setAttribute("aria-controls",o.id),o.setAttribute("aria-labelledby",n.id),function(t){return"true"===t.container.getAttribute("data-default-open")}(t)?s(t):i(t),l(t)?(n.setAttribute("aria-expanded",!0),o.setAttribute("aria-hidden",!1)):(n.setAttribute("aria-expanded",!1),o.setAttribute("aria-hidden",!0))}))})),{getcollapsibleBlocks(){return t},toggleCollapsible(t){t&&r(t)}}}(),t.collapsibleControl=function(){const t=[],e=[];let n=!1;const o="is-open",c="is-closed",l=function(t,e){void 0===e&&(e=!0),t.forEach((function(t,n){const l=t.container,s=t.toggle,i=t.panel;e?(l.classList.add(o),l.classList.remove(c),s.setAttribute("aria-expanded",!0),i.setAttribute("aria-hidden",!1)):(l.classList.remove(o),l.classList.add(c),s.setAttribute("aria-expanded",!1),i.setAttribute("aria-hidden",!0))}))};document.addEventListener("DOMContentLoaded",(function(){(function(){const n=document.querySelectorAll(".bu-collapsible-control-toggle");let o=!1;0!==n.length&&n.forEach((function(n,c){const l={};l.toggle=n,n.classList.contains("js-bu-collapsible-control-target-group")?(l.targetGroup=!0,l.collapsibleBlocks=function(t){const e=[],n=t.closest(".wp-block-group");return n?(n.querySelectorAll(".js-wp-block-bu-collapsible").forEach((function(t,n){const o={};o.container=t,o.toggle=t.querySelector(".js-bu-block-collapsible-toggle"),o.panel=t.querySelector(".js-bu-block-collapsible-content"),e.push(o)})),e):e}(n),l.groupIsOpen=!1):(l.targetGroup=!1,o||function(){const t=document.querySelectorAll(".js-wp-block-bu-collapsible");0!==t.length&&t.forEach((function(t,n){const o={};o.container=t,o.toggle=t.querySelector(".js-bu-block-collapsible-toggle"),o.panel=t.querySelector(".js-bu-block-collapsible-content"),e.push(o)}))}(),o=!0),t.push(l)}))})(),0!==t.length&&t.forEach((function(t,o){const c=t.toggle,s=t.targetGroup;c.addEventListener("click",(function(o){o.preventDefault(),s?function(t){const e=t.groupIsOpen,n=t.collapsibleBlocks;l(n,!e),t.groupIsOpen=!e}(t):0!==e.length&&(l(e,!n),n=!n)}))}))}))}(),t.drawer=function(){const t=[],e=(document.getElementsByTagName("body")[0],new CustomEvent("bu-blocks-drawer-open")),n=new CustomEvent("bu-blocks-drawer-close"),o=function(t){t.classList.contains("show-drawer")?(t.classList.remove("show-drawer"),t.dispatchEvent(n)):(t.classList.add("show-drawer"),t.dispatchEvent(e))};return document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelectorAll(".js-bu-block-drawer");if(e.length>0)for(let n=0;n<e.length;n++){const o={};o.drawer=e[n],o.button=e[n].querySelectorAll(".js-bu-block-drawer-open"),o.close=e[n].querySelector(".js-bu-block-drawer-close"),t.push(o)}}(),t.length>0&&t.forEach((function(t,e){t.button.forEach((function(e,n){e.addEventListener("click",(function(e){e.preventDefault(),o(t.drawer)}))})),t.close.addEventListener("click",(function(e){e.preventDefault(),o(t.drawer)}))}))})),{getdrawerBlocks(){return t},toggleDrawer(t){t&&o(t)}}}(),t.modal=function(){const t=[],e=document.getElementsByTagName("body")[0],n=new CustomEvent("bu-blocks-modal-open"),o=new CustomEvent("bu-blocks-modal-close"),c=function(t){t.classList.contains("show-overlay")?(t.classList.remove("show-overlay"),t.dispatchEvent(o),e.classList.remove("bu-blocks-modal-noscroll")):(t.classList.add("show-overlay"),t.dispatchEvent(n),e.classList.add("bu-blocks-modal-noscroll"))};return document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelectorAll(".js-bu-block-modal");if(e.length>0)for(let n=0;n<e.length;n++){const o={};o.overlay=e[n].querySelector(".js-bu-block-modal-overlay"),o.button=e[n].querySelectorAll(".js-bu-block-modal-trigger-overlay"),o.close=e[n].querySelector(".js-bu-block-modal-overlay-close"),t.push(o)}}(),t.length>0&&t.forEach((function(t,e){t.button.forEach((function(e,n){e.addEventListener("click",(function(e){e.preventDefault(),c(t.overlay)}))})),t.close.addEventListener("click",(function(e){e.preventDefault(),c(t.overlay)}))}))})),{getmodalBlocks(){return t},toggleModal(t){t&&c(t)}}}(),t.photoessay=function(){let t=0;const e=[],n=[];let o=!1;const c={};let l=!1;const s=document.getElementsByTagName("html")[0],i=document.getElementsByTagName("body")[0],r=function(t,e){t.addEventListener("click",(function(n){n.preventDefault(),l=c[e],b(t),d()}))};var a=function(){let t=!1;const e=l.length-1,n=l.findIndex((function(t){return t.classList.contains("active")}));return n<e?t=n+1:n===e&&(t=0),t},u=function(){let t=!1;const e=l.length-1,n=l.findIndex((function(t){return t.classList.contains("active")}));return n>0?t=n-1:0===n&&(t=e),t},d=function(){s.classList.contains("show-photo-essay-overlay")?document.removeEventListener("scroll",p):(document.addEventListener("scroll",p),t=s.scrollTop),f()},p=function(e){s.scrollTop-t>250&&(t=0,document.removeEventListener("scroll",p),f())},f=function(){l.length>1&&s.classList.toggle("photo-essay-overlay-has-multiple"),s.classList.toggle("show-photo-essay-overlay")},h=function(){for(let t=0;t<l.length;t++)l[t].matches(".active")&&l[t].classList.remove("active")},b=function(t){t.classList.add("active");const e=t.cloneNode(!0);o.photoContainer.innerHTML="",o.photoContainer.appendChild(e),g(o.photoContainer.querySelector("img"),document.createElement("span"))},g=function(t,e){t.parentNode.insertBefore(e,t),e.appendChild(t)},y=function(){return['<div class="wp-block-editorial-photoessay-overlay">','<nav class="wp-block-editorial-photoessay-overlay-nav">','<button class="wp-block-editorial-photoessay-overlay-prev js-block-editorial-photoessay-overlay-prev"><span>Previous</span></button>','<button class="wp-block-editorial-photoessay-overlay-close js-block-editorial-photoessay-overlay-close"><span>Close</span></button>','<button class="wp-block-editorial-photoessay-overlay-next js-block-editorial-photoessay-overlay-next"><span>Next</span></button>',"</nav>",'<div class="wp-block-editorial-photoessay-container">','<div class="wp-block-editorial-photoessay-photocontainer">',"</div>","</div>","</div>"].join("\n")},m=function(t,e){const n=[];for(t=t.nextElementSibling;t&&t.matches(e);)n.push(t),t=t.nextElementSibling;return n};const v=function(){!function(){const t=document.querySelectorAll(".js-block-editorial-photoessay"),e=[].slice.call(t);if(e.length>0)for(let t=0;t<e.length;t++){var o=Array();const c={};c.element=e[t],o.push(c);const l=m(e[t],".js-block-editorial-photoessay");l.length>0&&(l.forEach((function(t,e){const n={};n.element=t,o.push(n)})),e.splice(t,l.length)),n.push(o)}}(),n.length>0&&(o={},o.container=function(){const t=document.createElement("div"),e=y();return t.innerHTML=e,i.appendChild(t)}(),o.closeBtn=o.container.querySelector(".js-block-editorial-photoessay-overlay-close"),o.prevBtn=o.container.querySelector(".js-block-editorial-photoessay-overlay-prev"),o.nextBtn=o.container.querySelector(".js-block-editorial-photoessay-overlay-next"),o.photoContainer=o.container.querySelector(".wp-block-editorial-photoessay-photocontainer"),n.forEach((function(t,e){const n="photoEssay_"+e;c[n]=Array(),t.forEach((function(t,e){t.figures=t.element.querySelectorAll("figure"),t.figures.forEach((function(t,e){c[n].push(t)}))}))})),function(){for(group in c)c[group].forEach((function(t,e){r(t,group)}));function t(){const t=a();h(),b(l[t])}function e(){const t=u();h(),b(l[t])}o.closeBtn.addEventListener("click",(function(t){t.preventDefault(),d()})),o.nextBtn.addEventListener("click",(function(e){e.preventDefault(),t()})),o.prevBtn.addEventListener("click",(function(t){t.preventDefault(),e()})),document.onkeydown=function(n){"39"==(n=n||window.event).keyCode?t():"37"==n.keyCode&&e()}}())};return document.addEventListener("DOMContentLoaded",(function(){v()})),{getBlocks(){return e},getActiveGroup(){return l}}}(),window.bu_blocks=t}()}();
//# sourceMappingURL=bu-blocks-frontend.js.map