{"version":3,"file":"bu-blocks-frontend.js","mappings":"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","sources":["webpack://bu-blocks/./src/blocks-frontend-polyfills.js","webpack://bu-blocks/./src/blocks-frontend-tools.js","webpack://bu-blocks/./src/blocks/clicktotweet/frontend.js","webpack://bu-blocks/./src/blocks/collapsible-control/frontend.js","webpack://bu-blocks/./src/blocks/collapsible/frontend.js","webpack://bu-blocks/./src/blocks/drawer/frontend.js","webpack://bu-blocks/./src/blocks/modal/frontend.js","webpack://bu-blocks/./src/blocks/photoessay/frontend.js","webpack://bu-blocks/./src/blocks/slideshow/frontend.js","webpack://bu-blocks/webpack/bootstrap","webpack://bu-blocks/webpack/runtime/compat get default export","webpack://bu-blocks/webpack/runtime/define property getters","webpack://bu-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://bu-blocks/webpack/runtime/make namespace object","webpack://bu-blocks/./src/blocks-frontend.js"],"sourcesContent":["/**\n * Polyfills\n *\n * This was a last-minute inclusion during the original development of BU Blocks\n * to fix some browser compatibility isues. These polyfills may no longer be needed.\n * Additionally, compiling the JS with modern build tools should also help handle this if needed.\n *\n * Todo: test if these polyfills are needed for current browser support.\n */\n\n\n/*\nCustom Event Polyfill\nhttps://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n*/\n(function () {\n\n\tif ( typeof window.CustomEvent === \"function\" ) return false;\n\n\tfunction CustomEvent ( event, params ) {\n\t  params = params || { bubbles: false, cancelable: false, detail: null };\n\t  var evt = document.createEvent( 'CustomEvent' );\n\t  evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n\t  return evt;\n\t }\n\n\tCustomEvent.prototype = window.Event.prototype;\n\n\twindow.CustomEvent = CustomEvent;\n  })();\n\n  /*\n  .matches() polyfill:\n  https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n   */\n  if (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.msMatchesSelector ||\n\t\t\t\t\t\t\t\tElement.prototype.webkitMatchesSelector;\n  }\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n  if (!Array.prototype.findIndex) {\n\tObject.defineProperty(Array.prototype, 'findIndex', {\n\t  value: function(predicate) {\n\t   // 1. Let O be ? ToObject(this value).\n\t\tif (this == null) {\n\t\t  throw new TypeError('\"this\" is null or not defined');\n\t\t}\n\n\t\tvar o = Object(this);\n\n\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\n\t\tvar len = o.length >>> 0;\n\n\t\t// 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\t\tif (typeof predicate !== 'function') {\n\t\t  throw new TypeError('predicate must be a function');\n\t\t}\n\n\t\t// 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\t\tvar thisArg = arguments[1];\n\n\t\t// 5. Let k be 0.\n\t\tvar k = 0;\n\n\t\t// 6. Repeat, while k < len\n\t\twhile (k < len) {\n\t\t  // a. Let Pk be ! ToString(k).\n\t\t  // b. Let kValue be ? Get(O, Pk).\n\t\t  // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n\t\t  // d. If testResult is true, return k.\n\t\t  var kValue = o[k];\n\t\t  if (predicate.call(thisArg, kValue, k, o)) {\n\t\t\treturn k;\n\t\t  }\n\t\t  // e. Increase k by 1.\n\t\t  k++;\n\t\t}\n\n\t\t// 7. Return -1.\n\t\treturn -1;\n\t  },\n\t  configurable: true,\n\t  writable: true\n\t});\n  }\n\n\n  // Matches polyfill.\n  if (!Element.prototype.matches) {\n\t  Element.prototype.matches =\n\t\tElement.prototype.msMatchesSelector ||\n\t\tElement.prototype.webkitMatchesSelector;\n  }\n  // element.closest() polyfill.\n  if (!Element.prototype.closest) {\n\t  Element.prototype.closest = function(s) {\n\t\tvar el = this;\n\n\t\tdo {\n\t\t  if (Element.prototype.matches.call(el, s)) return el;\n\t\t  el = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1);\n\t\treturn null;\n\t  };\n  }\n\n  // Foreach NodeList Polyfill for IE.\n  if ('NodeList' in window && !NodeList.prototype.forEach) {\n\t  console.info('polyfill for IE11');\n\t  NodeList.prototype.forEach = function (callback, thisArg) {\n\t\tthisArg = thisArg || window;\n\t\tfor (var i = 0; i < this.length; i++) {\n\t\t  callback.call(thisArg, this[i], i, this);\n\t\t}\n\t  };\n  }\n\n\n  // Foreach Polyfill\n  // Production steps of ECMA-262, Edition 5, 15.4.4.18\n  // Reference: http://es5.github.io/#x15.4.4.18\n  if (!Array.prototype.forEach) {\n\n\tArray.prototype.forEach = function(callback/*, thisArg*/) {\n\n\t  var T, k;\n\n\t  if (this == null) {\n\t\tthrow new TypeError('this is null or not defined');\n\t  }\n\n\t  // 1. Let O be the result of calling toObject() passing the\n\t  // |this| value as the argument.\n\t  var O = Object(this);\n\n\t  // 2. Let lenValue be the result of calling the Get() internal\n\t  // method of O with the argument \"length\".\n\t  // 3. Let len be toUint32(lenValue).\n\t  var len = O.length >>> 0;\n\n\t  // 4. If isCallable(callback) is false, throw a TypeError exception.\n\t  // See: http://es5.github.com/#x9.11\n\t  if (typeof callback !== 'function') {\n\t\tthrow new TypeError(callback + ' is not a function');\n\t  }\n\n\t  // 5. If thisArg was supplied, let T be thisArg; else let\n\t  // T be undefined.\n\t  if (arguments.length > 1) {\n\t\tT = arguments[1];\n\t  }\n\n\t  // 6. Let k be 0.\n\t  k = 0;\n\n\t  // 7. Repeat while k < len.\n\t  while (k < len) {\n\n\t\tvar kValue;\n\n\t\t// a. Let Pk be ToString(k).\n\t\t//    This is implicit for LHS operands of the in operator.\n\t\t// b. Let kPresent be the result of calling the HasProperty\n\t\t//    internal method of O with argument Pk.\n\t\t//    This step can be combined with c.\n\t\t// c. If kPresent is true, then\n\t\tif (k in O) {\n\n\t\t  // i. Let kValue be the result of calling the Get internal\n\t\t  // method of O with argument Pk.\n\t\t  kValue = O[k];\n\n\t\t  // ii. Call the Call internal method of callback with T as\n\t\t  // the this value and argument list containing kValue, k, and O.\n\t\t  callback.call(T, kValue, k, O);\n\t\t}\n\t\t// d. Increase k by 1.\n\t\tk++;\n\t  }\n\t  // 8. return undefined.\n\t};\n  }\n\n\n  //Classlist polyfill\n  /*\n   * classList.js: Cross-browser full element.classList implementation.\n   * 1.1.20170427\n   *\n   * By Eli Grey, http://eligrey.com\n   * License: Dedicated to the public domain.\n   *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n   */\n\n  /*global self, document, DOMException */\n\n  /*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\n  if (\"document\" in self) {\n\n\t// Full polyfill for browsers with no classList support\n\t// Including IE < Edge missing SVGElement.classList\n\tif (!(\"classList\" in document.createElement(\"_\"))\n\t  || document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\"))) {\n\n\t  (function (view) {\n\n\t\t\"use strict\";\n\n\t\tif (!('Element' in view)) return;\n\n\t\tvar\n\t\t  classListProp = \"classList\"\n\t\t  , protoProp = \"prototype\"\n\t\t  , elemCtrProto = view.Element[protoProp]\n\t\t  , objCtr = Object\n\t\t  , strTrim = String[protoProp].trim || function () {\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, \"\");\n\t\t  }\n\t\t  , arrIndexOf = Array[protoProp].indexOf || function (item) {\n\t\t\tvar\n\t\t\t  i = 0\n\t\t\t  , len = this.length\n\t\t\t  ;\n\t\t\tfor (; i < len; i++) {\n\t\t\t  if (i in this && this[i] === item) {\n\t\t\t\treturn i;\n\t\t\t  }\n\t\t\t}\n\t\t\treturn -1;\n\t\t  }\n\t\t  // Vendors: please allow content code to instantiate DOMExceptions\n\t\t  , DOMEx = function (type, message) {\n\t\t\tthis.name = type;\n\t\t\tthis.code = DOMException[type];\n\t\t\tthis.message = message;\n\t\t  }\n\t\t  , checkTokenAndGetIndex = function (classList, token) {\n\t\t\tif (token === \"\") {\n\t\t\t  throw new DOMEx(\n\t\t\t\t\"SYNTAX_ERR\"\n\t\t\t\t, \"An invalid or illegal string was specified\"\n\t\t\t  );\n\t\t\t}\n\t\t\tif (/\\s/.test(token)) {\n\t\t\t  throw new DOMEx(\n\t\t\t\t\"INVALID_CHARACTER_ERR\"\n\t\t\t\t, \"String contains an invalid character\"\n\t\t\t  );\n\t\t\t}\n\t\t\treturn arrIndexOf.call(classList, token);\n\t\t  }\n\t\t  , ClassList = function (elem) {\n\t\t\tvar\n\t\t\t  trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n\t\t\t  , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n\t\t\t  , i = 0\n\t\t\t  , len = classes.length\n\t\t\t  ;\n\t\t\tfor (; i < len; i++) {\n\t\t\t  this.push(classes[i]);\n\t\t\t}\n\t\t\tthis._updateClassName = function () {\n\t\t\t  elem.setAttribute(\"class\", this.toString());\n\t\t\t};\n\t\t  }\n\t\t  , classListProto = ClassList[protoProp] = []\n\t\t  , classListGetter = function () {\n\t\t\treturn new ClassList(this);\n\t\t  }\n\t\t  ;\n\t\t// Most DOMException implementations don't allow calling DOMException's toString()\n\t\t// on non-DOMExceptions. Error's toString() is sufficient here.\n\t\tDOMEx[protoProp] = Error[protoProp];\n\t\tclassListProto.item = function (i) {\n\t\t  return this[i] || null;\n\t\t};\n\t\tclassListProto.contains = function (token) {\n\t\t  token += \"\";\n\t\t  return checkTokenAndGetIndex(this, token) !== -1;\n\t\t};\n\t\tclassListProto.add = function () {\n\t\t  var\n\t\t\ttokens = arguments\n\t\t\t, i = 0\n\t\t\t, l = tokens.length\n\t\t\t, token\n\t\t\t, updated = false\n\t\t\t;\n\t\t  do {\n\t\t\ttoken = tokens[i] + \"\";\n\t\t\tif (checkTokenAndGetIndex(this, token) === -1) {\n\t\t\t  this.push(token);\n\t\t\t  updated = true;\n\t\t\t}\n\t\t  }\n\t\t  while (++i < l);\n\n\t\t  if (updated) {\n\t\t\tthis._updateClassName();\n\t\t  }\n\t\t};\n\t\tclassListProto.remove = function () {\n\t\t  var\n\t\t\ttokens = arguments\n\t\t\t, i = 0\n\t\t\t, l = tokens.length\n\t\t\t, token\n\t\t\t, updated = false\n\t\t\t, index\n\t\t\t;\n\t\t  do {\n\t\t\ttoken = tokens[i] + \"\";\n\t\t\tindex = checkTokenAndGetIndex(this, token);\n\t\t\twhile (index !== -1) {\n\t\t\t  this.splice(index, 1);\n\t\t\t  updated = true;\n\t\t\t  index = checkTokenAndGetIndex(this, token);\n\t\t\t}\n\t\t  }\n\t\t  while (++i < l);\n\n\t\t  if (updated) {\n\t\t\tthis._updateClassName();\n\t\t  }\n\t\t};\n\t\tclassListProto.toggle = function (token, force) {\n\t\t  token += \"\";\n\n\t\t  var\n\t\t\tresult = this.contains(token)\n\t\t\t, method = result ?\n\t\t\t  force !== true && \"remove\"\n\t\t\t  :\n\t\t\t  force !== false && \"add\"\n\t\t\t;\n\n\t\t  if (method) {\n\t\t\tthis[method](token);\n\t\t  }\n\n\t\t  if (force === true || force === false) {\n\t\t\treturn force;\n\t\t  } else {\n\t\t\treturn !result;\n\t\t  }\n\t\t};\n\t\tclassListProto.toString = function () {\n\t\t  return this.join(\" \");\n\t\t};\n\n\t\tif (objCtr.defineProperty) {\n\t\t  var classListPropDesc = {\n\t\t\tget: classListGetter\n\t\t\t, enumerable: true\n\t\t\t, configurable: true\n\t\t  };\n\t\t  try {\n\t\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t\t  } catch (ex) { // IE 8 doesn't support enumerable:true\n\t\t\t// adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n\t\t\t// modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n\t\t\tif (ex.number === undefined || ex.number === -0x7FF5EC54) {\n\t\t\t  classListPropDesc.enumerable = false;\n\t\t\t  objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t\t\t}\n\t\t  }\n\t\t} else if (objCtr[protoProp].__defineGetter__) {\n\t\t  elemCtrProto.__defineGetter__(classListProp, classListGetter);\n\t\t}\n\n\t  }(self));\n\n\t}\n\n\t// There is full or partial native classList support, so just check if we need\n\t// to normalize the add/remove and toggle APIs.\n\n\t(function () {\n\t  \"use strict\";\n\n\t  var testElement = document.createElement(\"_\");\n\n\t  testElement.classList.add(\"c1\", \"c2\");\n\n\t  // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n\t  // classList.remove exist but support only one argument at a time.\n\t  if (!testElement.classList.contains(\"c2\")) {\n\t\tvar createMethod = function (method) {\n\t\t  var original = DOMTokenList.prototype[method];\n\n\t\t  DOMTokenList.prototype[method] = function (token) {\n\t\t\tvar i, len = arguments.length;\n\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t  token = arguments[i];\n\t\t\t  original.call(this, token);\n\t\t\t}\n\t\t  };\n\t\t};\n\t\tcreateMethod('add');\n\t\tcreateMethod('remove');\n\t  }\n\n\t  testElement.classList.toggle(\"c3\", false);\n\n\t  // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n\t  // support the second argument.\n\t  if (testElement.classList.contains(\"c3\")) {\n\t\tvar _toggle = DOMTokenList.prototype.toggle;\n\n\t\tDOMTokenList.prototype.toggle = function (token, force) {\n\t\t  if (1 in arguments && !this.contains(token) === !force) {\n\t\t\treturn force;\n\t\t  } else {\n\t\t\treturn _toggle.call(this, token);\n\t\t  }\n\t\t};\n\n\t  }\n\n\t  testElement = null;\n\t}());\n\n  }\n","// Create a global object to store all BU Blocks related functions and data.\nconst bu_blocks = {};\n\nexport default bu_blocks;\n","/**\n * BLOCK: ClicktoTweet\n *\n * A modification of Paragraph blocks to add a click to tweet feature.\n * If applied to the entire block the whole paragraph is tweetable.\n * If text is highlighted and the click to tweet format is applied, only that\n * highlighted text will recieve a tweetable link.\n */\n\n// Internal dependencies.\nimport bu_blocks from '../../blocks-frontend-tools';\n\n\nbu_blocks.clicktotweet = ( function() {\n\tvar tweetBlocks = []; //stores all of our found blocks\n\tvar tweetLabel = \"Tweet this\";\n\n\tvar findElements = function() {\n\t\t//find all the blocks\n\t\tvar elements = document.querySelectorAll( '.wp-block-bu-clicktotweet' );\n\t\t//if found\n\t\tif ( elements.length > 0 ) {\n\t\t\t//for each found block do stuff\n\t\t\telements.forEach( function( theBlock, item ) {\n\n\t\t\t\tvar block = {};\n\n\t\t\t\t// Get DOM element.\n\t\t\t\tblock.element = theBlock;\n\n\t\t\t\t// Check if this block has a highlight subsection of text\n\t\t\t\tif ( theBlock.classList.contains('has-format-highlight') ) {\n\t\t\t\t\tblock.highlight = theBlock.querySelector( '.wp-block-bu-clicktotweet-highlight');\n\n\t\t\t\t\t// Get and store the highlighted text as our text to tweet.\n\t\t\t\t\tblock.tweet_text = block.highlight.innerText;\n\t\t\t\t} else {\n\t\t\t\t\t// Get the entire paragraph's text to tweet.\n\t\t\t\t\tblock.tweet_text = theBlock.innerText;\n\t\t\t\t}\n\n\t\t\t\t//for each one found store as object in the array\n\t\t\t\ttweetBlocks.push( block );\n\t\t\t});\n\t\t}\n\t};\n\n\t/*\n\tSetup click handlers for these blocks\n\t*/\n\tvar setupHandlers = function() {\n\t\tif ( tweetBlocks.length > 0 ) {\n\n\t\t\t// Loop through all found Tweet Blocks\n\t\t\ttweetBlocks.forEach( function( theBlock, item ) {\n\t\t\t\tvar btn;\n\n\t\t\t\t// If has subtext highlighted to tweet use that.\n\t\t\t\tif ( theBlock.highlight ) {\n\t\t\t\t\tbtn = theBlock.highlight;\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise append the tweet button for the whole <p>.\n\t\t\t\t\tbtn = document.createElement( 'button' );\n\t\t\t\t\tbtn.appendChild( document.createTextNode( tweetLabel ) );\n\t\t\t\t\tbtn.classList.add( 'wp-block-bu-clicktotweet-action' );\n\t\t\t\t\tbtn.classList.add( 'js-wp-block-clicktotweet-action' );\n\t\t\t\t\ttheBlock.element.appendChild( btn );\n\n\t\t\t\t\t// Store reference to the btn.\n\t\t\t\t\ttheBlock.btn = btn;\n\t\t\t\t}\n\n\t\t\t\t// If we have a button element, setup click handler\n\t\t\t\t// to open Tweet window.\n\t\t\t\tif ( btn ) {\n\t\t\t\t\tbtn.addEventListener( \"click\", function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\topenTweet( theBlock.tweet_text );\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t};\n\n\t/*\n\tOpens a small window with\n\tthe Twitter Link Sharing Tool open and\n\tpasses the text of the tweet and url\n\tof the post\tto Twitter.\n\t*/\n\tvar openTweet = function( text ) {\n\t\tvar tweetedLink = window.location.href;\n\n  \t\twindow.open(\n  \t\t\t\"http://twitter.com/intent/tweet?url=\" + tweetedLink +\n  \t\t\t\"&text=\" + text +\n  \t\t\t\"&\",\n  \t\t\t\"twitterwindow\",\n  \t\t\t\"height=450, width=550, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0\"\n  \t\t);\n\n\t};\n\n\t/*\n\tHelper function to set the Button text\n\tto a new value on new and existing blocks.\n\t */\n\tvar setButtonText = function( str ) {\n\t\ttweetLabel = str;\n\n\t\ttweetBlocks.forEach( function( theBlock, item ) {\n\t\t\tif( theBlock.btn ) {\n\t\t\t\ttheBlock.btn.innerText = tweetLabel;\n\t\t\t}\n\t\t});\n\t};\n\n\tvar tweetInit = function() {\n\t\t//find the elements\n\t\tfindElements();\n\n\t\t//setup handlers\n\t\tsetupHandlers();\n\t};\n\n\t//start on dom ready (ie8+)\n\tdocument.addEventListener( \"DOMContentLoaded\", function() {\n  \t\ttweetInit();\n\n\t});\n\n\treturn {\n\t\tgettweetBlocks: function() {\n\t\t\treturn tweetBlocks;\n\t\t},\n\t\tsettweetButtonText: function( str ) {\n\t\t\tsetButtonText( str );\n\t\t}\n\t};\n})();\n","/**\n * BLOCK: collapsible-control\n *\n * A block to toggle collapsible blocks on the page\n */\n\n// Internal dependencies.\nimport bu_blocks from '../../blocks-frontend-tools';\n\nbu_blocks.collapsibleControl = ( function() {\n\n\t// Store all Control blocks\n\tvar collapsibleControlBlocks = [];\n\tvar allCollapsibleBlocks = [];\n\tvar allBlocksOpen = false;\n\tvar collapsibleOpenClass = 'is-open';\n\tvar collapsibleCloseClass = 'is-closed';\n\n\t/**\n\t * Open or close a group of collapsible blocks\n\t *\n\t * @param array collapsible blocks\n\t * @param bool true to open set of collapsible blocks, false to close\n\t */\n\tvar controlCollapsibleBlocks = function( collapsibleBlocks, open ) {\n\n\t\tif ( open === undefined ) {\n\t\t\topen = true;\n\t\t}\n\n\t\tcollapsibleBlocks.forEach( function( collapsible, i ) {\n\t\t\tconst container = collapsible.container;\n\t\t\tconst toggle = collapsible.toggle;\n\t\t\tconst panel = collapsible.panel;\n\n\t\t\tif ( open ) {\n\t\t\t\tcontainer.classList.add( collapsibleOpenClass );\n\t\t\t\tcontainer.classList.remove( collapsibleCloseClass );\n\t\t\t\ttoggle.setAttribute( 'aria-expanded', true );\n\t\t\t\tpanel.setAttribute( 'aria-hidden', false );\n\t\t\t} else {\n\t\t\t\tcontainer.classList.remove( collapsibleOpenClass );\n\t\t\t\tcontainer.classList.add( collapsibleCloseClass );\n\t\t\t\ttoggle.setAttribute( 'aria-expanded', false );\n\t\t\t\tpanel.setAttribute( 'aria-hidden', true );\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Toggle all Collapsible blocks\n\t */\n\tvar toggleAll = function( control ) {\n\n\t\tif ( 0 === allCollapsibleBlocks.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontrolCollapsibleBlocks( allCollapsibleBlocks, !allBlocksOpen );\n\t\tallBlocksOpen = ( allBlocksOpen ) ? false : true;\n\t};\n\n\t/**\n\t * Toggle Collapsible blocks in control's group\n\t */\n\tvar toggleGroup = function( control ) {\n\t\tconst groupIsOpen = control.groupIsOpen;\n\t\tconst collapsibleBlocks = control.collapsibleBlocks\n\n\t\tcontrolCollapsibleBlocks( collapsibleBlocks, !groupIsOpen );\n\t\tcontrol.groupIsOpen = ( groupIsOpen ) ? false : true;\n\t};\n\n\t/**\n\t * Find all Collapsible blocks on a page\n\t */\n\tvar findAllCollapsibleBlocks = function() {\n\t\tvar containers = document.querySelectorAll( '.js-wp-block-bu-collapsible' );\n\n\t\t// Don't coninue if no Collapsible blocks exist\n\t\tif ( containers.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainers.forEach( function( element, i ) {\n\t\t\tvar block = {};\n\n\t\t\tblock.container = element;\n\t\t\tblock.toggle = element.querySelector( '.js-bu-block-collapsible-toggle' );\n\t\t\tblock.panel = element.querySelector( '.js-bu-block-collapsible-content' );\n\t\t\tallCollapsibleBlocks.push( block );\n\t\t} );\n\n\t};\n\n\t/**\n\t * Return all Collapsible blocks in the group with a Control\n\t *\n\t * @param object control\n\t *\n\t * @return array list of all collapsible blocks in group\n\t */\n\tvar getGroupCollapsibleBlocks = function( control ) {\n\n\t\tvar blocks = [];\n\t\tvar group = control.closest( '.wp-block-group' );\n\t\tif ( ! group ) {\n\t\t\treturn blocks;\n\t\t}\n\t\tvar containers = group.querySelectorAll( '.js-wp-block-bu-collapsible' );\n\n\t\tcontainers.forEach( function( element, i ) {\n\t\t\tvar block = {};\n\n\t\t\tblock.container = element;\n\t\t\tblock.toggle = element.querySelector( '.js-bu-block-collapsible-toggle' );\n\t\t\tblock.panel = element.querySelector( '.js-bu-block-collapsible-content' );\n\t\t\tblocks.push( block );\n\t\t} );\n\n\t\treturn blocks;\n\t}\n\n\t/**\n\t * Find all Controls and Collapsible blocks\n\t */\n\tvar findElements = function() {\n\n\t\tvar controls = document.querySelectorAll( '.bu-collapsible-control-toggle' );\n\t\tvar allCollapsibleBlocksFound = false;\n\n\t\t// Don't coninue if no Controls are found\n\t\tif ( controls.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Store all controls\n\t\tcontrols.forEach( function( control, i ) {\n\t\t\tvar block = {};\n\n\t\t\tblock.toggle = control;\n\n\t\t\t// Check if Control targets all blocks or blocks in its group\n\t\t\tif ( control.classList.contains( 'js-bu-collapsible-control-target-group' ) ) {\n\t\t\t\tblock.targetGroup = true;\n\t\t\t\tblock.collapsibleBlocks = getGroupCollapsibleBlocks( control );\n\t\t\t\tblock.groupIsOpen = false;\n\t\t\t} else {\n\t\t\t\tblock.targetGroup = false;\n\n\t\t\t\tif ( ! allCollapsibleBlocksFound ) {\n\t\t\t\t\tfindAllCollapsibleBlocks();\n\t\t\t\t}\n\n\t\t\t\tallCollapsibleBlocksFound = true;\n\t\t\t}\n\n\t\t\tcollapsibleControlBlocks.push( block );\n\t\t} );\n\n\t};\n\n\t/**\n\t * Set up handlers, aria, and other functionality\n\t */\n\tvar setupCollapsibleControlBlocks = function() {\n\t\tif ( collapsibleControlBlocks.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcollapsibleControlBlocks.forEach( function( control, i ) {\n\t\t\tconst toggle = control.toggle;\n\t\t\tconst targetGroup = control.targetGroup;\n\n\t\t\ttoggle.addEventListener( 'click', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif ( targetGroup ) {\n\t\t\t\t\ttoggleGroup( control );\n\t\t\t\t} else {\n\t\t\t\t\ttoggleAll( control );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t};\n\n\t/**\n\t * Init\n\t */\n\tvar collapsibleControlInit = function() {\n\t\tfindElements();\n\t\tsetupCollapsibleControlBlocks();\n\t};\n\n\t// Start things on dom ready.\n\tdocument.addEventListener( \"DOMContentLoaded\", function() {\n\t\tcollapsibleControlInit();\n\t} );\n\n} )();\n","/**\n * BLOCK: Collapsible\n *\n * An accordian block to display content\n */\n\n// Internal dependencies.\nimport bu_blocks from '../../blocks-frontend-tools';\n\nbu_blocks.collapsible = ( function() {\n\n\t// Store all collapsible block\n\tvar collapsibleBlocks = [];\n\tvar collapsibleOpenClass = 'is-open';\n\tvar collapsibleClosedClass = 'is-closed';\n\tvar eventOpen = new CustomEvent('bu-blocks-collapsible-open');\n\tvar eventClose = new CustomEvent('bu-blocks-collapsible-close');\n\n\n\n\n\t/**\n\t * Check if a Collapsible block is set to open by default by user.\n\t *\n\t * @param object collapsible block\n\t * @return bool\n\t */\n\tvar isOpenDefault = function( collapsible ) {\n\t\tconst container = collapsible.container;\n\n\t\tif ( 'true' === container.getAttribute(\"data-default-open\") ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/**\n\t * Check if a Collapsible block is open.\n\t *\n\t * @param object collapsible block\n\t * @return bool\n\t */\n\tvar isOpen = function( collapsible ) {\n\t\tconst container = collapsible.container;\n\n\t\tif ( container.classList.contains ( collapsibleOpenClass ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/**\n\t * Open Collapsible block\n\t *\n\t * @param object collapsible block\n\t */\n\tvar openCollapsible = function( collapsible ) {\n\t\tconst container = collapsible.container;\n\t\tconst toggle = collapsible.toggle;\n\t\tconst panel = collapsible.panel;\n\n\t\tcontainer.classList.add( collapsibleOpenClass );\n\t\tcontainer.classList.remove( collapsibleClosedClass );\n\n\t\ttoggle.setAttribute( 'aria-expanded', true );\n\t\tpanel.setAttribute( 'aria-hidden', false );\n\n\t\tif ( container.classList.contains( 'is-style-preview' ) ) {\n\t\t\ttoggle.innerHTML = toggle.getAttribute(\"data-close-text\");\n\t\t}\n\t\t//dispatch the event on the dom element\n\t\tcontainer.dispatchEvent( eventOpen );\n\t};\n\n\t/**\n\t * Close Collapsible block\n\t *\n\t * @param object collapsible block\n\t */\n\tvar closeCollapsible = function( collapsible ) {\n\t\tconst container = collapsible.container;\n\t\tconst toggle = collapsible.toggle;\n\t\tconst panel = collapsible.panel;\n\n\t\tcontainer.classList.remove( collapsibleOpenClass );\n\t\tcontainer.classList.add( collapsibleClosedClass );\n\t\ttoggle.setAttribute( 'aria-expanded', false );\n\t\tpanel.setAttribute( 'aria-hidden', true );\n\n\t\tif ( container.classList.contains( 'is-style-preview' ) ) {\n\t\t\ttoggle.innerHTML = toggle.getAttribute(\"data-open-text\");\n\t\t}\n\t\t//dispatch the event on the dom element\n\t\tcontainer.dispatchEvent( eventClose );\n\t};\n\n\t/**\n\t * Toggle collapsible block\n\t *\n\t * @param element collapsible block\n\t */\n\tvar toggleCollapsible = function( collapsible ) {\n\t\tif ( isOpen( collapsible ) ) {\n\t\t\tcloseCollapsible( collapsible );\n\t\t} else {\n\t\t\topenCollapsible( collapsible );\n\t\t}\n\t};\n\n\t/**\n\t * Find all Collapsible blocks\n\t */\n\tvar findElements = function() {\n\t\tvar containers = document.querySelectorAll( '.js-wp-block-bu-collapsible' );\n\n\t\t// Don't coninue if no Collapsible blocks exist\n\t\tif ( containers.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainers.forEach( function( element, i ) {\n\t\t\tvar block = {};\n\n\t\t\tblock.container = element;\n\t\t\tblock.toggle = element.querySelector( '.js-bu-block-collapsible-toggle' );\n\t\t\tblock.panel = element.querySelector( '.js-bu-block-collapsible-content' );\n\t\t\tcollapsibleBlocks.push( block );\n\t\t} );\n\t};\n\n\t/**\n\t * Set up handlers, aria, and other functionality\n\t */\n\tvar setupCollapsibleBlocks = function() {\n\t\tif ( collapsibleBlocks.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcollapsibleBlocks.forEach( function( collapsible, i ) {\n\t\t\tconst container = collapsible.container;\n\t\t\tconst toggle = collapsible.toggle;\n\t\t\tconst panel = collapsible.panel;\n\n\t\t\t// Add toggle event\n\t\t\ttoggle.addEventListener( 'click', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\ttoggleCollapsible( collapsible );\n\t\t\t} );\n\n\t\t\t// Set ARIA attributes\n\t\t\ttoggle.setAttribute( 'aria-controls', panel.id );\n\t\t\tpanel.setAttribute( 'aria-labelledby', toggle.id );\n\n\t\t\t// Setup initial state of each block.\n\t\t\tif ( isOpenDefault( collapsible ) ) {\n\t\t\t\topenCollapsible( collapsible );\n\t\t\t} else {\n\t\t\t\tcloseCollapsible( collapsible );\n\t\t\t}\n\n\t\t\tif ( isOpen( collapsible ) ) {\n\t\t\t\ttoggle.setAttribute( 'aria-expanded', true );\n\t\t\t\tpanel.setAttribute( 'aria-hidden', false );\n\t\t\t} else {\n\t\t\t\ttoggle.setAttribute( 'aria-expanded', false );\n\t\t\t\tpanel.setAttribute( 'aria-hidden', true );\n\t\t\t}\n\t\t} );\n\t};\n\n\t/**\n\t * Init\n\t */\n\tvar collapsibleInit = function() {\n\t\tfindElements();\n\t\tsetupCollapsibleBlocks();\n\t};\n\n\t// Start things on dom ready.\n\tdocument.addEventListener( \"DOMContentLoaded\", function() {\n\t\tcollapsibleInit();\n\t});\n\n\treturn {\n\t\tgetcollapsibleBlocks: function() {\n\t\t\treturn collapsibleBlocks;\n\t\t},\n\t\ttoggleCollapsible: function( collapsible ) {\n\t\t\tif( collapsible ) {\n\t\t\t\ttoggleCollapsible( collapsible );\n\t\t\t}\n\t\t}\n\t};\n\n} )();\n","/**\n * BLOCK: Drawer\n *\n * A drawer block that provides a callout and expandable\n * content section that opens within the flow of the page.\n */\n\n// Internal dependencies.\nimport bu_blocks from '../../blocks-frontend-tools';\n\nbu_blocks.drawer = ( function() {\n\tvar drawerBlocks = []; //stores all of our found blocks\n\tvar $body = document.getElementsByTagName( 'body' )[0]; //target body tag\n\tvar eventOpen = new CustomEvent( 'bu-blocks-drawer-open' );\n\tvar eventClose = new CustomEvent( 'bu-blocks-drawer-close' );\n\n\tvar toggleDrawer = function( drawer ) {\n\n\t\t// Using an if statement to check the class\n\t\tif ( drawer.classList.contains( 'show-drawer' ) ) {\n\t\t\tdrawer.classList.remove( 'show-drawer' );\n\t\t\t//dispatch the event on the drawer dom element\n\t\t\tdrawer.dispatchEvent( eventClose );\n\t\t} else {\n\t\t\tdrawer.classList.add( 'show-drawer' );\n\t\t\t//dispatch the event on the drawer dom element\n\t\t\tdrawer.dispatchEvent( eventOpen );\n\t\t}\n\t};\n\n\tvar findElements = function() {\n\t\t//find all the blocks\n\t\tvar elements = document.querySelectorAll( '.js-bu-block-drawer' );\n\t\t//if found\n\t\tif ( elements.length > 0 ) {\n\t\t\t//for each found block do stuff\n\t\t\tfor ( var i = 0; i < elements.length; i++ ) {\n\n\t\t\t\tvar block = {};\n\n\t\t\t\t//get first returned drawer content element\n\t\t\t\tblock.drawer = elements[i];\n\t\t\t\t//get all matched trigger btns\n\t\t\t\tblock.button = elements[i].querySelectorAll( '.js-bu-block-drawer-open' );\n\t\t\t\t//get first returned overlay element\n\t\t\t\tblock.close = elements[i].querySelector( '.js-bu-block-drawer-close' );\n\n\t\t\t\t//for each one found store as object in the array\n\t\t\t\tdrawerBlocks.push( block );\n\t\t\t}\n\t\t}\n\t};\n\n\tvar setupHandlers = function() {\n\t\tif ( drawerBlocks.length > 0 ) {\n\t\t\tdrawerBlocks.forEach( function( thisDrawer, item ) {\n\n\t\t\t\t//some drawer blocks may have more than one trigger btn\n\t\t\t\t//so loop through all matched to setup events\n\t\t\t\tthisDrawer.button.forEach( function( button, index ) {\n\t\t\t\t\t//for each btn we find, add an event handler\n\t\t\t\t\tbutton.addEventListener( \"click\", function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\ttoggleDrawer( thisDrawer.drawer );\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\tthisDrawer.close.addEventListener( \"click\", function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\ttoggleDrawer( thisDrawer.drawer );\n\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\t};\n\n\tvar drawerInit = function() {\n\t\t//find the elements\n\t\tfindElements();\n\n\t\t//setup handlers\n\t\tsetupHandlers();\n\t};\n\n\t//start on dom ready (ie8+)\n\tdocument.addEventListener( \"DOMContentLoaded\", function() {\n  \t\tdrawerInit();\n\n\t});\n\n\treturn {\n\t\tgetdrawerBlocks: function() {\n\t\t\treturn drawerBlocks;\n\t\t},\n\t\ttoggleDrawer: function( drawer ) {\n\t\t\tif( drawer ) {\n\t\t\t\ttoggleDrawer( drawer );\n\t\t\t}\n\t\t}\n\t};\n})();\n","/**\n * BLOCK: Modal\n *\n * A modal block that provides a callout and expandable\n * overlay content section that opens on top of the page content.\n */\n\n// Internal dependencies.\nimport bu_blocks from '../../blocks-frontend-tools';\n\nbu_blocks.modal = (function() {\n\tvar modalBlocks = [];\n\tvar $body = document.getElementsByTagName('body')[0];\n\tvar eventOpen = new CustomEvent('bu-blocks-modal-open');\n\tvar eventClose = new CustomEvent('bu-blocks-modal-close');\n\n\tvar lockScroll = function() {\n\t\t$body.classList.add('bu-blocks-modal-noscroll');\n\t};\n\n\tvar unlockScroll = function() {\n\t\t$body.classList.remove('bu-blocks-modal-noscroll');\n\t}\n\n\tvar toggleModal = function(overlay) {\n\t\t// Using an if statement to check the class\n\t\tif (overlay.classList.contains('show-overlay')) {\n\t\t\toverlay.classList.remove('show-overlay');\n\t\t\t//dispatch the event on the overlay dom element\n\t\t\toverlay.dispatchEvent( eventClose );\n\t\t\tunlockScroll();\n\t\t} else {\n\t\t\toverlay.classList.add('show-overlay');\n\t\t\t//dispatch the event on the overlay dom element\n\t\t\toverlay.dispatchEvent( eventOpen );\n\t\t\tlockScroll();\n\t\t}\n\t};\n\n\tvar findElements = function() {\n\t\t//find all the blocks\n\t\tvar elements = document.querySelectorAll( '.js-bu-block-modal' );\n\t\t//if found\n\t\tif (elements.length > 0) {\n\t\t\t//for each found block do stuff\n\t\t\tfor ( var i = 0; i < elements.length; i++ ) {\n\n\t\t\t\tvar block = {};\n\n\t\t\t\t//get first returned overlay element\n\t\t\t\tblock.overlay = elements[i].querySelector( '.js-bu-block-modal-overlay' );\n\t\t\t\t//get all matched trigger btns\n\t\t\t\tblock.button = elements[i].querySelectorAll( '.js-bu-block-modal-trigger-overlay' );\n\t\t\t\t//get first returned overlay element\n\t\t\t\tblock.close = elements[i].querySelector( '.js-bu-block-modal-overlay-close' );\n\n\t\t\t\t//for each one found store as object in the array\n\t\t\t\tmodalBlocks.push( block );\n\t\t\t}\n\t\t}\n\t};\n\n\tvar setupHandlers = function() {\n\t\tif (modalBlocks.length > 0) {\n\t\t\tmodalBlocks.forEach( function( thisModal, item ) {\n\n\t\t\t\t//some modals may have more than one trigger btn\n\t\t\t\t//so loop through all matched to setup events\n\t\t\t\tthisModal.button.forEach( function( button, index ) {\n\t\t\t\t\t//for each btn we find, add an event handler\n\t\t\t\t\tbutton.addEventListener( \"click\", function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\ttoggleModal( thisModal.overlay );\n\t\t\t\t\t});\n\n\t\t\t\t});\n\t\t\t\tthisModal.close.addEventListener( \"click\", function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\ttoggleModal( thisModal.overlay );\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\tvar modalInit = function() {\n\t\t//find the elements\n\t\tfindElements();\n\n\t\t//setup handlers\n\t\tsetupHandlers();\n\t};\n\n\t//start on dom ready (ie8+)\n\tdocument.addEventListener(\"DOMContentLoaded\", function() {\n\t\tmodalInit();\n\n\t});\n\n\treturn {\n\t\tgetmodalBlocks: function() {\n\t\t\treturn modalBlocks;\n\t\t},\n\t\ttoggleModal: function( overlay ) {\n\t\t\tif( overlay ) {\n\t\t\t\ttoggleModal( overlay );\n\t\t\t}\n\t\t}\n\t};\n})();\n","/**\n * BLOCK: Photoessay\n *\n * A photo layout row block.\n */\n\n// Internal dependencies.\nimport bu_blocks from '../../blocks-frontend-tools';\n\nbu_blocks.photoessay = (function() {\n\tvar scrollTop = 0;\n\tvar photoEssayBlocks = []; //stores all of our found blocks\n\tvar photoEssayGroups = [];\n\tvar photoEssayOverlay = false;\n\tvar photoEssayFigures = {};\n\tvar overlayActiveGroup = false;\n\tvar $html = document.getElementsByTagName( 'html' )[0]; //target html tag\n\tvar $body = document.getElementsByTagName( 'body' )[0]; //target body tag\n\n\n\t/*\n\t* Find all photo essay blocks\n\t* and store in an array.\n\t*\n\t* For each found get all of the DOM\n\t* elements we'll need\n\t*\n\t*/\n\tvar findElements = function() {\n\t\t//find all the blocks\n\t\tvar findBlocks = document.querySelectorAll( '.js-block-editorial-photoessay' );\n\t\tvar elements = [].slice.call( findBlocks );\n\n\t\t//if found\n\t\tif ( elements.length > 0 ) {\n\t\t\t//for each found block do stuff\n\t\t\tfor ( var i = 0; i < elements.length; i++ ) {\n\n\t\t\t\tvar group = Array();\n\n\t\t\t\tvar block = {};\n\t\t\t\tblock.element = elements[i];\n\n\t\t\t\t//get first returned social photo block element\n\t\t\t\tgroup.push( block );\n\n\n\t\t\t\tvar siblings = getSiblings( elements[i], '.js-block-editorial-photoessay'  );\n\n\t\t\t\tif ( siblings.length > 0 ) {\n\n\t\t\t\t\t//add siblings to group.\n\t\t\t\t\tsiblings.forEach( function( sibling, index ) {\n\t\t\t\t\t\tvar sib = {};\n\t\t\t\t\t\tsib.element = sibling;\n\t\t\t\t\t\tgroup.push( sib );\n\t\t\t\t\t});\n\n\t\t\t\t\t//reduce elements array by removing the siblings\n\t\t\t\t\telements.splice(i, siblings.length);\n\n\t\t\t\t}\n\n\t\t\t\t//for each one found store as object in the array\n\t\t\t\tphotoEssayGroups.push( group );\n\t\t\t}\n\n\n\n\n\n\t\t}\n\t};\n\n\n\t/*\n\t* For Each Photo Essay Block Setup:\n\t*\n\t* Setup the Overlay Container DOM elements.\n\t*\n\t* Find each Figure inside each block inside each group and build\n\t* an array for each \"group\" with all of the figures in order so we\n\t* can later traverse.\n\t*\n\t* Then call setupHandlers() to setup\n\t* remaining event handlers for opening the overlay, etc.\n\t*\n\t*/\n\tvar setupBlocks = function() {\n\t\tif ( photoEssayGroups.length > 0 ) {\n\n\t\t\tphotoEssayOverlay = {};\n\t\t\tphotoEssayOverlay.container = appendOverlay();\n\t\t\tphotoEssayOverlay.closeBtn = photoEssayOverlay.container.querySelector( '.js-block-editorial-photoessay-overlay-close' );\n\t\t\tphotoEssayOverlay.prevBtn = photoEssayOverlay.container.querySelector( '.js-block-editorial-photoessay-overlay-prev' );\n\t\t\tphotoEssayOverlay.nextBtn = photoEssayOverlay.container.querySelector( '.js-block-editorial-photoessay-overlay-next' );\n\t\t\tphotoEssayOverlay.photoContainer = photoEssayOverlay.container.querySelector( '.wp-block-editorial-photoessay-photocontainer' );\n\n\n\t\t\t// Foreach Group let's assign an id\n\t\t\t// and then traverse the blocks to find all of the\n\t\t\t// figure elements and push them into a global object.\n\t\t\tphotoEssayGroups.forEach( function( group, index ) {\n\n\t\t\t\t// Create an id for each group.\n\t\t\t\tvar groupID = \"photoEssay_\"+index;\n\n\t\t\t\t// Add an object with a key of the group id.\n\t\t\t\tphotoEssayFigures[groupID] = Array();\n\n\t\t\t\t//group.figures = Array();\n\t\t\t\t// Loop through each Group and iterate on the blocks.\n\t\t\t\tgroup.forEach( function( block, item ) {\n\n\t\t\t\t\t// Find all of the Figure elements for the block as\n\t\t\t\t\t// each photoessay block can support multiple photos.\n\t\t\t\t\tblock.figures = block.element.querySelectorAll( 'figure' );\n\n\t\t\t\t\t// For each Figure element push it into the global object\n\t\t\t\t\t// under the key for that group.\n\t\t\t\t\tblock.figures.forEach( function( figure, item ) {\n\t\t\t\t\t\tphotoEssayFigures[groupID].push( figure );\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\t// Setup this block.\n\t\t\tsetupHandlers();\n\t\t}\n\t};\n\n\n\t/*\n\t* Setup Handler for clicking on images/figure elements\n\t* and opening the overlay with the selected figure (image)\n\t* element.\n\t*/\n\tvar openPhotoHandler = function( figure, group ) {\n\t\t// setup click handler\n\t\tfigure.addEventListener( 'click', function(e) {\n\t\t\te.preventDefault();\n\n\t\t\t//Set as Active Group\n\t\t\toverlayActiveGroup = photoEssayFigures[group];\n\n\t\t\t// Add the selected figure to the overlay\n\t\t\toverlayAddContent( figure );\n\n\t\t\t// Open the Photo Overlay.\n\t\t\toverlayToggle();\n\t\t});\n\t};\n\n\t/*\n\t* Setup remaining Handlers\n\t* for Progress Bar and Audio Complete Callbacks\n\t*\n\t* These use callbacks set in the global Audio API\n\t*/\n\tvar setupHandlers = function() {\n\n\t\tfor ( group in photoEssayFigures ) {\n\n\t\t\tphotoEssayFigures[group].forEach( function( figure, item ) {\n\t\t\t\topenPhotoHandler( figure, group );\n\t\t\t});\n\n\t\t}\n\n\t\tphotoEssayOverlay.closeBtn.addEventListener( 'click', function(e) {\n\t\t\te.preventDefault();\n\t\t\toverlayToggle();\n\t\t});\n\n\t\tfunction nextSharedAction() {\n\t\t\tvar next = nextPhoto();\n\t\t\tremoveActiveFigure();\n\t\t\toverlayAddContent( overlayActiveGroup[next] );\n\t\t}\n\n\t\tphotoEssayOverlay.nextBtn.addEventListener( 'click', function(e) {\n\t\t\te.preventDefault();\n\t\t\tnextSharedAction();\n\t\t});\n\n\t\tfunction prevSharedAction() {\n\t\t\tvar prev = prevPhoto();\n\t\t\tremoveActiveFigure();\n\t\t\toverlayAddContent( overlayActiveGroup[prev] );\n\t\t}\n\n\t\tphotoEssayOverlay.prevBtn.addEventListener( 'click', function(e) {\n\t\t\te.preventDefault();\n\t\t\tprevSharedAction();\n\t\t});\n\n\t\tdocument.onkeydown = checkKey;\n\n\t\tfunction checkKey(e) {\n\t\t\te = e || window.event;\n\t\t\tif (e.keyCode == '39') {\n\t\t\t\tnextSharedAction();\n\t\t\t}\n\t\t\telse if (e.keyCode == '37') {\n\t\t\t\tprevSharedAction();\n\t\t\t}\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t* Next Photo\n\t*\n\t* Find the next photo in the\n\t* currently active group if any exist.\n\t*\n\t* Return the index to that item in the array.\n\t*/\n\tvar nextPhoto = function() {\n\t\tvar next = false;\n\t\tvar last = overlayActiveGroup.length -1;\n\n\t\tvar current = overlayActiveGroup.findIndex( function( element ){\n\t\t\treturn element.classList.contains( 'active' );\n\t\t});\n\n\t\tif ( current < last ) {\n\t\t\tnext = current + 1;\n\t\t} else if ( current === last ) {\n\t\t\tnext = 0;\n\t\t}\n\n\t\treturn next;\n\n\t};\n\n\n\t/*\n\t* Previous Photo\n\t*\n\t* Find the previous photo in the\n\t* currently active group if any exist.\n\t*\n\t* Return the index to that item in the array.\n\t*/\n\tvar prevPhoto = function() {\n\t\tvar prev = false;\n\t\tvar last = overlayActiveGroup.length -1;\n\n\t\tvar current = overlayActiveGroup.findIndex( function( element ){\n\t\t\treturn element.classList.contains( 'active' );\n\t\t});\n\n\t\tif ( current > 0 ) {\n\t\t\tprev = current - 1;\n\t\t} else if ( current === 0 ) {\n\t\t\tprev = last;\n\t\t}\n\n\t\treturn prev;\n\n\t};\n\n\n\t/*\n\t* Open/Close Overlay\n\t*\n\t* Additionally sets up an event listener to\n\t* monitor scroll events when the overlay is open.\n\t*/\n\tvar overlayToggle = function() {\n\n\t\tif( $html.classList.contains( 'show-photo-essay-overlay' ) ) {\n\t\t\t// Closing: Remove event listener.\n\t\t\tdocument.removeEventListener( 'scroll', scrollEvent );\n\t\t} else {\n\t\t\t// Opening: Add Event Listener.\n\t\t\tdocument.addEventListener( 'scroll', scrollEvent );\n\n\t\t\t// Set current ScrollTop position.\n\t\t\tscrollTop = $html.scrollTop;\n\t\t}\n\n\t\t//Toggle the show-overlay class.\n\t\toverlayClass();\n\t};\n\n\n\t/*\n\t* Event Handler for scroll event\n\t*\n\t* Handles closing the overlay if the user\n\t* intends to scroll \"out\" of it and continue reading.\n\t*\n\t* Serves as an alternative to the close button.\n\t*/\n\tvar scrollEvent = function( e ) {\n\t\tif( $html.scrollTop - scrollTop > 250 ) {\n\t\t\t//console.log(\"close\");\n\t\t\t// Reset scrollTop.\n\t\t\tscrollTop = 0;\n\n\t\t\t// Remove Event Listener until next overlay is open.\n\t\t\tdocument.removeEventListener( 'scroll', scrollEvent );\n\n\t\t\t// Close Overlay.\n\t\t\toverlayClass();\n\t\t}\n\t};\n\n\n\t/*\n\t* Toggle the \"show\" class for the overlay\n\t* element by toggling the class on the\n\t* HTML tag.\n\t*/\n\tvar overlayClass = function() {\n\t\tif ( overlayActiveGroup.length > 1 ) {\n\t\t\t$html.classList.toggle( 'photo-essay-overlay-has-multiple' );\n\t\t}\n\t\t$html.classList.toggle( 'show-photo-essay-overlay' );\n\t};\n\n\n\t/*\n\t* Remove all \"active\" classes on any\n\t* figure element in the active group.\n\t*/\n\tvar removeActiveFigure = function() {\n\t\tfor (var i = 0; i < overlayActiveGroup.length; i++) {\n\t\t\tif (overlayActiveGroup[i].matches('.active')) {\n\t\t\t\toverlayActiveGroup[i].classList.remove('active');\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/*\n\t* Add clone of image & caption figure\n\t* to the overlay component\n\t*\n\t* @param figure the figure to clone and add.\n\t*/\n\tvar overlayAddContent = function( figure ) {\n\n\t\tfigure.classList.add(\"active\");\n\n\t\t// Clone with child elements.\n\t\tvar newFigure = figure.cloneNode( true );\n\n\t\t// Clean anything that might exist.\n\t\tphotoEssayOverlay.photoContainer.innerHTML = '';\n\n\t\t// Append to overlay container.\n\t\tphotoEssayOverlay.photoContainer.appendChild( newFigure );\n\n\t\t//Wrap the img tag in a span for better styling.\n\t\twrapElement( photoEssayOverlay.photoContainer.querySelector( 'img' ), document.createElement( 'span' ) );\n\t};\n\n\n\t/*\n\t* Add Overlay to the body\n\t*\n\t*/\n\tvar appendOverlay = function() {\n\t\tvar element = document.createElement( 'div' );\n\n\t\tvar html = overlayTemplate();\n\t\telement.innerHTML = html;\n\n\t\treturn $body.appendChild( element );\n\t};\n\n\t/*\n\t* Wrap an element in  some html:\n\t*\n\t* example: wrapElement(document.querySelector('a.wrap_me'), document.createElement('div'));\n\t*\n\t*/\n\tvar wrapElement = function( el, wrapper ) {\n\t\tel.parentNode.insertBefore( wrapper, el );\n\t\twrapper.appendChild( el );\n\t}\n\n\n\t/*\n\t* Generate the template for the\n\t* Overlay to display larger photos\n\t* in from each photoessay block.\n\t*/\n\tvar overlayTemplate = function() {\n\n\t\tvar html = [\n\t\t\t'<div class=\"wp-block-editorial-photoessay-overlay\">',\n\t\t\t\t'<nav class=\"wp-block-editorial-photoessay-overlay-nav\">',\n\t\t\t\t\t'<button class=\"wp-block-editorial-photoessay-overlay-prev js-block-editorial-photoessay-overlay-prev\"><span>Previous</span></button>',\n\t\t\t\t\t'<button class=\"wp-block-editorial-photoessay-overlay-close js-block-editorial-photoessay-overlay-close\"><span>Close</span></button>',\n\t\t\t\t\t'<button class=\"wp-block-editorial-photoessay-overlay-next js-block-editorial-photoessay-overlay-next\"><span>Next</span></button>',\n\t\t\t\t'</nav>',\n\t\t\t\t'<div class=\"wp-block-editorial-photoessay-container\">',\n\t\t\t\t\t'<div class=\"wp-block-editorial-photoessay-photocontainer\">',\n\t\t\t\t\t'</div>',\n\t\t\t\t'</div>',\n\t\t\t'</div>',\n\t\t].join(\"\\n\");\n\n\t\treturn html;\n\t};\n\n\t/*\n\t* Get Siblings of the passed element until\n\t* selector doesn't match.\n\t*\n\t* Returns Array of sibling elements.\n\t*/\n\tvar getSiblings = function ( elem, selector ) {\n\n\t\t// Setup siblings array\n\t\tvar siblings = [];\n\n\t\t// Get the next sibling element\n\t\telem = elem.nextElementSibling;\n\n\t\t// As long as a sibling exists\n\t\twhile (elem) {\n\n\t\t\t// If selector doesn't match, bail\n\t\t\tif ( ! elem.matches(selector) ) break;\n\n\t\t\t// Otherwise, push it to the siblings array\n\t\t\tsiblings.push(elem);\n\n\t\t\t// Get the next sibling element\n\t\t\telem = elem.nextElementSibling;\n\n\t\t}\n\n\t\treturn siblings;\n\n\t};\n\n\n\tvar init = function() {\n\t\t//find the elements\n\t\tfindElements();\n\n\t\t//setup blocks\n\t\tsetupBlocks();\n\t};\n\n\t//start on dom ready (ie8+)\n\tdocument.addEventListener( \"DOMContentLoaded\", function() {\n\t\tinit();\n\n\t});\n\n\treturn {\n\t\tgetBlocks: function() {\n\t\t\treturn photoEssayBlocks;\n\t\t},\n\t\tgetActiveGroup: function() {\n\t\t\treturn overlayActiveGroup;\n\t\t}\n\t};\n})();\n","/**\n * BLOCK: Slideshow\n *\n * An slideshow block to display content\n */\n\n// Internal dependencies.\nimport bu_blocks from '../../blocks-frontend-tools';\n\nbu_blocks.slideshow = (function() {\n\tvar slideshowBlocks = [];\n\tvar $body = document.getElementsByTagName('body')[0];\n\n\tvar findElements = function() {\n\t\t//find all the blocks\n\t\tvar elements = document.getElementsByClassName('js-bu-blocks-slideshow');\n\n\t\t//if found\n\t\tif (elements.length > 0) {\n\t\t\t//for each found block do stuff\n\t\t\tfor( i = 0; i < elements.length; i++ ) {\n\n\t\t\t\tvar block = {};\n\n\t\t\t\t//get back btn\n\t\t\t\tblock.backBtn = elements[i].getElementsByClassName('js-bu-blocks-slideshow-back-btn')[0];\n\t\t\t\t//get forward btn\n\t\t\t\tblock.forwardBtn = elements[i].getElementsByClassName('js-bu-blocks-slideshow-forward-btn')[0];\n\n\t\t\t\t//get onmedia back btn\n\t\t\t\tblock.backMediaBtn = elements[i].getElementsByClassName('js-bu-blocks-slideshow-back-onmedia-btn')[0];\n\t\t\t\t//get onmedia forward btn\n\t\t\t\tblock.forwardMediaBtn = elements[i].getElementsByClassName('js-bu-blocks-slideshow-forward-onmedia-btn')[0];\n\t\t\t\t//get ontrack forward btn\n\t\t\t\tblock.forwardTrackBtn = elements[i].getElementsByClassName('js-bu-blocks-slideshow-forward-ontrack-btn')[0];\n\n\t\t\t\t//get caption btn\n\t\t\t\tblock.captionBtn = elements[i].getElementsByClassName('js-bu-blocks-slideshow-caption-btn')[0];\n\n\t\t\t\t//get media track\n\t\t\t\tblock.mediatrack = elements[i].getElementsByClassName('js-bu-blocks-slideshow-media-track')[0];\n\n\t\t\t\t//get media items\n\t\t\t\tblock.mediatrackitems = elements[i].getElementsByClassName('js-bu-blocks-slideshow-media-track-item');\n\n\t\t\t\t//get caption track\n\t\t\t\tblock.captiontrack = elements[i].getElementsByClassName('js-bu-blocks-slideshow-caption-track')[0];\n\n\t\t\t\t//get caption items\n\t\t\t\tblock.captiontrackitems = elements[i].getElementsByClassName('js-bu-blocks-slideshow-caption-item');\n\t\t\t\t//get caption items\n\t\t\t\tblock.captionContainer = elements[i].getElementsByClassName('js-bu-blocks-slideshow-caption-container')[0];\n\n\t\t\t\t//for each one found store as object in the array\n\t\t\t\tslideshowBlocks.push(block);\n\t\t\t}\n\n\t\t\t// set active states on items and captions\n\t\t\tfor ( i = 0; i < block.mediatrackitems.length; i++) {\n\t\t\t\tblock.mediatrackitems[i].active = false;\n\t\t\t\tblock.captiontrackitems[i].active = false;\n\t\t\t}\n\t\t\t// set first to active true\n\t\t\tblock.mediatrackitems[0].active = true;\n\t\t\tblock.captiontrackitems[0].active = true;\n\t\t\tfor (var i = block.mediatrackitems.length - 1; i >= 0; i--) {\n\t\t\t\t// set active classes\n\t\t\t\tif (block.mediatrackitems[i].active === true) {\n\t\t\t\t\tblock.mediatrackitems[0].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t\tblock.captiontrackitems[0].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tblock.captionContainer.collapsed = true;\n\t\t\tsizingCaption( block );\n\t\t}\n\t};\n\n\n\tvar setupHandlers = function() {\n\t\tif (slideshowBlocks.length > 0) {\n\t\t\tfor ( let i = 0; i < slideshowBlocks.length; i++ ) {\n\t\t\t\tvar block = slideshowBlocks[i];\n\n\t\t\t\tblock.backBtn.addEventListener(\"click\", function(e){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tprevItem( block );\n\t\t\t\t\tsizingCaption( block );\n\t\t\t\t});\n\t\t\t\tblock.backMediaBtn.addEventListener(\"click\", function(e){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tprevItem( block );\n\t\t\t\t\tsizingCaption( block );\n\t\t\t\t});\n\t\t\t\tblock.forwardBtn.addEventListener(\"click\", function(e){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tnextItem( block );\n\t\t\t\t\tsizingCaption( block );\n\t\t\t\t});\n\t\t\t\tblock.forwardMediaBtn.addEventListener(\"click\", function(e){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tnextItem( block );\n\t\t\t\t\tsizingCaption( block );\n\t\t\t\t});\n\t\t\t\tblock.forwardTrackBtn.addEventListener(\"click\", function(e){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tnextItem( block );\n\t\t\t\t\tsizingCaption( block );\n\t\t\t\t});\n\t\t\t\tblock.captionBtn.addEventListener(\"click\", function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\ttoggleCaption( block );\n\t\t\t\t\tsizingCaption( block );\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\n\tvar setupMediaTrack = function() {\n\t\tfor ( i = 0; i < slideshowBlocks.length; i++ ) {\n\t\t\tvar block = slideshowBlocks[i];\n\t\t\tif ( block.mediatrack && block.mediatrackitems ) {\n\t\t\t\t//set currentItem variable\n\t\t\t\tblock.currentItem = 0;\n\n\t\t\t\t//store number of items\n\t\t\t\tblock.itemslength = block.mediatrackitems.length;\n\n\n\t\t\t\t//set default width\n\t\t\t\tblock.mediatrack.style.width = 'calc(' + block.itemslength + ' * 100%)';\n\t\t\t\t//set start position to first image\n\t\t\t\tblock.mediatrack.style.left = '0%';\n\n\t\t\t\t//for each image calculate the width\n\t\t\t\tfor ( var i = 0; i < block.mediatrackitems.length; i++ ) {\n\t\t\t\t\tblock.mediatrackitems[i].style.width = 'calc(1/' + block.itemslength + ' * 100% - 2px)';\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t//setup the caption track starting widths and postion\n\t\t\tif( block.captiontrack && block.captiontrackitems ) {\n\t\t\t\t//set default width\n\t\t\t\tblock.captiontrack.style.width = 'calc(' + block.itemslength + ' * 100%)';\n\t\t\t\t//set start position to first caption\n\t\t\t\tblock.captiontrack.style.left = '0%';\n\n\t\t\t\t//for each caption calculate the width\n\t\t\t\tfor ( var i = 0; i < block.captiontrackitems.length; i++ ) {\n\t\t\t\t\tblock.captiontrackitems[i].style.width = 'calc(1/' + block.itemslength + ' * 100%)';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t};\n\n\n\tvar nextItem = function( block ) {\n\t\tif( block.currentItem === block.itemslength - 1 ) {\n\t\t\t//can't go next anymore\n\t\t} else {\n\t\t\tblock.currentItem = block.currentItem + 1;\n\t\t\tblock.mediatrack.style.left = block.currentItem * -100 + '%';\n\t\t\tblock.captiontrack.style.left = block.currentItem * -100 + '%';\n\t\t\t//move over active states\n\t\t\tfor (var i = block.mediatrackitems.length - 1; i >= 0; i--) {\n\t\t\t\tif (block.mediatrackitems[i].active === true) {\n\t\t\t\t\tblock.mediatrackitems[i].active = false;\n\t\t\t\t\tblock.mediatrackitems[i].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t\tblock.mediatrackitems[i + 1].active = true;\n\t\t\t\t\tblock.mediatrackitems[i + 1].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\n\t\t\t\t\tblock.captiontrackitems[i].active = false;\n\t\t\t\t\tblock.captiontrackitems[i].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t\tblock.captiontrackitems[i + 1].active = true;\n\t\t\t\t\tblock.captiontrackitems[i + 1].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar prevItem = function( block ) {\n\t\tif( block.currentItem === 0 ) {\n\t\t\t//do nothing can't go back more\n\t\t} else {\n\t\t\tblock.currentItem = block.currentItem - 1;\n\t\t\tblock.mediatrack.style.left = block.currentItem * -100 + '%';\n\t\t\tblock.captiontrack.style.left = block.currentItem * -100 + '%';\n\t\t\t//move over active states\n\t\t\tfor (var i = 0; i < block.mediatrackitems.length; i++) {\n\t\t\t\tif (block.mediatrackitems[i].active === true) {\n\t\t\t\t\tblock.mediatrackitems[i].active = false;\n\t\t\t\t\tblock.mediatrackitems[i].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t\tblock.mediatrackitems[i - 1].active = true;\n\t\t\t\t\tblock.mediatrackitems[i - 1].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\n\t\t\t\t\tblock.captiontrackitems[i].active = false;\n\t\t\t\t\tblock.captiontrackitems[i].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t\tblock.captiontrackitems[i - 1].active = true;\n\t\t\t\t\tblock.captiontrackitems[i - 1].classList.toggle(\"bu-blocks-slideshow-media-track-item-active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar toggleCaption = function( block ) {\n\t\t// Toggle the collapsed class\n\t\tblock.captionContainer.classList.toggle(\"bu-blocks-slideshow-caption-container-collapsed\");\n\t\tblock.captionContainer.collapsed = !block.captionContainer.collapsed;\n\t};\n\n\tvar sizingCaption = function( block ) {\n\t\t// look for active caption and grab height\n\t\tfor (var i = 0; i < block.captiontrackitems.length; i++) {\n\t\t\tif (block.captionContainer.collapsed == false) {\n\t\t\t\tif (block.captiontrackitems[i].active === true) {\n\t\t\t\t\tblock.captiontrack.style.maxHeight = block.captiontrackitems[i].offsetHeight + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tblock.captiontrack.style.maxHeight = '1.6em';\n\t\t\t\tif (block.captiontrackitems[i].active === true) {\n\t\t\t\t\t//remove colapse class if text is 1 line\n\t\t\t\t\tif (block.captiontrackitems[i].offsetHeight < block.captiontrack.offsetHeight ) {\n\t\t\t\t\t\tblock.captionContainer.classList.remove(\"bu-blocks-slideshow-caption-container-collapsed\");\n\t\t\t\t\t\tblock.captionBtn.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tblock.captionContainer.classList.add(\"bu-blocks-slideshow-caption-container-collapsed\");\n\t\t\t\t\t\tblock.captionBtn.style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\n\tvar slideshowInit = function() {\n\t\t//find the elements\n\t\tfindElements();\n\n\t\t//setup handlers\n\t\tsetupHandlers();\n\n\t\tsetupMediaTrack();\n\t};\n\n\t//start on dom ready (ie8+)\n\tdocument.addEventListener(\"DOMContentLoaded\", function() {\n  \t\tslideshowInit();\n\n\t});\n\n\treturn {\n\t\tgetslideshowBlocks: function() {\n\t\t\treturn slideshowBlocks;\n\t\t}\n\t};\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Frontend JS for BU Blocks\n *\n */\n\nimport './blocks-frontend-polyfills';\n\n// Import the bu_blocks object that all data and public functions are stored on.\nimport bu_blocks from './blocks-frontend-tools';\n\n// Import the frontend JS for each block so it is enqueued together into one file.\nimport './blocks/clicktotweet/frontend';\nimport './blocks/collapsible/frontend';\nimport './blocks/collapsible-control/frontend';\nimport './blocks/drawer/frontend';\nimport './blocks/modal/frontend';\nimport './blocks/photoessay/frontend';\nimport './blocks/slideshow/frontend';\n\n// Export bu_blocks object to the window so it's accessible easily for\n// child themes to call public functions or debug.\nwindow.bu_blocks = bu_blocks;\n"],"names":["window","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","prototype","Event","Element","matches","msMatchesSelector","webkitMatchesSelector","Array","findIndex","Object","defineProperty","value","predicate","TypeError","o","len","length","thisArg","arguments","k","kValue","call","configurable","writable","closest","s","el","parentElement","parentNode","nodeType","NodeList","forEach","console","info","callback","i","T","O","self","createElement","createElementNS","view","classListProp","protoProp","elemCtrProto","objCtr","strTrim","String","trim","replace","arrIndexOf","indexOf","item","DOMEx","type","message","name","code","DOMException","checkTokenAndGetIndex","classList","token","test","ClassList","elem","trimmedClasses","getAttribute","classes","split","push","_updateClassName","setAttribute","toString","classListProto","classListGetter","Error","contains","add","tokens","l","updated","remove","index","splice","toggle","force","result","method","join","classListPropDesc","get","enumerable","ex","number","undefined","__defineGetter__","testElement","createMethod","original","DOMTokenList","_toggle","bu_blocks","clicktotweet","tweetBlocks","tweetLabel","findElements","elements","querySelectorAll","theBlock","block","element","highlight","querySelector","tweet_text","innerText","setupHandlers","btn","appendChild","createTextNode","addEventListener","e","preventDefault","openTweet","text","tweetedLink","location","href","open","setButtonText","str","tweetInit","gettweetBlocks","settweetButtonText","collapsibleControl","collapsibleControlBlocks","allCollapsibleBlocks","allBlocksOpen","collapsibleOpenClass","collapsibleCloseClass","controlCollapsibleBlocks","collapsibleBlocks","collapsible","container","panel","toggleAll","control","toggleGroup","groupIsOpen","findAllCollapsibleBlocks","containers","getGroupCollapsibleBlocks","blocks","group","controls","allCollapsibleBlocksFound","targetGroup","setupCollapsibleControlBlocks","collapsibleControlInit","collapsibleClosedClass","eventOpen","eventClose","isOpenDefault","isOpen","openCollapsible","innerHTML","dispatchEvent","closeCollapsible","toggleCollapsible","setupCollapsibleBlocks","id","collapsibleInit","getcollapsibleBlocks","drawer","drawerBlocks","$body","getElementsByTagName","toggleDrawer","button","close","thisDrawer","drawerInit","getdrawerBlocks","modal","modalBlocks","lockScroll","unlockScroll","toggleModal","overlay","thisModal","modalInit","getmodalBlocks","photoessay","scrollTop","photoEssayBlocks","photoEssayGroups","photoEssayOverlay","photoEssayFigures","overlayActiveGroup","$html","findBlocks","slice","siblings","getSiblings","sibling","sib","setupBlocks","appendOverlay","closeBtn","prevBtn","nextBtn","photoContainer","groupID","figures","figure","openPhotoHandler","overlayAddContent","overlayToggle","nextSharedAction","next","nextPhoto","removeActiveFigure","prevSharedAction","prev","prevPhoto","onkeydown","checkKey","keyCode","last","current","removeEventListener","scrollEvent","overlayClass","newFigure","cloneNode","wrapElement","html","overlayTemplate","wrapper","insertBefore","selector","nextElementSibling","init","getBlocks","getActiveGroup","slideshow","slideshowBlocks","getElementsByClassName","backBtn","forwardBtn","backMediaBtn","forwardMediaBtn","forwardTrackBtn","captionBtn","mediatrack","mediatrackitems","captiontrack","captiontrackitems","captionContainer","active","collapsed","sizingCaption","prevItem","nextItem","toggleCaption","setupMediaTrack","currentItem","itemslength","style","width","left","maxHeight","offsetHeight","display","slideshowInit","getslideshowBlocks"],"sourceRoot":""}