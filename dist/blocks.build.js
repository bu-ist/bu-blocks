!function(e){function t(n){if(l[n])return l[n].exports;var a=l[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var l={};t.m=e,t.c=l,t.d=function(e,l,n){t.o(e,l)||Object.defineProperty(e,l,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,l){var n,a;!function(){"use strict";function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var r=l.apply(null,n);r&&e.push(r)}else if("object"===a)for(var i in n)o.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(l.default=l,e.exports=l):(n=[],void 0!==(a=function(){return l}.apply(t,n))&&(e.exports=a))}()},function(e,t,l){"use strict";var n=(wp.i18n.__,wp.data),a=n.select,o=n.dispatch,r=a("core/editor"),i=r.getEditorSettings,c=o("core/editor"),s=c.updateEditorSettings,p=function(){var e=i().colors,t=i().buDefaultThemes,l=i().buPublicationThemes,n=document.getElementById("bu_publication_owner").value,a=l&&l[n]?l[n]:t;if(a&&!a.some(function(t){return e.includes(t)})){var o=e.concat(a);s({colors:o})}return a};t.a=p},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e){var t,l=e.allowedMediaTypes,a=void 0===l?["image","video"]:l,o=e.blockProps,i=e.className,c=void 0===i?"bu-blocks-background":i,u=e.imageSize,f=void 0===u?"full":u,N=e.inlinePlaceholder,O=void 0!==N&&N,B=e.options,I=void 0===B?["opacity"]:B,S=e.placeholderText,j=void 0===S?s("Add Media"):S,M=o.attributes,A=o.setAttributes,R=M.backgroundId,L=M.backgroundType,H=M.backgroundUrl,F=M.backgroundOpacity,V=M.backgroundAlt,z=M.backgroundAutoplay,D=function(){A({backgroundId:void 0,backgroundType:void 0,backgroundUrl:void 0,backgroundAlt:void 0,backgroundCaption:void 0})},U=function(e){if(!e||!e.url)return void D();var t=void 0;if(e.media_type)t="image"===e.media_type?"image":"video";else{if("image"!==e.type&&"video"!==e.type)return;t=e.type}var l=e.url;"image"===t&&"full"!==f&&(l=e.sizes[f]?e.sizes[f].url:e.url),A({backgroundId:e.id,backgroundType:t,backgroundUrl:l,backgroundAlt:e.alt,backgroundCaption:e.caption})},q=function(e){var t=["vimeo.com","www.youtube.com","youtu.be","www.bu.edu"],l=P(e);e!==H&&t.includes(l)&&A({backgroundId:void 0,backgroundType:"url",backgroundUrl:e,backgroundAlt:void 0,backgroundCaption:void 0})},Y=function(){if(!H)return wp.element.createElement(C,null,wp.element.createElement(E,{icon:"format-image",className:c,labels:{title:j,instructions:s("Drag, upload, or select a file from your library.")},onSelect:U,onSelectURL:a.includes("video")?q:void 0,allowedTypes:a}),a.includes("video")&&wp.element.createElement("p",{className:"description components-bu-background-url-note"},"YouTube, Vimeo, and BUniverse URLs are supported at this time."))},G=wp.element.createElement(y,null,wp.element.createElement(d,{title:s("Media Settings"),className:"components-panel__body-bu-background-media"},!O&&Y(),!!H&&wp.element.createElement(p,null,"url"===L?wp.element.createElement(w,{label:s("URL"),value:H,onChange:function(e){A({backgroundUrl:e,backgroundType:""===e?void 0:L})}}):wp.element.createElement(C,null,wp.element.createElement(k,{onSelect:U,allowedTypes:a,value:R,render:function(e){var t=e.open;return wp.element.createElement(m,{onClick:t,icon:"edit",label:s("Edit Background Media"),isDefault:!0,isLarge:!0},s("Edit"))}}),wp.element.createElement(m,{onClick:D,icon:"no",label:"Remove Background Media",isDefault:!0,isLarge:!0},s("Remove")))),I.includes("opacity")&&wp.element.createElement(b,{label:s("Background Opacity"),value:F,onChange:function(e){return A({backgroundOpacity:e})},min:10,max:100,step:10}),("video"===L||"url"===L)&&wp.element.createElement(g,{label:s("Autoplay video"),checked:z,onChange:function(){return A({backgroundAutoplay:!z})}}))),W=wp.element.createElement(p,null,O&&Y(),!!H&&"url"!==L&&wp.element.createElement(v,null,wp.element.createElement(h,null,wp.element.createElement(C,null,wp.element.createElement(k,{onSelect:U,allowedMediaTypes:a,value:R,render:function(e){var t=e.open;return wp.element.createElement(m,{className:"components-toolbar__control",label:s("Edit Background Media"),icon:"edit",onClick:t})}}),wp.element.createElement(m,{className:"components-toolbar__control",label:"Remove Background Media",icon:"no",onClick:D})))),(!O||H)&&G),Q=r()(c,(t={"has-background-opacity":100!==F},n(t,_(F),_(F)),n(t,"wp-image-"+R,R&&"image"===L),t)),X=wp.element.createElement("img",{className:Q,src:H,alt:V}),J=wp.element.createElement("video",{className:Q,autoPlay:z,muted:z,loop:z,src:H});return wp.element.createElement(p,null,W,"image"===L&&X,"video"===L&&J,"url"===L&&wp.element.createElement("div",{className:"wp-block-background-video"},wp.element.createElement("div",{className:"wp-block-background-video-ratio"},wp.element.createElement("div",{className:"wp-block-background-video-iframe"},function(){var e=P(H),t="";if("www.youtube.com"===e||"youtu.be"===e){var l="youtu.be"===e?x(H):T(H).split("?")[0].substr(2);t="//www.youtube.com/embed/"+l,t+=z?"?controls=0&autoplay=1&mute=1&origin=http://bu.edu&version=3&loop=1&playlist="+l:""}if("vimeo.com"===e){t="//player.vimeo.com/video/"+x(H),t+=z?"?background=1":""}if("www.bu.edu"===e){t="//www.bu.edu/buniverse/interface/embed/embed.html?v="+T(H).split("?")[0].substr(2)+"&jsapi=1",t+=z?"&autoplay=true&controls=0":""}if(""!==t)return wp.element.createElement("iframe",{src:t,frameborder:"0",allow:"autoplay; fullscreen",className:Q})}()))))}var o=l(0),r=l.n(o),i=l(22),c=(l.n(i),l(23));l.d(t,"a",function(){return c.a});var s=wp.i18n.__,p=wp.element.Fragment,u=wp.components,m=u.IconButton,d=u.PanelBody,b=u.RangeControl,w=u.TextControl,g=u.ToggleControl,h=u.Toolbar,f=wp.editor,v=f.BlockControls,y=f.InspectorControls,E=f.MediaPlaceholder,k=f.MediaUpload,C=f.MediaUploadCheck,N=wp.url,P=N.getAuthority,x=N.getPath,T=N.getQueryString,_=function(e){return 100===e?null:"has-background-opacity-"+10*Math.round(e/10)};t.b=a},function(e,t,l){"use strict";var n=wp.blocks.getBlockTypes,a=wp.hooks.applyFilters,o=["bu/leadin","core/more","core/nextpage","core/separator","core/spacer","editorial/aside","editorial/drawer","editorial/modal","editorial-preset/aside"],r=function(){return o=a("buBlocks.layoutBlockTypes.excludeBlocks",o),n().map(function(e){var t=e.name;if(t&&!o.includes(t))return t})};t.a=r},function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(l(5),l(8),l(14),l(19),l(24),l(28),l(31),l(34),l(37),l(40),l(43),l(47),l(51),l(54),l(58),l(61),l(63));l.n(n)},function(e,t,l){"use strict";var n=l(6),a=(l.n(n),l(7));l.n(a)},function(e,t){},function(e,t){},function(e,t,l){"use strict";var n=l(9),a=(l.n(n),l(10)),o=(l.n(a),l(11)),r=l(12),i=(l.n(r),l(13)),c=(l.n(i),wp.i18n.__),s=wp.blocks.registerBlockType,p=wp.element.Fragment,u=wp.editor,m=u.RichText,d=u.BlockControls,b=wp.data.select,w=document.getElementById("bu_publication_owner").value;s("editorial/headline",{title:c("Headline"),description:c("Add a section heading with an anchor and pre- and post-text formatting options."),icon:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},wp.element.createElement("path",{fill:"#c00",d:"M5 4v3h5.5v12h3V7H19V4z"}),wp.element.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),category:"bu-editorial",supports:{anchor:!0},attributes:{content:{type:"string",source:"html",selector:".wp-block-editorial-headline"},level:{type:"number",default:2},anchor:{type:"string",source:"attribute",attribute:"id",selector:".wp-block-editorial-headline"}},styles:[{name:"default",label:c("Regular"),isDefault:!0},{name:"emphasis-weight",label:c("Emphasize weight")},{name:"emphasis-color",label:c("Emphasize color")}],publicationClassName:w+"-block-editorial-headline",edit:function(e){var t=e.attributes,l=e.setAttributes,n=e.className,a=e.clientId,r=t.content,i=t.level,s=t.anchor,u="h"+i;if(!s){var w=b("core/editor").getBlocks(),g=w.filter(function(e){return"editorial/headline"===e.name}),h=g.findIndex(function(e){return e.clientId===a});l({anchor:"headline-"+(h+1)})}return wp.element.createElement(p,null,wp.element.createElement(d,null,wp.element.createElement(o.a,{minLevel:2,maxLevel:5,selectedLevel:i,onChange:function(e){return l({level:e})}})),wp.element.createElement(m,{tagName:u,className:n,value:r,onChange:function(e){return l({content:e})},placeholder:c("Write headline\u2026"),formattingControls:["pretext","posttext","bold","italic"]}))},save:function(e){var t=e.attributes,l=t.content,n=t.level,a="h"+n;return wp.element.createElement(m.Content,{tagName:a,value:l})}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),i=wp.i18n,c=i.__,s=i.sprintf,p=wp.element.Component,u=wp.components.Toolbar,m=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),r(t,[{key:"createLevelControl",value:function(e,t,l){return{icon:"heading",title:s(c("Heading %d"),e),isActive:e===t,onClick:function(){return l(e)},subscript:String(e)}}},{key:"render",value:function(){var e=this,t=this.props,l=t.minLevel,n=t.maxLevel,a=t.selectedLevel,o=t.onChange,r=Array.from({length:n-l},function(e,t){return t+l});return wp.element.createElement(u,{controls:r.map(function(t){return e.createLevelControl(t,a,o)})})}}]),t}(p);t.a=m},function(e,t){var l=wp.i18n.__,n=wp.element.Fragment,a=wp.richText,o=a.registerFormatType,r=a.toggleFormat,i=wp.editor,c=i.RichTextToolbarButton,s=i.RichTextShortcut,p="editorial/pretext";o(p,{title:l("Pretext"),tagName:"span",className:"wp-block-editorial-headline-pretext",edit:function(e){var t=e.isActive,a=e.value,o=e.onChange,i=function(){return o(r(a,{type:p}))};return wp.element.createElement(n,null,wp.element.createElement(s,{type:"access",character:"a",onUse:i}),wp.element.createElement(c,{name:"pretext",icon:"warning",title:l("Pretext"),onClick:i,isActive:t,shortcutType:"access",shortcutCharacter:"a"}))}})},function(e,t){var l=wp.i18n.__,n=wp.element.Fragment,a=wp.richText,o=a.registerFormatType,r=a.toggleFormat,i=wp.editor,c=i.RichTextToolbarButton,s=i.RichTextShortcut,p="editorial/posttext";o(p,{title:l("Posttext"),tagName:"span",className:"wp-block-editorial-headline-posttext",edit:function(e){var t=e.isActive,a=e.value,o=e.onChange,i=function(){return o(r(a,{type:p}))};return wp.element.createElement(n,null,wp.element.createElement(s,{type:"access",character:"b",onUse:i}),wp.element.createElement(c,{name:"posttext",icon:"warning",title:l("Posttext"),onClick:i,isActive:t,shortcutType:"access",shortcutCharacter:"b"}))}})},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(0),o=l.n(a),r=l(15),i=(l.n(r),l(16)),c=(l.n(i),l(17)),s=l(18),p=wp.i18n.__,u=wp.blocks.registerBlockType,m=wp.editor,d=m.getColorClassName,b=m.InnerBlocks,w=document.getElementById("bu_publication_owner").value,g=u("editorial/aside",{title:p("Aside"),description:p("Add an aside with related information. Accepts image, headline, paragraph, and button blocks as children."),icon:"format-aside",category:"bu-editorial",supports:{align:["left","right"]},attributes:{themeColor:{type:"string"}},publicationClassName:w+"-block-editorial-aside",edit:s.a,save:function(e){var t=e.attributes,l=e.className,a=t.themeColor,r=o()(l,n({},d("background",a),d("background",a)));return wp.element.createElement("aside",{className:r},wp.element.createElement(b.Content,null))}}),h=[["core/image"],["core/heading",{placeholder:"Enter aside title\u2026"}],["core/paragraph",{placeholder:"Enter aside content\u2026"}],["core/button"]];Object(c.a)(g,h)},function(e,t){},function(e,t){},function(e,t,l){"use strict";var n=wp.blocks.registerBlockType,a=wp.element.createElement,o=wp.hooks.addFilter,r=function(e,t){var l=e.name,r=e.title,i=e.edit,c=e.save,s=Object.assign({},e),p=l.split("/"),u=function(e,t){return s.name===t&&(e=e.replace(/-preset/i,"")),e};s.name=p[0]+"-preset/"+p[1],s.title=r+" (preset)",s.category="bu-editorial-presets",s.save=c,s.edit=function(e){return a(i,Object.assign(e,{presetTemplate:t}))},n(s.name,s),o("blocks.getBlockDefaultClassName","bu-blocks/preset-block-class-name/",u)};t.a=r},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=l(0),c=l.n(i),s=l(1),p=l(3),u=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),m=wp.i18n.__,d=wp.element,b=d.Component,w=d.Fragment,g=wp.compose.compose,h=wp.editor,f=h.InnerBlocks,v=h.InspectorControls,y=h.PanelColorSettings,E=h.withColors,k=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,l=e.themeColor,a=e.setThemeColor,o=e.presetTemplate,r=c()(t,n({},"has-"+l.slug+"-background",l.slug));return wp.element.createElement(w,null,wp.element.createElement(v,null,wp.element.createElement(y,{title:m("Color Settings"),colorSettings:[{value:l.color,onChange:a,label:m("Theme"),disableCustomColors:!0,colors:Object(s.a)()}]})),wp.element.createElement("aside",{className:r},wp.element.createElement(f,{allowedBlocks:Object(p.a)(),template:o})))}}]),t}(b);t.a=g([E("themeColor")])(k)},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(0),o=l.n(a),r=l(20),i=(l.n(r),l(21)),c=(l.n(i),l(2)),s=l(1),p=l(3),u=wp.i18n.__,m=wp.blocks.registerBlockType,d=wp.components,b=d.PanelBody,w=d.Path,g=d.RadioControl,h=d.SVG,f=d.ToggleControl,v=wp.editor,y=v.RichText,E=v.InnerBlocks,k=v.InspectorControls,C=v.PanelColorSettings,N=v.withColors,P=wp.data.select,x=P("core/editor"),T=x.hasSelectedInnerBlock,_=x.isBlockSelected,O=document.getElementById("bu_publication_owner"),B=function(e,t,l,a,r,i){var c;return o()("js-bu-block-drawer",(c={"has-hide-teaser":l,"is-style-round":a},n(c,t,t),n(c,"has-"+i+"-background",i),n(c,r,r&&""!==r),n(c,"has-media",e),c))};m("editorial/drawer",{title:u("Drawer"),description:u("Add content that can be toggled."),icon:wp.element.createElement(h,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(w,{fill:"#c00",d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"})),category:"bu-editorial",attributes:Object.assign({button:{type:"string",default:"",source:"text",selector:".button.js-bu-block-drawer-open"},className:{type:"string"},clientId:{type:"number"},hed:{type:"string",default:"",source:"html",selector:"h2"},hideTeaser:{type:"boolean",default:!1},lede:{type:"string",default:"",source:"html",selector:"p"},round:{type:"boolean",default:!1},size:{type:"string",default:""},themeColor:{type:"string",default:""}},c.a),supports:{align:["left","right","full"]},publicationClassName:O.value?O.value+"-block-editorial-drawer":"",getEditWrapperProps:function(e){var t=e.clientId;if(t){return{"data-selected-drawer":T(t,!0)||_(t)?"true":void 0}}},edit:N("themeColor")(function(e){var t=e.attributes,l=t.backgroundId,n=t.button,a=t.hed,o=t.hideTeaser,r=t.lede,i=t.round,m=t.size,d=e.className,w=e.clientId,h=e.isSelected,v=e.setAttributes,N=e.setThemeColor,P=e.themeColor;return(T(w,!0)||_(w))&&v({clientId:w}),wp.element.createElement("aside",{className:B(l,d,o,i,m,P.slug)},wp.element.createElement("div",{className:"wp-block-editorial-drawer-teaser"},(l||h||T(w,!0))&&wp.element.createElement("figure",null,wp.element.createElement(c.b,{allowedMediaTypes:["image"],blockProps:e,inlinePlaceholder:!0,options:[],placeholderText:u("Add Image")})),wp.element.createElement(y,{formattingControls:[],keepPlaceholderOnFocus:!0,onChange:function(e){return v({hed:e})},placeholder:u("Enter heading\u2026"),tagName:"h2",value:a}),wp.element.createElement(y,{formattingControls:["bold","italic","link"],keepPlaceholderOnFocus:!0,onChange:function(e){return v({lede:e})},placeholder:u("Enter text\u2026"),tagName:"p",value:r}),wp.element.createElement("div",{className:"wp-block-editorial-drawer-open-wrapper"},wp.element.createElement(y,{formattingControls:[],keepPlaceholderOnFocus:!0,className:"button js-bu-block-drawer-open",onChange:function(e){return v({button:e})},placeholder:u("Enter button label\u2026"),tagName:"p",value:n}))),wp.element.createElement("section",{className:"wp-block-editorial-drawer-content js-bu-block-drawer-content"},wp.element.createElement("div",{className:"wp-block-editorial-drawer-wrapper"},wp.element.createElement(E,{allowedBlocks:Object(p.a)()}),wp.element.createElement("div",{className:"wp-block-editorial-drawer-close"},wp.element.createElement("button",{className:"wp-block-editorial-drawer-close-button js-bu-block-drawer-close"},"Close")))),wp.element.createElement(k,null,wp.element.createElement(C,{title:u("Background Color"),initialOpen:!1,colorSettings:[{value:P.color,onChange:N,label:u("Background"),disableCustomColors:!0,colors:Object(s.a)()}]}),wp.element.createElement(b,{title:u("Display Options")},wp.element.createElement(f,{label:u("Hide teaser when drawer is open"),checked:o,onChange:function(){return v({hideTeaser:!o})}}),l&&wp.element.createElement(f,{label:u("Round photos"),checked:i,onChange:function(){return v({round:!i})}}),wp.element.createElement(g,{label:u("Size"),selected:m,options:[{label:"Default",value:""},{label:"Narrow",value:"is-size-narrow"},{label:"Small",value:"is-size-small"},{label:"Medium",value:"is-size-medium"},{label:"Wide",value:"is-size-wide"}],onChange:function(e){return v({size:e})}}))))}),save:function(e){var t=e.attributes,l=t.backgroundId,n=t.button,a=t.className,o=t.hed,r=t.hideTeaser,i=t.lede,s=t.round,p=t.size,u=t.themeColor;return wp.element.createElement("aside",{className:B(l,a,r,s,p,u)},wp.element.createElement("div",{className:"wp-block-editorial-drawer-teaser"},l&&wp.element.createElement("figure",null,wp.element.createElement(c.b,{blockProps:e})),!y.isEmpty(o)&&wp.element.createElement(y.Content,{tagName:"h2",value:o}),!y.isEmpty(i)&&wp.element.createElement(y.Content,{tagName:"p",value:i}),n&&wp.element.createElement("a",{href:"#",className:"button js-bu-block-drawer-open"},n)),wp.element.createElement("section",{className:"wp-block-editorial-drawer-content js-bu-block-drawer-content"},wp.element.createElement("div",{className:"wp-block-editorial-drawer-wrapper"},wp.element.createElement(E.Content,null),wp.element.createElement("div",{className:"wp-block-editorial-drawer-close"},wp.element.createElement("button",{className:"wp-block-editorial-drawer-close-button js-bu-block-drawer-close"},"Close")))))}})},function(e,t){},function(e,t){},function(e,t){},function(e,t,l){"use strict";var n={backgroundId:{type:"number"},backgroundType:{type:"string"},backgroundUrl:{type:"string"},backgroundOpacity:{type:"number",default:100},backgroundAlt:{type:"string"},backgroundCaption:{type:"string"},backgroundAutoplay:{type:"boolean",default:!1}};t.a=n},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(0),o=l.n(a),r=l(25),i=(l.n(r),l(26)),c=(l.n(i),l(27)),s=l(2),p=wp.i18n.__,u=wp.blocks.registerBlockType,m=wp.editor.getColorClassName,d=wp.editor.InnerBlocks,b=wp.data.select,w=b("core/editor"),g=w.hasSelectedInnerBlock,h=w.isBlockSelected,f=document.getElementById("bu_publication_owner").value;u("editorial/modal",{title:p("Modal"),description:p("A block with a callout for opening a modal with supplemental or complementary information."),icon:"admin-page",category:"bu-editorial",supports:{align:!0},attributes:Object.assign({clientId:{type:"number"},themeColor:{type:"string"},calloutHeading:{type:"array",source:"children",selector:"h1"},calloutText:{type:"array",source:"children",selector:".editorial-modal-callout-text"},trigger:{type:"array",source:"children",selector:".js-bu-block-modal-trigger-overlay"}},s.a),publicationClassName:f+"-block-editorial-modal",getEditWrapperProps:function(e){var t=e.clientId;if(t){return{"data-selected-modal":g(t,!0)||h(t)?"true":void 0}}},edit:c.a,save:function(e){var t,l=e.attributes,a=e.className,r=l.themeColor,i=l.calloutHeading,c=l.calloutText,p=l.trigger,u=l.backgroundId,b=o()(a,"js-bu-block-modal",(t={},n(t,m("theme",r),m("theme",r)),n(t,"has-media",u),t));return wp.element.createElement("aside",{className:b},wp.element.createElement("div",{className:"wp-block-editorial-modal-callout"},wp.element.createElement("div",{className:"wp-block-editorial-modal-media"},wp.element.createElement("figure",{className:"wp-block-editorial-modal-image"},wp.element.createElement(s.b,{blockProps:e,className:"banner-placeholder"}))),wp.element.createElement("div",{className:"wp-block-editorial-modal-callout-content"},wp.element.createElement("div",{className:"modal-valign"},wp.element.createElement("h1",null,i),wp.element.createElement("p",{className:"editorial-modal-callout-text"},c),wp.element.createElement("p",null,wp.element.createElement("a",{href:"#",className:"js-bu-block-modal-trigger-overlay button"},p))))),wp.element.createElement("div",{className:"wp-block-editorial-modal-content js-bu-block-modal-overlay"},wp.element.createElement("div",{className:"overlay overlay-scale"},wp.element.createElement("a",{href:"#",class:"wp-block-editorial-modal-overlay-close js-bu-block-modal-overlay-close"},"Close"),wp.element.createElement("article",null,wp.element.createElement(d.Content,null)))))}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=l(0),c=l.n(i),s=l(1),p=l(2),u=l(3),m=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=wp.i18n.__,b=wp.element,w=b.Component,g=b.Fragment,h=wp.compose.compose,f=wp.editor,v=f.InspectorControls,y=f.InnerBlocks,E=f.PanelColorSettings,k=f.RichText,C=f.withColors,N=wp.data.select,P=N("core/editor"),x=P.hasSelectedInnerBlock,T=P.isBlockSelected,_=["image"],O=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),m(t,[{key:"render",value:function(){var e,t=this.props,l=t.attributes,a=t.themeColor,o=t.setThemeColor,r=t.setAttributes,i=t.className,m=t.clientId,b=l.backgroundId,w=l.calloutHeading,h=l.calloutText,f=l.trigger,C=c()(i,(e={},n(e,"has-"+a.slug+"-theme",a.slug),n(e,"has-media",b),e));return(x(m,!0)||T(m))&&r({clientId:m}),wp.element.createElement(g,null,wp.element.createElement(v,null,wp.element.createElement(E,{title:d("Theme Settings"),colorSettings:[{value:a.color,onChange:o,label:d("Theme"),disableCustomColors:!0,colors:Object(s.a)()}]})),wp.element.createElement("aside",{className:C},wp.element.createElement("div",{className:"wp-block-editorial-modal-callout"},wp.element.createElement("div",{className:"wp-block-editorial-modal-media"},wp.element.createElement("figure",{className:"wp-block-editorial-modal-image"},wp.element.createElement(p.b,{allowedMediaTypes:_,blockProps:this.props,className:"banner-placeholder",placeholderText:d("Add Image")}))),wp.element.createElement("div",{className:"wp-block-editorial-modal-callout-content"},wp.element.createElement("div",{className:"modal-valign"},wp.element.createElement(k,{tagName:"h1",onChange:function(e){return r({calloutHeading:e})},value:w,placeholder:d("Enter heading\u2026"),formattingControls:[]}),wp.element.createElement(k,{tagName:"p",onChange:function(e){return r({calloutText:e})},value:h,placeholder:d("Enter text\u2026"),formattingControls:["bold","italic","link"]}),wp.element.createElement("div",{className:"wp-block-editorial-modal-trigger-wrapper"},wp.element.createElement(k,{tagName:"p",className:"js-bu-block-modal-trigger-overlay button",onChange:function(e){return r({trigger:e})},value:f,placeholder:d("Enter trigger label\u2026"),formattingControls:[]}))))),wp.element.createElement("div",{className:"wp-block-editorial-modal-content js-bu-block-modal-overlay"},wp.element.createElement("div",{className:"overlay overlay-scale"},wp.element.createElement("a",{href:"#",class:"wp-block-editorial-modal-overlay-close js-bu-block-modal-overlay-close"},"Close"),wp.element.createElement("article",null,wp.element.createElement(y,{allowedBlocks:Object(u.a)()}))))))}}]),t}(w);t.a=h([C("themeColor")])(O)},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(29),o=(l.n(a),l(30)),r=(l.n(o),l(0)),i=l.n(r),c=l(1),s=wp.i18n.__,p=wp.blocks,u=p.createBlock,m=p.registerBlockType,d=wp.element.Fragment,b=wp.components,w=b.IconButton,g=b.PanelBody,h=b.Toolbar,f=wp.editor,v=f.RichText,y=f.PlainText,E=f.InspectorControls,k=f.MediaPlaceholder,C=f.MediaUpload,N=f.MediaUploadCheck,P=f.PanelColorSettings,x=f.withColors,T=document.getElementById("bu_publication_owner").value,_=function(e,t){return wp.element.createElement("svg",null,wp.element.createElement("pattern",{id:"dropcap-texture",viewBox:"0 0 1024 1024",patternUnits:"userSpaceOnUse",width:"100%",height:"100%",x:"0%",y:"0%"},wp.element.createElement("image",{href:t,width:"1024",height:"1024"})),wp.element.createElement("text",{textAnchor:"start",x:"0",y:"50%",dy:".404em",className:"dropcap-filltext"},e))};m("editorial/introparagraph",{title:s("Intro Paragraph"),description:s("Add an introduction with a bulleted list and styled paragraph."),icon:wp.element.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{fill:"#c00",d:"M11 5v7H9.5C7.6 12 6 10.4 6 8.5S7.6 5 9.5 5H11m8-2H9.5C6.5 3 4 5.5 4 8.5S6.5 14 9.5 14H11v7h2V5h2v16h2V5h2V3z"})),category:"bu-editorial",supports:{anchor:!0},attributes:{heading:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph h4"},list:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph-toc"},content:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph-content p"},dropCapColor:{type:"string",default:""},paragraphColor:{type:"string",default:""},className:{type:"string",default:""},dropCapImageURL:{type:"string",default:""},dropCapImageId:{type:"number"}},styles:[{name:"default",label:s("Regular"),isDefault:!0},{name:"large",label:s("Large paragraph text")},{name:"split",label:s("Split paragraph text")},{name:"dropcap-boxed",label:s("Boxed dropcap")},{name:"dropcap-outlined",label:s("Outlined dropcap")},{name:"dropcap-dimensional",label:s("Dimensional dropcap")},{name:"dropcap-image",label:s("Image dropcap")}],publicationClassName:T+"-block-editorial-introparagraph",edit:x("paragraphColor","dropCapColor")(function(e){var t,l=e.attributes,a=e.className,o=e.insertBlocksAfter,r=e.setAttributes,p=e.paragraphColor,m=e.setParagraphColor,b=e.dropCapColor,f=e.setDropCapColor,x=e.publicationClassName,T=l.heading,O=l.content,B=l.list,I=l.dropCapImageURL,S=l.dropCapImageId,j=a.includes("is-style-dropcap");j?r({paragraphColor:""}):j||r({dropCapColor:""});var M=a.includes("is-style-dropcap-image"),A="";"undefined"!==typeof O&&(A=O.charAt(0));var R=function(e){if(!e||!e.url)return void r({dropCapImageURL:"",dropCapImageId:null});r({dropCapImageURL:e.url,dropCapImageId:e.id})},L=function(){r({dropCapImageURL:"",dropCapImageId:null})},H=i()(a,x,(t={"has-dropcap":j},n(t,"has-dropcap-color-"+b.slug,j&&b&&b.slug),n(t,"has-paragraph-color-"+p.slug,!j&&p&&p.slug),t));return wp.element.createElement(d,null,wp.element.createElement(E,null,!j&&function(){return wp.element.createElement(P,{title:s("Paragraph color"),colorSettings:[{value:p.color,onChange:m,label:s("Paragraph"),disableCustomColors:!0,colors:Object(c.a)()}]})}(),j&&!M&&function(){return wp.element.createElement(P,{title:s("Drop cap color"),colorSettings:[{value:b.color,onChange:f,label:s("Drop cap"),disableCustomColors:!0,colors:Object(c.a)()}]})}(),j&&M&&function(){return wp.element.createElement(g,{title:s("Drop cap image settings")},""!==I&&wp.element.createElement(N,null,wp.element.createElement(h,null,wp.element.createElement(C,{onSelect:R,value:S,render:function(e){var t=e.open;return wp.element.createElement("div",null,wp.element.createElement(w,{className:"components-toolbar__control",label:"Edit image",icon:"edit",onClick:t}),wp.element.createElement(w,{icon:"no-alt",onClick:L,className:"blocks-gallery-image__remove",label:"Remove image"}))}})),wp.element.createElement("img",{src:I})),wp.element.createElement(k,{key:"drop-cap-image",icon:"format-image",label:"Drop Cap Image",labels:{title:"Drop Cap Image",name:"images"},onSelect:R}))}()),wp.element.createElement("div",{className:H},wp.element.createElement(y,{tagname:"h4",value:T,onChange:function(e){return r({heading:e})},placeholder:s("Enter Teaser Headline (optional)")}),wp.element.createElement(v,{multiline:"li",tagname:"ul",onChange:function(e){return r({list:e})},value:B,wrapperClassName:"wp-block-editorial-introparagraph-toc",placeholder:s("Enter Teaser Intro List (optional)"),formattingControls:["link"]}),wp.element.createElement("div",{className:"wp-block-editorial-introparagraph-content"},M&&_(A,I),wp.element.createElement(v,{tagname:"p",value:O,onChange:function(e){return r({content:e})},placeholder:s("Write paragraph\u2026"),formattingControls:["bold","italic"],unstableOnSplit:o?function(e,t){for(var l=arguments.length,n=Array(l>2?l-2:0),a=2;a<l;a++)n[a-2]=arguments[a];r({content:e}),o([].concat(n,[u("core/paragraph",{content:t})]))}:void 0}))))}),save:function(e){var t,l=e.attributes,a=l.heading,o=l.list,r=l.content,c=l.dropCapColor,s=l.dropCapImageURL,p=l.paragraphColor,u=l.className,m=l.publicationClassName,d=!1;"undefined"!==typeof u&&(d=u.includes("is-style-dropcap-image"));var b="";"undefined"!==typeof r&&(b=r.charAt(0));var w=!0;("undefined"===typeof o||"<li></li>"===o||v.isEmpty(o))&&(w=!1);var g=u&&u.includes("is-style-dropcap"),h=i()(u,m,(t={"has-dropcap":g},n(t,"has-dropcap-color-"+c,g&&c),n(t,"has-paragraph-color-"+p,!g&&p),t));return wp.element.createElement("div",{className:h},!v.isEmpty(a)&&wp.element.createElement(v.Content,{tagName:"h4",value:a}),w&&wp.element.createElement(v.Content,{tagName:"ul",className:"wp-block-editorial-introparagraph-toc",value:o,multiline:"li"}),!v.isEmpty(r)&&wp.element.createElement("div",{className:"wp-block-editorial-introparagraph-content"},d&&_(b,s),wp.element.createElement(v.Content,{tagName:"p",value:r})))}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(0),o=l.n(a),r=l(32),i=(l.n(r),l(33)),c=(l.n(i),l(1)),s=l(2),p=wp.i18n.__,u=wp.blocks.registerBlockType,m=wp.element.Fragment,d=wp.components,b=d.PanelBody,w=d.Path,g=d.RangeControl,h=d.SelectControl,f=d.SVG,v=d.ToggleControl,y=wp.editor,E=y.InspectorControls,k=y.PanelColorSettings,C=y.RichText,N=y.withColors,P=wp.hooks.applyFilters,x=document.getElementById("bu_publication_owner").value,T=Object.assign({head:{type:"string"},deck:{type:"string"},caption:{type:"string"},imageFocus:{type:"string",default:"center-middle"},textPositionX:{type:"string",default:"x-center"},textPositionY:{type:"string",default:""},wide:{type:"boolean",default:!1},box:{type:"boolean",default:!1},flip:{type:"boolean",default:!1},className:{type:"string"},themeColor:{type:"string"},primaryTerm:{type:"string"},metabar:{type:"boolean",default:!0},boxOpacity:{type:"number",default:100}},s.a),_=[{name:"default",label:p("Default (uncropped unscaled)"),isDefault:!0},{name:"text-to-image",label:p("Text over Horizontal Image")},{name:"image-to-text",label:p("Horizontal Image over Text")},{name:"emphasis-on-text",label:p("Overlapping Text")},{name:"text-over-image",label:p("Image with Text Overlay")},{name:"side-by-side",label:p("Vertical Image and Text Side By Side")}],O={className:!1,customClassName:!1,multiple:!1};u("bu/leadin",{title:p("Leadin"),description:p("The opening headline and image of an article."),icon:wp.element.createElement(f,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(w,{fill:"#c00",d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"})),category:"bu",attributes:T,styles:_,supports:O,edit:N("themeColor")(function(e){var t,l=e.attributes,a=l.backgroundId,r=l.backgroundUrl,i=l.backgroundAutoplay,u=l.head,d=l.deck,w=l.caption,f=l.imageFocus,y=l.textPositionX,N=l.textPositionY,T=l.wide,_=l.box,O=l.flip,B=l.metabar,I=l.boxOpacity,S=e.themeColor,j=e.setThemeColor,M=e.setAttributes,A=e.className,R=e.isSelected,L=A.includes("is-style-emphasis-on-text"),H=A.includes("is-style-text-over-image"),F=A.includes("is-style-side-by-side"),V=o()("wp-block-editorial-leadin",x+"-block-editorial-leadin",A,(t={"has-box":_&&(L||H||F),"has-wider":T&&F,"has-flip":O&&F,"has-media":r,"has-video-as-loop":i},n(t,"has-media-focus-"+f,f),n(t,"has-text-position-"+y,y&&H),n(t,"has-text-position-"+N,N&&H),n(t,"has-"+S.slug+"-theme",S.slug),t)),z=o()("container-words-inner",n({},"has-opacity-"+I,100!==I&&_&&(L||H))),D=function(){return H?wp.element.createElement(m,null,wp.element.createElement(h,{label:p("Horizontal Text Positioning"),value:y,onChange:function(e){return M({textPositionX:e})},options:[{value:"x-left",label:p("Left")},{value:"x-center",label:p("Center")},{value:"x-right",label:p("Right")}]}),wp.element.createElement(h,{label:p("Vertical Text Positioning"),value:N,onChange:function(e){return M({textPositionY:e})},options:[{value:"y-top",label:p("Top")},{value:"",label:p("Center")},{value:"y-bottom",label:p("Bottom")}]})):null},U=function(){return A.includes("is-style-side-by-side")?wp.element.createElement(m,null,wp.element.createElement(v,{label:p("Flip Order"),checked:O,onChange:function(){return M({flip:!O})}}),wp.element.createElement(v,{label:p("Wide Layout"),checked:T,onChange:function(){return M({wide:!T})}})):null};return wp.element.createElement(m,null,wp.element.createElement("div",{className:V},wp.element.createElement("div",{className:"container-lockup"},wp.element.createElement("div",{className:"wp-block-leadin-media"},wp.element.createElement(s.b,{blockProps:e})),wp.element.createElement("div",{className:"container-words-outer"},wp.element.createElement("div",{className:z},P("buPrepress.PrimaryTerm","",e),wp.element.createElement(C,{tagName:"h1",className:"head",placeholder:p("Add headline"),value:u,onChange:function(e){return M({head:e})},formattingControls:["bold","italic"],keepPlaceholderOnFocus:!0}),(!C.isEmpty(d)||R)&&wp.element.createElement(C,{tagName:"h4",className:"deck",placeholder:p("Add subheader (optional)"),value:d,onChange:function(e){return M({deck:e})},formattingControls:["bold","italic"]})))),(!C.isEmpty(w)||R)&&wp.element.createElement(C,{tagName:"p",className:"wp-block-editorial-leadin-caption wp-prepress-component-caption",placeholder:p("Add a caption and/or media credit..."),value:w,onChange:function(e){return M({caption:e})},formattingControls:["bold","italic","link"],keepPlaceholderOnFocus:!0})),P("buBlocks.leadin.metaBar","",B),wp.element.createElement(E,null,function(){return a?wp.element.createElement(b,{title:p("Media Positioning"),initialOpen:!1},wp.element.createElement(h,{label:p("Crop Media to:"),value:f,onChange:function(e){return M({imageFocus:e})},options:[{value:"left-top",label:p("Left Top")},{value:"left-middle",label:p("Left Center")},{value:"left-bottom",label:p("Left Bottom")},{value:"center-top",label:p("Center Top")},{value:"center-middle",label:p("Center")},{value:"center-bottom",label:p("Center Bottom")},{value:"right-top",label:p("Right Top")},{value:"right-middle",label:p("Right Center")},{value:"right-bottom",label:p("Right Bottom")}]})):null}(),function(){return L||H||F?wp.element.createElement(b,{title:p("Layout Options")},U(),D(),wp.element.createElement(v,{label:p("Boxed Text"),checked:_,onChange:function(){return M({box:!_})}}),_&&(L||H)&&wp.element.createElement(g,{label:p("Box Opacity"),value:I,onChange:function(e){return M({boxOpacity:e})},min:10,max:100,step:10})):null}(),wp.element.createElement(k,{title:p("Color Settings"),initialOpen:!1,colorSettings:[{value:S.color,onChange:j,label:p("Theme"),disableCustomColors:!0,colors:Object(c.a)()}]})))}),save:function(){return null}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";var n=l(35),a=(l.n(n),l(36));l.n(a)},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(0),o=l.n(a),r=l(38),i=(l.n(r),l(39)),c=(l.n(i),wp.i18n.__),s=wp.blocks.registerBlockType,p=wp.element.Fragment,u=wp.components,m=u.PanelBody,d=u.Path,b=u.RadioControl,w=u.SVG,g=u.TextControl,h=u.ToggleControl,f=wp.editor,v=f.InspectorControls,y=f.RichText,E=document.getElementById("bu_publication_owner").value;s("bu/buniverse",{title:c("BUniverse Video"),description:c(""),icon:wp.element.createElement(w,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(d,{fill:"#c00",d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"})),category:"bu",attributes:{id:{type:"string"},aspectRatio:{type:"string"},caption:{type:"string"},controls:{type:"number",default:1},autoplay:{type:"number",default:0},start:{type:"number"},minutes:{type:"number"},seconds:{type:"number"}},supports:{align:!0},publicationClassName:E+"-block-global-buniverse",edit:function(e){var t=e.attributes,l=e.setAttributes,a=e.isSelected,r=t.id,i=t.aspectRatio,s=t.caption,u=t.controls,d=t.autoplay,w=t.minutes,f=t.seconds,E=function(e){var t=Number(e),n=60*t+(f||0);l({minutes:t}),l({start:n})},k=function(e){var t=Number(e),n=t+(w?60*w:0);l({seconds:t}),l({start:n})},C=o()("wp-block-global-buniverse",n({},i,i)),N="//www.bu.edu/buniverse/interface/embed/embed.html?v="+r+"&jsapi=1";return wp.element.createElement(p,null,wp.element.createElement(v,null,wp.element.createElement(m,{title:c("Video Settings")},wp.element.createElement(b,{className:"buniverse-aspect-ratio-options",label:c("Aspect Ratio"),selected:i,help:c("16:9 is typically used on widescreen video. 4:3 is often used for older fullscreen video. 1:1 is square. 9:16 and 3:4 are used for vertical video."),options:[{label:"16:9",value:"has-aspectratio-16by9"},{label:"4:3",value:"has-aspectratio-4by3"},{label:"1:1",value:"has-aspectratio-1by1"},{label:"3:4",value:"has-aspectratio-3by4"},{label:"9:16",value:"has-aspectratio-9by16"}],onChange:function(e){return l({aspectRatio:e})}}),wp.element.createElement("div",{className:"buniverse-parameter-toggles"},wp.element.createElement(h,{label:c("Hide Player Controls"),checked:0===u,onChange:function(){return l({controls:0===u?1:0})}}),wp.element.createElement(h,{label:c("Auto Start (muted)"),checked:1===d,onChange:function(){return l({autoplay:0===d?1:0})}})),wp.element.createElement("div",{className:"buniverse-start-time"},wp.element.createElement(g,{label:c("Start At"),type:"number",value:w,onChange:E}),":",wp.element.createElement(g,{type:"number",value:f,onChange:k})))),r&&a&&wp.element.createElement(g,{label:c("Video ID:"),className:"buniverse-set-video-id",value:r,onChange:function(e){return l({id:e})}}),wp.element.createElement("figure",{className:C},wp.element.createElement("div",{className:"wp-block-global-buniverse-wrapper"},!r&&wp.element.createElement("div",{className:"wp-block-global-buinverse-placeholder"},wp.element.createElement("div",{className:"buniverse-logo"}),wp.element.createElement(g,{placeholder:c("Enter BUniverse video ID here\u2026"),value:r,onChange:function(e){return l({id:e})}}),wp.element.createElement("div",{className:"buniverse-video-id-screenshot"})),r&&wp.element.createElement("iframe",{src:N,frameborder:"0",allow:"autoplay; fullscreen"})),(!y.isEmpty(s)||a)&&wp.element.createElement("figcaption",null,wp.element.createElement(y,{tagName:"p",className:"wp-block-global-buniverse-caption wp-prepress-component-caption",placeholder:c("Add a caption and/or media credit..."),value:s,onChange:function(e){return l({caption:e})},formattingControls:["bold","italic","link"],keepPlaceholderOnFocus:!0}))))},save:function(e){var t=e.attributes,l=t.id,a=t.aspectRatio,r=t.caption,i=t.controls,c=t.autoplay,s=t.start,p=o()("wp-block-global-buniverse",n({},a,a)),u="//www.bu.edu/buniverse/interface/embed/embed.html?v="+l+"&jsapi=1";return u+=1!==i?"&controls=0":"",u+=1===c?"&autoplay=true":"",u+=s?"&start="+s:"",wp.element.createElement("figure",{className:p},wp.element.createElement("div",{className:"wp-block-global-buniverse-wrapper"},l&&wp.element.createElement("iframe",{src:encodeURI(u),frameborder:"0",allow:"autoplay; fullscreen"})),r&&wp.element.createElement("figcaption",null,wp.element.createElement("p",{class:"wp-block-global-buniverse-caption wp-prepress-component-caption"},r)))}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(0),o=l.n(a),r=l(41),i=(l.n(r),l(42)),c=(l.n(i),l(2)),s=wp.i18n.__,p=wp.blocks.registerBlockType,u=wp.element.Fragment,m=wp.components,d=m.PanelBody,b=m.Path,w=m.SelectControl,g=m.SVG,h=wp.editor,f=h.InspectorControls,v=h.RichText,y=document.getElementById("bu_publication_owner").value,E=function(e){return!e.includes("is-style-modern")&&!e.includes("is-style-pop")},k=function(e,t,l){var a=e.includes("is-style-pop");return o()("wp-block-editorial-pullquote",e,n({"has-image":t&&!a},"has-image-focus-"+l,l&&!a))},C=["image"];p("bu/pullquote",{title:s("Pullquote"),description:s(""),icon:wp.element.createElement(g,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(b,{fill:"#c00",d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"})),category:"bu",supports:{align:["full","wide"]},attributes:Object.assign({quote:{type:"array",source:"children",selector:".quote-sizing"},cite:{type:"array",source:"children",selector:"footer"},imageFocus:{type:"string",default:"center-middle"},className:{type:"string"}},c.a),styles:[{name:"",label:s("Default"),default:!0},{name:"modern",label:s("Modern")},{name:"pop",label:s("Pop")}],publicationClassName:y+"-block-editorial-pullquote",edit:function(e){var t=e.attributes,l=e.setAttributes,n=e.className,a=t.quote,o=t.cite,r=t.imageFocus,i=t.backgroundId;return wp.element.createElement(u,null,wp.element.createElement(f,null,function(){return!i||n.includes("is-style-pop")?null:wp.element.createElement(d,{title:s("Media Positioning"),initialOpen:!1},wp.element.createElement(w,{label:s("Crop Media to:"),value:r,onChange:function(e){return l({imageFocus:e})},options:[{value:"left-top",label:s("Left Top")},{value:"left-middle",label:s("Left Center")},{value:"left-bottom",label:s("Left Bottom")},{value:"center-top",label:s("Center Top")},{value:"center-middle",label:s("Center")},{value:"center-bottom",label:s("Center Bottom")},{value:"right-top",label:s("Right Top")},{value:"right-middle",label:s("Right Center")},{value:"right-bottom",label:s("Right Bottom")}]}))}()),wp.element.createElement("div",{className:k(n,i,r)},E(n)&&wp.element.createElement(c.b,{allowedMediaTypes:C,blockProps:e,placeholderText:s("Add Image")}),wp.element.createElement("blockquote",null,wp.element.createElement("div",{className:"container-lockup"},wp.element.createElement("div",{className:"container-icon-outer"},wp.element.createElement("div",{className:"container-icon-inner"},n.includes("is-style-modern")&&wp.element.createElement(c.b,{allowedMediaTypes:C,blockProps:e,placeholderText:s("Add Image")}))),wp.element.createElement("div",{className:"container-text"},wp.element.createElement("hr",null),wp.element.createElement(v,{tagName:"div",className:"quote-sizing",placeholder:s("Add quote text\u2026"),value:a,onChange:function(e){return l({quote:e})},formattingControls:["bold","italic","link"],keepPlaceholderOnFocus:!0}),wp.element.createElement(v,{tagName:"footer",placeholder:s("Add quote attribution\u2026"),value:o,onChange:function(e){return l({cite:e})},formattingControls:["bold","italic","link"],keepPlaceholderOnFocus:!0}),wp.element.createElement("hr",null))))))},save:function(e){var t=e.attributes,l=t.quote,n=t.cite,a=t.imageFocus,o=t.backgroundId,r=t.className,i=void 0===r?"":r;return wp.element.createElement("div",{className:k(i,o,a)},E(i)&&wp.element.createElement("figure",null,wp.element.createElement(c.b,{blockProps:e})),wp.element.createElement("blockquote",null,wp.element.createElement("div",{className:"container-lockup"},wp.element.createElement("div",{className:"container-icon-outer"},wp.element.createElement("div",{className:"container-icon-inner"},i.includes("is-style-modern")&&wp.element.createElement(c.b,{blockProps:e}))),wp.element.createElement("div",{className:"container-text"},wp.element.createElement("hr",null),wp.element.createElement(v.Content,{tagName:"div",className:"quote-sizing",value:l}),wp.element.createElement(v.Content,{tagName:"footer",value:n}),wp.element.createElement("hr",null)))))}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";var n=l(44),a=(l.n(n),l(45)),o=(l.n(a),l(46)),r=(l.n(o),wp.i18n.__),i=wp.blocks,c=i.createBlock,s=i.registerBlockType,p=wp.element.Fragment,u=wp.components,m=u.PanelBody,d=u.Path,b=u.RadioControl,w=u.SVG,g=wp.editor,h=g.InnerBlocks,f=g.InspectorControls,v=wp.data,y=v.dispatch,E=v.select,k=document.getElementById("bu_publication_owner").value;s("editorial/photoessay",{title:r("Photo Essay"),description:r("Insert a row of photos with optional layouts."),icon:wp.element.createElement(w,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(d,{fill:"#c00",d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"})),category:"bu-editorial",publicationClassName:k+"-block-editorial-photoessay",attributes:{layout:{type:"string",default:""}},supports:{align:["wide","full"]},edit:function(e){var t=e.attributes,l=e.setAttributes,n=e.clientId,a=t.layout,o=function(e){l({layout:e});var t=e.split("-").splice(3),a=E("core/editor").getBlocksByClientId(n)[0].innerBlocks;t.forEach(function(e,t){var l=a[t],o={columnClass:"photo-"+e};if(l)y("core/editor").updateBlockAttributes(l.clientId,o);else{var r=c("editorial/photoessay-image",o);y("core/editor").insertBlock(r,t,n)}}),a.forEach(function(e,l){t[l]||y("core/editor").removeBlock(e.clientId,!1)})};return""===a&&o("photo-row-thirds-3"),wp.element.createElement(p,null,wp.element.createElement(f,null,wp.element.createElement(m,{title:r("Photo Essay Row Settings")},wp.element.createElement(b,{label:r("Layout"),className:"bu-photoessay-layout-options",selected:a,options:[{label:"Single wide image",value:"photo-row-thirds-3"},{label:"Single ultra-wide image",value:"photo-row-fourths-4"},{label:"Two landscape images",value:"photo-row-fourths-2-2"},{label:"One square, one portrait image",value:"photo-row-square-s-1"},{label:"One square, one landscape image",value:"photo-row-square-s-2"},{label:"One square, one wide image",value:"photo-row-square-s-3"},{label:"One portrait, one square image",value:"photo-row-square-1-s"},{label:"One landscape, one square image",value:"photo-row-square-2-s"},{label:"One wide, one square image",value:"photo-row-square-3-s"},{label:"One landscape, one portrait image",value:"photo-row-thirds-2-1"},{label:"One wide, one portrait image",value:"photo-row-fourths-3-1"},{label:"One portrait, one landscape image",value:"photo-row-thirds-1-2"},{label:"One portrait, one wide image",value:"photo-row-fourths-1-3"},{label:"Three portrait images",value:"photo-row-thirds-1-1-1"},{label:"Three square images",value:"photo-row-square-s-s-s"},{label:"One landscape, two portrait images",value:"photo-row-fourths-2-1-1"},{label:"One portrait, one landscape, one portrait image",value:"photo-row-fourths-1-2-1"},{label:"Two portrait, one landscape image",value:"photo-row-fourths-1-1-2"},{label:"One ultra-wide, two landscape image",value:"photo-row-short-4-2-2"},{label:"One landscape, one ultra-wide, one landscape image",value:"photo-row-short-2-4-2"},{label:"Two landscape, one ultra-wide image",value:"photo-row-short-2-2-4"},{label:"Four portrait images",value:"photo-row-fourths-1-1-1-1"},{label:"Four square images",value:"photo-row-square-s-s-s-s"},{label:"Four wide images",value:"photo-row-short-2-2-2-2"}],onChange:o}))),wp.element.createElement("div",{className:"wp-block-editorial-photoessay"},wp.element.createElement("div",{className:a},wp.element.createElement(h,{templateLock:"all",allowedBlocks:["editorial/photoessay-image"],templateInsertUpdatesSelection:!1}))))},save:function(e){var t=e.attributes,l=t.layout;return wp.element.createElement("div",{className:"wp-block-photoessay js-block-editorial-photoessay"},wp.element.createElement("div",{className:l},wp.element.createElement(h.Content,null)))}})},function(e,t){},function(e,t){},function(e,t){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},n=wp.i18n.__,a=wp.blocks.registerBlockType,o=wp.components,r=o.IconButton,i=(o.PanelBody,o.Toolbar),c=(wp.element.Fragment,wp.editor),s=c.BlockControls,p=c.MediaPlaceholder,u=c.MediaUpload,m=c.MediaUploadCheck,d=c.RichText;(0,wp.hooks.addFilter)("editor.BlockListBlock","bu-blocks/column-class-name",(0,wp.compose.createHigherOrderComponent)(function(e){return function(t){var n=t.attributes;return n.columnClass?wp.element.createElement(e,l({},t,{className:n.columnClass})):wp.element.createElement(e,t)}},"addColumnClassName")),a("editorial/photoessay-image",{title:n("Photo Essay Image"),description:n("An individual image block for use in photo essay rows."),icon:"format-image",category:"bu-editorial",parent:["editorial/photoessay"],attributes:{id:{type:"number"},url:{type:"string",source:"attribute",selector:"img",attribute:"src"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},caption:{type:"string"},columnClass:{type:"string"}},supports:{className:!1,customClassName:!1,html:!1,inserter:!1,reusable:!1},edit:function(e){var t=e.attributes,l=e.setAttributes,a=e.isSelected,o=t.id,c=t.url,b=t.alt,w=t.caption,g=function(e){if(!e||!e.id||!e.url)return void h();l({id:e.id,url:e.url,alt:e.alt})},h=function(){l({id:void 0,url:void 0,alt:void 0})};return wp.element.createElement("div",{className:c?"wp-block-photoessay-media-wrapper":""},wp.element.createElement("div",{className:"wp-block-photoessay-media"},wp.element.createElement(m,null,!c&&wp.element.createElement(p,{icon:"format-image",label:"Image",labels:{title:"Image",name:"images"},onSelect:g,allowedTypes:["image"]}),c&&wp.element.createElement(s,null,a&&wp.element.createElement(i,null,wp.element.createElement(u,{onSelect:g,value:o,allowedTypes:["image"],render:function(e){var t=e.open;return wp.element.createElement("div",null,wp.element.createElement(r,{className:"components-toolbar__control",label:"Edit image",icon:"edit",onClick:t}),wp.element.createElement(r,{icon:"no-alt",onClick:h,className:"blocks-gallery-image__remove",label:"Remove image"}))}})))),c&&wp.element.createElement("figure",null,wp.element.createElement("img",{src:c,alt:b,className:o?"wp-image-"+o:null}))),(!d.isEmpty(w)||a)&&wp.element.createElement(d,{tagName:"p",className:"wp-block-photoessay-media-caption wp-prepress-component-caption",placeholder:n("Add a caption and/or media credit..."),value:w,onChange:function(e){return l({caption:e})},formattingControls:["bold","italic","link"],keepPlaceholderOnFocus:!0}))},save:function(e){var t=e.attributes,l=t.id,n=t.url,a=t.alt,o=t.columnClass,r=t.caption;return wp.element.createElement("div",{className:o},wp.element.createElement("div",{className:"wp-block-photoessay-media"},wp.element.createElement("figure",null,wp.element.createElement("img",{src:n,alt:a,className:l?"wp-image-"+l:null}),r&&wp.element.createElement("figcaption",null,wp.element.createElement("p",{class:"wp-block-photoessay-media-caption wp-prepress-component-caption"},r)))))}})},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var a=l(0),o=l.n(a),r=l(48),i=(l.n(r),l(49)),c=(l.n(i),l(50)),s=wp.i18n.__,p=wp.blocks.registerBlockType,u=wp.components,m=u.G,d=u.Path,b=u.SVG,w=wp.editor,g=w.RichText,h=w.getColorClassName,f=document.getElementById("bu_publication_owner").value,v={url:{type:"string",source:"attribute",selector:"a",attribute:"href"},title:{type:"string",source:"attribute",selector:"a",attribute:"title"},text:{type:"string",source:"html",selector:"a"},themeColor:{type:"string"},icon:{type:"string"},className:{type:"string"}},y=[{name:"default",label:s("Default"),isDefault:!0},{name:"outline",label:s("Outline")},{name:"text",label:s("Text")}];"brink"===f&&y.push({name:"accent",label:s("Accent")}),p("bu/button",{title:s("Button"),description:s("Prompt visitors to take action with a custom button."),icon:wp.element.createElement(b,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(d,{fill:"none",d:"M0 0h24v24H0V0z"}),wp.element.createElement(m,null,wp.element.createElement(d,{fill:"#c00",d:"M19 6H5L3 8v8l2 2h14l2-2V8l-2-2zm0 10H5V8h14v8z"}))),category:"bu",publicationClassName:f+"-block-button",attributes:v,styles:y,supports:{className:!1,customClassName:!1,align:["left","center","right"]},edit:c.a,save:function(e){var t,l=e.attributes,a=l.url,r=l.text,i=l.themeColor,c=l.icon,s=l.className,p=o()("wp-block-button",s,f+"-block-button",(t={},n(t,h("theme",i),h("theme",i)),n(t,"icon-navigateright "+c,c),t));return wp.element.createElement("p",null,wp.element.createElement(g.Content,{tagName:"a",className:p,href:a,value:r}))}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=l(0),c=l.n(i),s=l(1),p=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),u=wp.i18n.__,m=wp.element,d=m.Component,b=m.Fragment,w=wp.compose.compose,g=wp.components,h=g.Button,f=g.Dashicon,v=g.IconButton,y=g.PanelBody,E=g.RadioControl,k=wp.editor,C=k.InspectorControls,N=k.PanelColorSettings,P=k.RichText,x=k.URLInput,T=k.withColors,_=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),p(t,[{key:"render",value:function(){var e,t=this.props,l=t.attributes,a=t.themeColor,o=t.setThemeColor,r=t.setAttributes,i=t.isSelected,p=t.className,m=t.publicationClassName,d=l.text,w=l.url,g=l.icon,k=c()("wp-block-button",p,m,(e={},n(e,"has-"+a.slug+"-theme",a.slug),n(e,"icon-navigateright "+g,g),e));return wp.element.createElement(b,null,wp.element.createElement(C,null,wp.element.createElement(N,{title:u("Color Settings"),colorSettings:[{value:a.color,onChange:o,label:u("Theme"),disableCustomColors:!0,colors:Object(s.a)()}]}),wp.element.createElement(y,{title:u("Icon Settings")},wp.element.createElement(E,{label:"Placement",selected:g,options:[{label:"Before text",value:"align-icon-left"},{label:"After text",value:"align-icon-right"}],onChange:function(e){r({icon:e})}}),wp.element.createElement(h,{onClick:function(){return r({icon:void 0})},label:"Clear icon settings",isDefault:!0,isSmall:!0},u("Clear")))),wp.element.createElement("p",null,wp.element.createElement(P,{placeholder:u("Add text\u2026"),value:d,onChange:function(e){return r({text:e})},formattingControls:["bold","italic"],className:k,keepPlaceholderOnFocus:!0})),i&&wp.element.createElement("form",{className:"block-library-button__inline-link",onSubmit:function(e){return e.preventDefault()}},wp.element.createElement(f,{icon:"admin-links"}),wp.element.createElement(x,{value:w,onChange:function(e){return r({url:e})}}),wp.element.createElement(v,{icon:"editor-break",label:u("Apply"),type:"submit"})))}}]),t}(d);t.a=w([T("themeColor")])(_)},function(e,t,l){"use strict";function n(e,t){var l={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n]);return l}var a=l(52),o=(l.n(a),l(53)),r=(l.n(o),l(0)),i=l.n(r),c=wp.i18n.__,s=wp.blocks.registerBlockType,p=wp.compose,u=p.withState,m=p.compose,d=wp.data,b=d.withSelect,w=d.select,g=wp.element.Fragment,h=wp.components,f=h.PanelBody,v=h.RangeControl,y=h.ToggleControl,E=wp.editor,k=E.InspectorControls,C=E.BlockAlignmentToolbar,N=E.BlockControls,P=E.URLInput,x=wp.url.addQueryArgs,T=wp.date,_=T.format,O=T.__experimentalGetSettings,B=wp,I=B.apiFetch,S=wp.hooks.applyFilters,j=document.getElementById("bu_publication_owner").value;s("editorial/relatedstories",{title:c("Related Stories"),description:c("A list of related stories to embed in an article."),icon:wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M0,0h24v24H0V0z",fill:"none"}),wp.element.createElement("rect",{x:"11",y:"7",width:"6",height:"2"}),wp.element.createElement("rect",{x:"11",y:"11",width:"6",height:"2"}),wp.element.createElement("rect",{x:"11",y:"15",width:"6",height:"2"}),wp.element.createElement("rect",{x:"7",y:"7",width:"2",height:"2"}),wp.element.createElement("rect",{x:"7",y:"11",width:"2",height:"2"}),wp.element.createElement("rect",{x:"7",y:"15",width:"2",height:"2"}),wp.element.createElement("path",{d:"M20.1,3H3.9C3.4,3,3,3.4,3,3.9v16.2C3,20.5,3.4,21,3.9,21h16.2c0.4,0,0.9-0.5,0.9-0.9V3.9C21,3.4,20.5,3,20.1,3z M19,19H5V5h14V19z",fill:"#c00"})),category:"bu-editorial",attributes:{align:{type:"string",default:"right"},className:{type:"string",default:""},cardCount:{type:"number",default:2},relatedManual:{type:"boolean",default:!1},includePosts:{type:"array",default:[]},URLInputEntry:{type:"string",default:""}},styles:[{name:"list",label:c("List"),isDefault:!0},{name:"card",label:c("Card")}],getEditWrapperProps:function(e){var t=e.align,l=e.className;return["left","right"].includes(t)&&("undefined"===typeof l||l.includes("is-style-list"))?{"data-align":t}:{"data-align":"none"}},publicationClassName:j+"-block-editorial-related-stories",edit:m([u({yarppPosts:[],yarppPostsError:!1,doingYarppPostsFetch:!1,relatedPosts:[],relatedPostsError:!1,doingRelatedPostsFetch:!1,errorMessage:!1}),b(function(e,t){var l=t.setState,n=t.yarppPosts,a=t.yarppPostsError,o=t.doingYarppPostsFetch,r=t.relatedPosts,i=t.relatedPostsError,c=t.doingRelatedPostsFetch,s=t.errorMessage,p=t.attributes,u=p.relatedManual,m=p.includePosts,d=p.className,b=p.cardCount,w=void 0,g=d&&d.includes("is-style-card"),h=g&&b?b:3;if(u)w={per_page:h,include:m};else{if(0===n.length&&!a){var f=e("core/editor").getCurrentPostId();if(f&&!o){l({doingYarppPostsFetch:!0});var v=S("buBlocks.relatedStories.yarppPostTypes",["post"]);I({path:x("/bu-blocks/v1/yarpprelated",{post_id:f,post_type:v})}).then(function(e){l({yarppPosts:e,yarppPostsError:0===e.length,doingYarppPostsFetch:!1,relatedPosts:[],relatedPostsError:!1,doingRelatedPostsFetch:!1})}).catch(function(e){"yarpp_disabled"===e.code&&l({yarppPostsError:!0,doingYarppPostsFetch:!1,errorMessage:e.message})})}}w={per_page:h,include:n}}if(w.include.length>0&&0===r.length&&!i&&!c){var y=S("buBlocks.relatedStories.postTypes",["post"]);l({doingRelatedPostsFetch:!0}),I({path:x("/bu-blocks/v1/collection",{include:w.include,post_type:y})}).then(function(e){l({relatedPosts:e,relatedPostsError:0===e.length,doingRelatedPostsFetch:!1})}).catch(function(e){l({relatedPostsError:!0,doingRelatedPostsFetch:!1,errorMessage:e.code})})}return{posts:r,errorMessage:s}})])(function(e){var t=e.posts,l=e.errorMessage,a=e.attributes,o=n(e,["posts","errorMessage","attributes"]),r=o.className,s=o.publicationClassName,p=o.setAttributes,u=o.setState,m=a.align,d=a.cardCount,b=a.relatedManual,h=a.URLInputEntry,E=a.includePosts,x=void 0;x=t.length>2&&r.includes("is-style-card")&&2===d?t.slice(0,2):t;var T=w("core/editor").getCurrentPost(),B=function(e,t){return wp.element.createElement("li",{className:"wp-block-editorial-relatedstories-list-item"},wp.element.createElement("article",{className:"wp-block-editorial-relatedstories-article"},e.includes("is-style-card")&&t.media_url&&wp.element.createElement("figure",{className:"wp-block-editorial-relatedstories-article-image"},wp.element.createElement("img",{src:t.media_url,alt:"placeholder"})),wp.element.createElement("div",{className:"wp-block-editorial-relatedstories-article-content"},e.includes("is-style-card")&&t.primary_term&&wp.element.createElement("p",{className:"wp-block-editorial-relatedstories-article-category"},wp.element.createElement("span",null,t.primary_term)),wp.element.createElement("h4",{className:"wp-block-editorial-relatedstories-article-title"},wp.element.createElement("a",{href:t.link,className:"wp-block-editorial-relatedstories-article-title-link"},t.title)),wp.element.createElement("p",{className:"wp-block-editorial-relatedstories-article-date"},_(O().formats.date,t.date_gmt)),S("buBlocks.relatedStories.displayListItem","",t,T))))},I=function(){u({relatedPosts:[],relatedPostsError:!1,doingRelatedPostsFetch:!1})},j=function(e){var t=e.target.parentNode.dataset.postId;if(t){var l=E.indexOf(parseInt(t));l>-1&&p({includePosts:E.filter(function(e,t){return t!==l})}),I()}},M=function(e){return wp.element.createElement("li",{"data-post-id":e.id},e.title," ",wp.element.createElement("button",{onClick:j,type:"button",id:"remove-selected-post",class:"components-button is-tertiary"},"Remove"))},A=function(e,t){"undefined"===typeof t?p({URLInputEntry:e}):(p({includePosts:E.concat(t.id)}),p({URLInputEntry:""}),I())},R=function(){p({relatedManual:!b}),b&&u({yarppPosts:[],yarppPostsError:!1,doingYarppPostsFetch:!1}),I()},L="";r.includes("is-style-card")&&2===d?L="has-two":r.includes("is-style-card")&&(L=" has-three");var H=i()(r,s,L);return wp.element.createElement(g,null,wp.element.createElement(k,null,wp.element.createElement(f,{title:c("Settings"),className:"panelbody-related-stories"},r.includes("is-style-card")&&wp.element.createElement(v,{label:c("Cards"),value:d,onChange:function(e){return p({cardCount:e})},initialPosition:2,min:2,max:3}),wp.element.createElement(y,{label:"Enable manual selection",help:b?"Display manually selected related stories":"Display related stories automatically.",checked:b,onChange:R}),b&&wp.element.createElement(P,{value:h,onChange:A}),b&&t&&t.length>0&&wp.element.createElement(g,null,wp.element.createElement("h3",null,"Manually selected posts:"),wp.element.createElement("ul",{className:"panelbody-related-stories-list"},t.map(function(e){return M(e)}))))),!r.includes("is-style-card")&&wp.element.createElement(N,null,wp.element.createElement(C,{value:m,onChange:function(e){return p({align:e})},controls:["left","right"]})),wp.element.createElement("aside",{className:H},x&&x.length>0?wp.element.createElement("ul",{className:"wp-block-editorial-relatedstories-list"},x&&x.map(function(e){return B(r,e)})):wp.element.createElement("p",{class:"wp-block-editorial-relatedstories-error"},l||"Select related posts in this block's settings.")))}),save:function(){return null}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=l(0),i=l.n(r),c=l(55),s=(l.n(c),l(56)),p=(l.n(s),l(2)),u=l(57),m=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=wp.i18n.__,b=wp.blocks.registerBlockType,w=wp.element.Component,g=wp.components,h=g.Path,f=g.SVG,v=wp.editor,y=v.RichText,E=v.PlainText,k=document.getElementById("bu_publication_owner").value,C=function(e,t,l,n,a){return i()(e,{"has-number":t,"has-sidebar":l,"has-media":n,"has-video-as-loop":a})},N=function(e){return"undefined"!==typeof e&&"<li></li>"!==e&&!y.isEmpty(e)};b("editorial/listicle",{title:d("Listicle"),description:d("An individual item for an article that uses a list as its thematic structure."),icon:wp.element.createElement(f,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(h,{fill:"#c00",d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"})),category:"bu-editorial",attributes:Object.assign({hed:{type:"string",source:"html",selector:".wp-block-editorial-listicle-header-content-hed"},dek:{type:"string",source:"html",selector:".wp-block-editorial-listicle-header-content-dek"},content:{type:"string",source:"html",selector:".wp-block-editorial-listicle-section-content"},aside:{type:"string",source:"html",selector:".wp-block-editorial-listicle-section-aside p"},number:{type:"string",source:"html",selector:".wp-block-editorial-listicle-header-number"},related:{type:"string",source:"html",selector:".wp-block-editorial-listicle-footer-list"},credit:{type:"string",source:"html",selector:".wp-caption-text"},className:{type:"string",default:""}},p.a,u.a),publicationClassName:k+"-block-editorial-listicle",edit:function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,l=t.attributes,n=t.setAttributes,a=l.credit,o=l.backgroundCaption;o!==e.attributes.backgroundCaption&&!a&&o&&n({credit:o})}},{key:"render",value:function(){var e=this.props,t=e.attributes,l=e.setAttributes,n=e.className,a=e.isSelected,o=t.hed,r=t.dek,i=t.content,c=t.aside,s=t.number,m=t.related,b=t.credit,w=t.backgroundUrl,g=t.backgroundAutoplay,h=!y.isEmpty(c)&&"<br>"!==c;return wp.element.createElement("section",{className:C(n,s,h,w,g)},wp.element.createElement("article",{className:"wp-block-editorial-listicle-article"},wp.element.createElement("figure",{className:"wp-block-editorial-listicle-figure"},wp.element.createElement(p.b,{blockProps:this.props,inlinePlaceholder:!0,options:[]}),wp.element.createElement("figcaption",{className:"wp-caption-text wp-block-editorial-listicle-caption wp-prepress-component-caption"},wp.element.createElement(E,{value:b,onChange:function(e){return l({credit:e})},placeholder:d("Add Photo or Video Credit\u2026")}))),wp.element.createElement("header",{className:"wp-block-editorial-listicle-header"},(s||a)&&wp.element.createElement("h2",{className:"wp-block-editorial-listicle-header-number"},wp.element.createElement(E,{placeholder:d("Add Item Number (Optional)\u2026"),value:s,onChange:function(e){return l({number:e})},style:{width:function(){return s?s.length+"ch":"100%"}()}})),wp.element.createElement("div",{className:"wp-block-editorial-listicle-header-content"},wp.element.createElement(y,{tagName:"h3",className:"wp-block-editorial-listicle-header-content-hed",placeholder:d("Add Title\u2026"),value:o,onChange:function(e){return l({hed:e})},formattingControls:["bold","italic"]}),wp.element.createElement(y,{tagName:"h4",className:"wp-block-editorial-listicle-header-content-dek",placeholder:d("Add Subtitle\u2026"),value:r,onChange:function(e){return l({dek:e})},formattingControls:["bold","italic"]}))),wp.element.createElement("section",{className:"wp-block-editorial-listicle-section"},wp.element.createElement(y,{tagName:"div",className:"wp-block-editorial-listicle-section-content",multiline:"p",placeholder:d("Add Content\u2026 lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer in dictum felis. Nullam gravida dui nunc, vitae tristique ex pellentesque at. Suspendisse id porttitor metus. Nullam et ipsum hendrerit urna mattis porttitor at in leo."),value:i,onChange:function(e){return l({content:e})},formattingControls:["bold","italic","link"]}),wp.element.createElement("div",{className:"wp-block-editorial-listicle-section-meta"},(h||a)&&wp.element.createElement("aside",{className:"wp-block-editorial-listicle-section-aside"},wp.element.createElement(y,{tagName:"p",placeholder:d("Add Sidebar (Optional)\u2026"),value:c,onChange:function(e){return l({aside:e})},formattingControls:["bold","italic","link"]})),wp.element.createElement(u.b,{blockProps:this.props}))),(N(m)||a)&&wp.element.createElement("footer",{className:"wp-block-editorial-listicle-footer"},wp.element.createElement("h3",{className:"wp-block-editorial-listicle-footer-title"},"Related Stories"),wp.element.createElement(y,{tagName:"ul",multiline:"li",className:"wp-block-editorial-listicle-footer-list",placeholder:d("Enter Related Stories List\u2026"),value:m,onChange:function(e){return l({related:e})},formattingControls:["link"]}))))}}]),t}(w),save:function(e){var t=e.attributes,l=t.hed,n=t.dek,a=t.content,o=t.aside,r=t.number,i=t.related,c=t.credit,s=t.backgroundUrl,m=t.backgroundAutoplay,d=t.className;return wp.element.createElement("section",{className:C(d,r,o,s,m)},wp.element.createElement("article",{className:"wp-block-editorial-listicle-article"},wp.element.createElement("figure",{className:"wp-block-editorial-listicle-figure"},wp.element.createElement(p.b,{blockProps:e}),wp.element.createElement("figcaption",{className:"wp-caption-text wp-block-editorial-listicle-caption wp-prepress-component-caption"},c)),wp.element.createElement("header",{className:"wp-block-editorial-listicle-header"},r&&wp.element.createElement("h2",{className:"wp-block-editorial-listicle-header-number"},r),wp.element.createElement("div",{className:"wp-block-editorial-listicle-header-content"},wp.element.createElement(y.Content,{tagName:"h3",className:"wp-block-editorial-listicle-header-content-hed",value:l}),wp.element.createElement(y.Content,{tagName:"h4",className:"wp-block-editorial-listicle-header-content-dek",value:n}))),wp.element.createElement("section",{className:"wp-block-editorial-listicle-section"},wp.element.createElement(y.Content,{tagName:"div",className:"wp-block-editorial-listicle-section-content",value:a,multiline:"p"}),wp.element.createElement("div",{className:"wp-block-editorial-listicle-section-meta"},!y.isEmpty(o)&&wp.element.createElement("aside",{className:"wp-block-editorial-listicle-section-aside"},wp.element.createElement(y.Content,{tagName:"p",value:o})),wp.element.createElement(u.b,{blockProps:e}))),N(i)&&wp.element.createElement("footer",{className:"wp-block-editorial-listicle-footer"},wp.element.createElement("h3",{className:"wp-block-editorial-listicle-footer-title"},"Related Stories"),wp.element.createElement(y.Content,{tagName:"ul",className:"wp-block-editorial-listicle-footer-list",value:i,multiline:"li"}))))}})},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e){var t=e.blockProps,l=t.attributes,n=t.setAttributes,r=l.shareToolsDisabled;return wp.element.createElement(o,null,wp.element.createElement(s,null,wp.element.createElement(i,{title:a("Sharing Options")},wp.element.createElement(c,{label:a("Disable Share Tools"),checked:r,onChange:function(){return n({shareToolsDisabled:!r})}}))),!r&&wp.element.createElement("p",{className:"wp-blocks-components-share-tools"},wp.element.createElement("a",{href:"#",className:"icon-action"},a("Share this"))))}l.d(t,"a",function(){return p});var a=wp.i18n.__,o=wp.element.Fragment,r=wp.components,i=r.PanelBody,c=r.ToggleControl,s=wp.editor.InspectorControls,p={shareToolsDisabled:{type:"boolean",default:!1}};t.b=n},function(e,t,l){"use strict";var n=l(59),a=(l.n(n),l(60));l.n(a)},function(e,t){},function(e,t){},function(e,t,l){"use strict";function n(e,t){var l={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n]);return l}var a=l(62),o=(l.n(a),wp.i18n.__),r=wp.blocks.registerBlockType,i=wp.compose,c=i.withState,s=i.compose,p=wp.data,u=p.withSelect,m=p.select,d=wp.editor.PlainText,b=wp.url.addQueryArgs,w=wp,g=w.apiFetch;r("editorial/custom-html",{title:o("BU Custom HTML"),description:o("Enter arbitrary custom HTML."),icon:wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M4.5,11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5V11z M7,10.5h1.5V15H10v-4.5h1.5V9H7V10.5z M14.5,10l-1-1H12v6h1.5v-3.9  l1,1l1-1V15H17V9h-1.5L14.5,10z M19.5,13.5V9H18v6h5v-1.5H19.5z",fill:"#c00"})),category:"bu-editorial",attributes:{customBlockID:{type:"string",default:""}},edit:s([c({customHTML:"",hasLoaded:!1,doingHTMLFetch:!1,errorMessage:!1}),u(function(e,t){var l=t.setState,n=t.customHTML,a=t.hasLoaded,o=t.doingHTMLFetch,r=t.errorMessage,i=t.attributes.customBlockID;return""===i||o||a||(l({doingHTMLFetch:!0}),g({path:b("/bu-blocks/v1/customhtml",{post_id:e("core/editor").getCurrentPostId(),custom_block_id:i})}).then(function(e){l({customHTML:e,doingHTMLFetch:!1,hasLoaded:!0})}).catch(function(e){l({doingHTMLFetch:!1,errorMessage:e.message,hasLoaded:!0})})),{hasLoaded:a,customHTML:n,errorMessage:r}})])(function(e){var t=e.hasLoaded,l=e.customHTML,a=(e.errorMessage,e.attributes),o=n(e,["hasLoaded","customHTML","errorMessage","attributes"]),r=o.className,i=o.setState,c=o.setAttributes,s=a.customBlockID,p=function(e){i({customHTML:e})};""===s&&c({customBlockID:"manual-"+(new Date).getTime()});var u="block-"+s;return wp.element.createElement("div",{id:u,className:r},!t&&wp.element.createElement("span",null,"Looking for existing content..."),t&&wp.element.createElement(d,{label:"Enter custom HTML",value:l,onChange:p}))}),save:function(e){var t=e.attributes,l=t.customBlockID,n=m("core/editor").getCurrentPostId();if(null!==n){var a={post_id:n,custom_block_id:l,html:document.querySelector("#block-"+l+" textarea").value};return""!==l&&g({path:"/bu-blocks/v1/customhtml",method:"POST",data:a}).then(function(e){}).catch(function(e){}),null}}})},function(e,t){},function(e,t){wp.blocks.registerBlockStyle("core/paragraph",{name:"caption",label:"Caption"})}]);