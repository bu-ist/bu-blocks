!function(e){function t(l){if(n[l])return n[l].exports;var a=n[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){var l,a;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var a=typeof l;if("string"===a||"number"===a)e.push(l);else if(Array.isArray(l)&&l.length){var o=n.apply(null,l);o&&e.push(o)}else if("object"===a)for(var i in l)r.call(l,i)&&l[i]&&e.push(i)}}return e.join(" ")}var r={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(n.default=n,e.exports=n):(l=[],void 0!==(a=function(){return n}.apply(t,l))&&(e.exports=a))}()},function(e,t,n){"use strict";var l=(wp.i18n.__,wp.data),a=l.select,r=l.dispatch,o=a("core/editor"),i=o.getEditorSettings,c=r("core/editor"),s=c.updateEditorSettings,p=function(){var e=i().colors,t=i().buDefaultThemes,n=i().buPublicationThemes,l=document.getElementById("bu_publication_owner").value,a=n&&n[l]?n[l]:t;if(!a.some(function(t){return e.includes(t)})){var r=e.concat(a);s({colors:r})}return a};t.a=p},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0),r=n.n(a),o=n(22),i=(n.n(o),n(23));n.d(t,"a",function(){return i.a});var c=wp.i18n.__,s=wp.element.Fragment,p=wp.components,u=p.BaseControl,m=p.IconButton,d=p.PanelBody,g=p.RangeControl,b=p.Toolbar,f=wp.editor,h=f.BlockControls,w=f.InspectorControls,y=f.MediaPlaceholder,v=f.MediaUpload,E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bu-blocks-background",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Background Settings",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["image","video"],i=e.attributes,p=e.setAttributes,f=i.backgroundId,E=i.backgroundType,C=i.backgroundUrl,k=i.backgroundOpacity,x=i.backgroundAlt,_=function(e){if(!e||!e.url)return void p({backgroundId:void 0,backgroundType:void 0,backgroundUrl:void 0,backgroundAlt:void 0});var t=void 0;if(e.media_type)t="image"===e.media_type?"image":"video";else{if("image"!==e.type&&"video"!==e.type)return;t=e.type}p({backgroundId:e.id,backgroundType:t,backgroundUrl:e.url,backgroundAlt:e.alt})},P=function(){p({backgroundId:void 0,backgroundType:void 0,backgroundUrl:void 0})},N=wp.element.createElement(s,null,!!C&&wp.element.createElement(h,null,wp.element.createElement(b,null,wp.element.createElement(v,{onSelect:_,allowedMediaTypes:o,value:f,render:function(e){var t=e.open;return wp.element.createElement(m,{className:"components-toolbar__control",label:c("Edit Background Media"),icon:"edit",onClick:t})}}),wp.element.createElement(m,{className:"components-toolbar__control",label:"Remove Background Media",icon:"no",onClick:P}))),wp.element.createElement(w,null,wp.element.createElement(d,{title:a},!C&&wp.element.createElement(u,null,wp.element.createElement(y,{icon:"format-image",className:n,labels:{title:c("Background Media"),instructions:c("Drag, upload, or select a file from your library.")},onSelect:_,allowedTypes:o})),!!C&&wp.element.createElement(u,{label:c("Background Media")},wp.element.createElement("div",{className:"components-bu-background-media"},wp.element.createElement(v,{onSelect:_,allowedTypes:o,value:f,render:function(e){var t=e.open;return wp.element.createElement(m,{onClick:t,icon:"edit",label:c("Edit Background Media"),isDefault:!0,isLarge:!0},c("Edit"))}}),wp.element.createElement(m,{onClick:P,icon:"no",label:"Remove Background Media",isDefault:!0,isLarge:!0},c("Remove")))),wp.element.createElement(u,null,wp.element.createElement(g,{label:c("Background Opacity"),value:k,onChange:function(e){return p({backgroundOpacity:e})},min:10,max:100,step:10}))))),T=function(e){return 100===e?null:"has-background-opacity-"+10*Math.round(e/10)},O=r()(n,(t={},l(t,"has-background-opacity",100!==k),l(t,T(k),T(k)),t)),I=wp.element.createElement("img",{className:O,src:C,alt:x}),B=wp.element.createElement("video",{className:O,autoPlay:!0,muted:!0,loop:!0,src:C});return wp.element.createElement(s,null,N,"image"===E&&I,"video"===E&&B)};t.b=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(4),n(7),n(13),n(18),n(24),n(27),n(31),n(34),n(37),n(40),n(44),n(47)},function(e,t,n){"use strict";var l=n(5),a=(n.n(l),n(6));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var l=n(8),a=(n.n(l),n(9)),r=(n.n(a),n(10)),o=n(11),i=(n.n(o),n(12)),c=(n.n(i),wp.i18n.__),s=wp.blocks.registerBlockType,p=wp.element.Fragment,u=wp.editor,m=u.RichText,d=u.BlockControls,g=wp.data.select,b=document.getElementById("bu_publication_owner").value;s("editorial/headline",{title:c("Headline"),description:c("Add a section heading with an anchor and pre- and post-text formatting options."),icon:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},wp.element.createElement("path",{fill:"#c00",d:"M5 4v3h5.5v12h3V7H19V4z"}),wp.element.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),category:"bu-editorial",supports:{anchor:!0},attributes:{content:{type:"string",source:"html",selector:".wp-block-editorial-headline"},level:{type:"number",default:2},anchor:{type:"string",source:"attribute",attribute:"id",selector:".wp-block-editorial-headline"}},styles:[{name:"default",label:c("Regular"),isDefault:!0},{name:"emphasis-weight",label:c("Emphasize weight")},{name:"emphasis-color",label:c("Emphasize color")}],publicationClassName:b+"-block-editorial-headline",edit:function(e){var t=e.attributes,n=e.setAttributes,l=e.className,a=e.clientId,o=t.content,i=t.level,s=t.anchor,u="h"+i;if(!s){var b=g("core/editor").getBlocks(),f=b.filter(function(e){return"editorial/headline"===e.name}),h=f.findIndex(function(e){return e.clientId===a});n({anchor:"headline-"+(h+1)})}return wp.element.createElement(p,null,wp.element.createElement(d,null,wp.element.createElement(r.a,{minLevel:2,maxLevel:5,selectedLevel:i,onChange:function(e){return n({level:e})}})),wp.element.createElement(m,{tagName:u,className:l,value:o,onChange:function(e){return n({content:e})},placeholder:c("Write headline\u2026"),formattingControls:["pretext","posttext","bold","italic"]}))},save:function(e){var t=e.attributes,n=t.content,l=t.level,a="h"+l;return wp.element.createElement(m.Content,{tagName:a,value:n})}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),i=wp.i18n,c=i.__,s=i.sprintf,p=wp.element.Component,u=wp.components.Toolbar,m=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"createLevelControl",value:function(e,t,n){return{icon:"heading",title:s(c("Heading %d"),e),isActive:e===t,onClick:function(){return n(e)},subscript:String(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.minLevel,l=t.maxLevel,a=t.selectedLevel,r=t.onChange,o=Array.from({length:l-n},function(e,t){return t+n});return wp.element.createElement(u,{controls:o.map(function(t){return e.createLevelControl(t,a,r)})})}}]),t}(p);t.a=m},function(e,t){var n=wp.i18n.__,l=wp.element.Fragment,a=wp.richText,r=a.registerFormatType,o=a.toggleFormat,i=wp.editor,c=i.RichTextToolbarButton,s=i.RichTextShortcut,p="editorial/pretext";r(p,{title:n("Pretext"),tagName:"span",className:"wp-block-editorial-headline-pretext",edit:function(e){var t=e.isActive,a=e.value,r=e.onChange,i=function(){return r(o(a,{type:p}))};return wp.element.createElement(l,null,wp.element.createElement(s,{type:"access",character:"a",onUse:i}),wp.element.createElement(c,{name:"pretext",icon:"warning",title:n("Pretext"),onClick:i,isActive:t,shortcutType:"access",shortcutCharacter:"a"}))}})},function(e,t){var n=wp.i18n.__,l=wp.element.Fragment,a=wp.richText,r=a.registerFormatType,o=a.toggleFormat,i=wp.editor,c=i.RichTextToolbarButton,s=i.RichTextShortcut,p="editorial/posttext";r(p,{title:n("Posttext"),tagName:"span",className:"wp-block-editorial-headline-posttext",edit:function(e){var t=e.isActive,a=e.value,r=e.onChange,i=function(){return r(o(a,{type:p}))};return wp.element.createElement(l,null,wp.element.createElement(s,{type:"access",character:"b",onUse:i}),wp.element.createElement(c,{name:"posttext",icon:"warning",title:n("Posttext"),onClick:i,isActive:t,shortcutType:"access",shortcutCharacter:"b"}))}})},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0),r=n.n(a),o=n(14),i=(n.n(o),n(15)),c=(n.n(i),n(16)),s=n(17),p=wp.i18n.__,u=wp.blocks.registerBlockType,m=wp.editor,d=m.getColorClassName,g=m.InnerBlocks,b=document.getElementById("bu_publication_owner").value,f=u("editorial/aside",{title:p("Aside"),description:p("Add an aside with related information. Accepts image, headline, paragraph, and button blocks as children."),icon:"format-aside",category:"bu-editorial",supports:{align:["left","right"]},attributes:{themeColor:{type:"string"}},publicationClassName:b+"-block-aside",edit:s.a,save:function(e){var t=e.attributes,n=e.className,a=t.themeColor,o=r()(n,l({},d("background",a),d("background",a)));return wp.element.createElement("aside",{className:o},wp.element.createElement(g.Content,null))}}),h=[["core/image"],["core/heading",{placeholder:"Enter aside title\u2026"}],["core/paragraph",{placeholder:"Enter aside content\u2026"}],["core/button"]];Object(c.a)(f,h)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var l=wp.blocks.registerBlockType,a=wp.element.createElement,r=wp.hooks.addFilter,o=function(e,t){var n=e.name,o=e.title,i=e.edit,c=e.save,s=Object.assign({},e),p=n.split("/"),u=function(e,t){return s.name===t&&(e=e.replace(/-preset/i,"")),e};s.name=p[0]+"-preset/"+p[1],s.title=o+" (preset)",s.category="bu-editorial-presets",s.save=c,s.edit=function(e){return a(i,Object.assign(e,{presetTemplate:t}))},l(s.name,s),r("blocks.getBlockDefaultClassName","bu-blocks/preset-block-class-name/",u)};t.a=o},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(1),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),u=wp.i18n.__,m=wp.element,d=m.Component,g=m.Fragment,b=wp.compose.compose,f=wp.editor,h=f.InnerBlocks,w=f.InspectorControls,y=f.PanelColorSettings,v=f.withColors,E=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.themeColor,a=e.setThemeColor,r=e.presetTemplate,o=["core/image","core/heading","core/paragraph","core/button"],i=c()(t,l({},"has-"+n.slug+"-background",n.slug));return wp.element.createElement(g,null,wp.element.createElement(w,null,wp.element.createElement(y,{title:u("Color Settings"),colorSettings:[{value:n.color,onChange:a,label:u("Theme"),disableCustomColors:!0,colors:Object(s.a)()}]})),wp.element.createElement("aside",{className:i},wp.element.createElement(h,{allowedBlocks:o,template:r})))}}]),t}(d);t.a=b([v("themeColor")])(E)},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0),r=n.n(a),o=n(19),i=(n.n(o),n(20)),c=(n.n(i),n(21)),s=n(2),p=wp.i18n.__,u=wp.blocks.registerBlockType,m=wp.editor.getColorClassName,d=wp.editor.InnerBlocks,g=wp.data.select,b=g("core/editor"),f=b.hasSelectedInnerBlock,h=b.isBlockSelected,w=document.getElementById("bu_publication_owner").value;u("editorial/modal",{title:p("Modal"),description:p("A block with a callout for opening a modal with supplemental or complementary information."),icon:"admin-page",category:"bu-editorial",attributes:Object.assign({clientId:{type:"number"},themeColor:{type:"string"},calloutHeading:{type:"array",source:"children",selector:"h1"},calloutText:{type:"array",source:"children",selector:".editorial-modal-callout-text"},trigger:{type:"array",source:"children",selector:".js-bu-block-modal-trigger-overlay"}},s.a),publicationClassName:w+"-block-modal",getEditWrapperProps:function(e){var t=e.clientId;if(t){return{"data-selected-modal":f(t,!0)||h(t)?"true":void 0}}},edit:c.a,save:function(e){var t,n=e.attributes,a=e.className,o=n.themeColor,i=n.calloutHeading,c=n.calloutText,p=n.trigger,u=n.backgroundId,g=r()(a,"js-bu-block-modal",(t={},l(t,m("theme",o),m("theme",o)),l(t,"has-media",u),t));return wp.element.createElement("aside",{className:g},wp.element.createElement("div",{className:"wp-block-editorial-modal-callout"},wp.element.createElement("div",{className:"wp-block-editorial-modal-media"},wp.element.createElement("figure",{className:"wp-block-editorial-modal-image"},Object(s.b)(e,"banner-placeholder"))),wp.element.createElement("div",{className:"wp-block-editorial-modal-callout-content"},wp.element.createElement("div",{className:"modal-valign"},wp.element.createElement("h1",null,i),wp.element.createElement("p",{className:"editorial-modal-callout-text"},c),wp.element.createElement("p",null,wp.element.createElement("a",{href:"#",className:"js-bu-block-modal-trigger-overlay button"},p))))),wp.element.createElement("div",{className:"wp-block-editorial-modal-content js-bu-block-modal-overlay"},wp.element.createElement("div",{className:"overlay overlay-scale"},wp.element.createElement("a",{href:"#",class:"wp-block-editorial-modal-overlay-close js-bu-block-modal-overlay-close"},"Close"),wp.element.createElement("article",null,wp.element.createElement(d.Content,null)))))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(1),p=n(2),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),m=wp.i18n.__,d=wp.element,g=d.Component,b=d.Fragment,f=wp.compose.compose,h=wp.editor,w=h.InspectorControls,y=h.InnerBlocks,v=h.PanelColorSettings,E=h.RichText,C=h.withColors,k=wp.data.select,x=k("core/editor"),_=x.hasSelectedInnerBlock,P=x.isBlockSelected,N=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e,t=this.props,n=t.attributes,a=t.themeColor,r=t.setThemeColor,o=t.setAttributes,i=t.className,u=t.clientId,d=n.backgroundId,g=n.calloutHeading,f=n.calloutText,h=n.trigger,C=c()(i,(e={},l(e,"has-"+a.slug+"-theme",a.slug),l(e,"has-media",d),e));return(_(u,!0)||P(u))&&o({clientId:u}),wp.element.createElement(b,null,wp.element.createElement(w,null,wp.element.createElement(v,{title:m("Theme Settings"),colorSettings:[{value:a.color,onChange:r,label:m("Theme"),disableCustomColors:!0,colors:Object(s.a)()}]})),wp.element.createElement("aside",{className:C},wp.element.createElement("div",{className:"wp-block-editorial-modal-callout"},wp.element.createElement("div",{className:"wp-block-editorial-modal-media"},wp.element.createElement("figure",{className:"wp-block-editorial-modal-image"},Object(p.b)(this.props,"banner-placeholder","Callout Background"))),wp.element.createElement("div",{className:"wp-block-editorial-modal-callout-content"},wp.element.createElement("div",{className:"modal-valign"},wp.element.createElement(E,{tagName:"h1",onChange:function(e){return o({calloutHeading:e})},value:g,placeholder:m("Enter heading\u2026"),formattingControls:[]}),wp.element.createElement(E,{tagName:"p",onChange:function(e){return o({calloutText:e})},value:f,placeholder:m("Enter text\u2026"),formattingControls:["bold","italic","link"]}),wp.element.createElement("div",{className:"wp-block-editorial-modal-trigger-wrapper"},wp.element.createElement(E,{tagName:"p",className:"js-bu-block-modal-trigger-overlay button",onChange:function(e){return o({trigger:e})},value:h,placeholder:m("Enter trigger label\u2026"),formattingControls:[]}))))),wp.element.createElement("div",{className:"wp-block-editorial-modal-content js-bu-block-modal-overlay"},wp.element.createElement("div",{className:"overlay overlay-scale"},wp.element.createElement("a",{href:"#",class:"wp-block-editorial-modal-overlay-close js-bu-block-modal-overlay-close"},"Close"),wp.element.createElement("article",null,wp.element.createElement(y,null))))))}}]),t}(g);t.a=f([C("themeColor")])(N)},function(e,t){},function(e,t,n){"use strict";var l={backgroundId:{type:"number"},backgroundType:{type:"string"},backgroundUrl:{type:"string"},backgroundOpacity:{type:"number",default:100},backgroundAlt:{type:"string"}};t.a=l},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(25),r=(n.n(a),n(26)),o=(n.n(r),n(0)),i=n.n(o),c=n(1),s=wp.i18n.__,p=wp.blocks,u=p.createBlock,m=p.registerBlockType,d=wp.element.Fragment,g=wp.components,b=g.IconButton,f=g.PanelBody,h=g.Toolbar,w=wp.editor,y=w.RichText,v=w.PlainText,E=w.InspectorControls,C=w.MediaPlaceholder,k=w.MediaUpload,x=w.MediaUploadCheck,_=w.PanelColorSettings,P=w.withColors,N=document.getElementById("bu_publication_owner").value,T=function(e,t){return wp.element.createElement("svg",null,wp.element.createElement("pattern",{id:"dropcap-texture",viewBox:"0 0 1024 1024",patternUnits:"userSpaceOnUse",width:"100%",height:"100%",x:"0%",y:"0%"},wp.element.createElement("image",{href:t,width:"1024",height:"1024"})),wp.element.createElement("text",{textAnchor:"start",x:"0",y:"50%",dy:".404em",className:"dropcap-filltext"},e))};m("editorial/introparagraph",{title:s("Intro Paragraph"),description:s("Add an introduction with a bulleted list and styled paragraph."),icon:wp.element.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{fill:"#c00",d:"M11 5v7H9.5C7.6 12 6 10.4 6 8.5S7.6 5 9.5 5H11m8-2H9.5C6.5 3 4 5.5 4 8.5S6.5 14 9.5 14H11v7h2V5h2v16h2V5h2V3z"})),category:"bu-editorial",supports:{anchor:!0},attributes:{heading:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph h4"},list:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph-toc"},content:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph-content p"},dropCapColor:{type:"string",default:""},paragraphColor:{type:"string",default:""},className:{type:"string",default:""},dropCapImageURL:{type:"string",default:""},dropCapImageId:{type:"number"}},styles:[{name:"default",label:s("Regular"),isDefault:!0},{name:"large",label:s("Large paragraph text")},{name:"split",label:s("Split paragraph text")},{name:"dropcap-boxed",label:s("Boxed dropcap")},{name:"dropcap-outlined",label:s("Outlined dropcap")},{name:"dropcap-dimensional",label:s("Dimensional dropcap")},{name:"dropcap-image",label:s("Image dropcap")}],publicationClassName:N+"-block-editorial-introparagraph",edit:P("paragraphColor","dropCapColor")(function(e){var t,n=e.attributes,a=e.className,r=e.insertBlocksAfter,o=e.setAttributes,p=e.paragraphColor,m=e.setParagraphColor,g=e.dropCapColor,w=e.setDropCapColor,P=e.publicationClassName,N=n.heading,O=n.content,I=n.list,B=n.dropCapImageURL,j=n.dropCapImageId,S=a.includes("is-style-dropcap");S?o({paragraphColor:""}):S||o({dropCapColor:""});var R=a.includes("is-style-dropcap-image"),M="";"undefined"!==typeof O&&(M=O.charAt(0));var A=function(e){if(!e||!e.url)return void o({dropCapImageURL:"",dropCapImageId:null});o({dropCapImageURL:e.url,dropCapImageId:e.id})},F=function(){o({dropCapImageURL:"",dropCapImageId:null})},L=i()(a,P,(t={"has-dropcap":S},l(t,"has-dropcap-color-"+g.slug,S&&g&&g.slug),l(t,"has-paragraph-color-"+p.slug,!S&&p&&p.slug),t));return wp.element.createElement(d,null,wp.element.createElement(E,null,!S&&function(){return wp.element.createElement(_,{title:s("Paragraph color"),colorSettings:[{value:p.color,onChange:m,label:s("Paragraph"),disableCustomColors:!0,colors:Object(c.a)()}]})}(),S&&!R&&function(){return wp.element.createElement(_,{title:s("Drop cap color"),colorSettings:[{value:g.color,onChange:w,label:s("Drop cap"),disableCustomColors:!0,colors:Object(c.a)()}]})}(),S&&R&&function(){return wp.element.createElement(f,{title:s("Drop cap image settings")},""!==B&&wp.element.createElement(x,null,wp.element.createElement(h,null,wp.element.createElement(k,{onSelect:A,value:j,render:function(e){var t=e.open;return wp.element.createElement("div",null,wp.element.createElement(b,{className:"components-toolbar__control",label:"Edit image",icon:"edit",onClick:t}),wp.element.createElement(b,{icon:"no-alt",onClick:F,className:"blocks-gallery-image__remove",label:"Remove image"}))}})),wp.element.createElement("img",{src:B})),wp.element.createElement(C,{key:"drop-cap-image",icon:"format-image",label:"Drop Cap Image",labels:{title:"Drop Cap Image",name:"images"},onSelect:A}))}()),wp.element.createElement("div",{className:L},wp.element.createElement(v,{tagname:"h4",value:N,onChange:function(e){return o({heading:e})},placeholder:s("Enter Teaser Headline (optional)")}),wp.element.createElement(y,{multiline:"li",tagname:"ul",onChange:function(e){return o({list:e})},value:I,wrapperClassName:"wp-block-editorial-introparagraph-toc",placeholder:s("Enter Teaser Intro List (optional)"),formattingControls:["link"]}),wp.element.createElement("div",{className:"wp-block-editorial-introparagraph-content"},R&&T(M,B),wp.element.createElement(y,{tagname:"p",value:O,onChange:function(e){return o({content:e})},placeholder:s("Write paragraph\u2026"),formattingControls:["bold","italic"],unstableOnSplit:r?function(e,t){for(var n=arguments.length,l=Array(n>2?n-2:0),a=2;a<n;a++)l[a-2]=arguments[a];o({content:e}),r([].concat(l,[u("core/paragraph",{content:t})]))}:void 0}))))}),save:function(e){var t,n=e.attributes,a=n.heading,r=n.list,o=n.content,c=n.dropCapColor,s=n.dropCapImageURL,p=n.paragraphColor,u=n.className,m=n.publicationClassName,d=!1;"undefined"!==typeof u&&(d=u.includes("is-style-dropcap-image"));var g="";"undefined"!==typeof o&&(g=o.charAt(0));var b=!0;("undefined"===typeof r||"<li></li>"===r||y.isEmpty(r))&&(b=!1);var f=u&&u.includes("is-style-dropcap"),h=i()(u,m,(t={"has-dropcap":f},l(t,"has-dropcap-color-"+c,f&&c),l(t,"has-paragraph-color-"+p,!f&&p),t));return wp.element.createElement("div",{className:h},!y.isEmpty(a)&&wp.element.createElement(y.Content,{tagName:"h4",value:a}),b&&wp.element.createElement(y.Content,{tagName:"ul",className:"wp-block-editorial-introparagraph-toc",value:r,multiline:"li"}),!y.isEmpty(o)&&wp.element.createElement("div",{className:"wp-block-editorial-introparagraph-content"},d&&T(g,s),wp.element.createElement(y.Content,{tagName:"p",value:o})))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0),r=n.n(a),o=n(28),i=(n.n(o),n(29)),c=(n.n(i),n(30)),s=n(2),p=wp.i18n.__,u=wp.blocks.registerBlockType,m=wp.components,d=m.Path,g=m.SVG,b=wp.editor,f=b.RichText,h=b.getColorClassName,w=document.getElementById("bu_publication_owner").value,y=Object.assign({media:{},head:{type:"array",source:"children",selector:".head"},deck:{type:"array",source:"children",selector:".deck"},imageFocus:{type:"string",default:"center-middle"},textPositionX:{type:"string",default:"x-center"},textPositionY:{type:"string",default:""},wide:{type:"bool"},box:{type:"bool"},flip:{type:"bool"},className:{type:"string"},themeColor:{type:"string"},primaryTerm:{type:"string"}},s.a),v=[{name:"text-to-image",label:p("Text over Horizontal Image")},{name:"image-to-text",label:p("Horizontal Image over Text")},{name:"emphasis-on-text",label:p("Overlapping Text")},{name:"text-over-image",label:p("Image with Text Overlay")},{name:"side-by-side",label:p("Vertical Image and Text Side By Side")}],E={className:!1,customClassName:!1,multiple:!1};u("bu/leadin",{title:p("Leadin"),description:p("The opening headline and image of an article."),icon:wp.element.createElement(g,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(d,{fill:"#c00",d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"})),category:"bu",attributes:y,styles:v,supports:E,edit:c.a,save:function(e){var t,n=e.attributes,a=n.backgroundId,o=n.head,i=n.deck,c=n.imageFocus,p=n.textPositionX,u=n.textPositionY,m=n.wide,d=n.box,g=n.flip,b=n.className,y=n.themeColor,v=n.primaryTerm,E=b&&b.includes("is-style-emphasis-on-text"),C=b&&b.includes("is-style-text-over-image"),k=b&&b.includes("is-style-side-by-side"),x=r()("wp-block-leadin",w+"-block-leadin",b,(t={"has-box":d&&(E||C||k),"has-wider":m&&k,"has-flip":g&&k,"has-media":a},l(t,"has-image-focus-"+c,c),l(t,"has-text-position-"+p,p&&C),l(t,"has-text-position-"+u,u&&C),l(t,h("theme",y),h("theme",y)),t));return wp.element.createElement("div",{className:x},wp.element.createElement("div",{class:"container-lockup"},wp.element.createElement("div",{class:"wp-block-leadin-media"},Object(s.b)(e)),wp.element.createElement("div",{class:"container-words-outer"},wp.element.createElement("div",{class:"container-words-inner"},v&&wp.element.createElement("span",{class:"wp-prepress-tag"},v),wp.element.createElement(f.Content,{tagName:"h1",className:"head",value:o}),!f.isEmpty(i)&&wp.element.createElement(f.Content,{tagName:"h4",className:"deck",value:i})))))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(1),p=n(2),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),m=wp.i18n.__,d=wp.element,g=d.Component,b=d.Fragment,f=wp.compose.compose,h=wp.components,w=h.CheckboxControl,y=h.SelectControl,v=h.PanelBody,E=wp.editor,C=E.InspectorControls,k=E.PanelColorSettings,x=E.RichText,_=E.withColors,P=document.getElementById("bu_publication_owner").value,N=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e,t=this.props,n=t.attributes,a=t.themeColor,r=t.setThemeColor,o=t.setAttributes,i=t.className,u=t.isSelected,d=n.backgroundId,g=n.head,f=n.deck,h=n.imageFocus,E=n.textPositionX,_=n.textPositionY,N=n.wide,T=n.box,O=n.flip,I=n.primaryTerm,B=i.includes("is-style-emphasis-on-text"),j=i.includes("is-style-text-over-image"),S=i.includes("is-style-side-by-side"),R=c()("wp-block-leadin",P+"-block-leadin",i,(e={"has-box":T&&(B||j||S),"has-wider":N&&S,"has-flip":O&&S,"has-media":d},l(e,"has-image-focus-"+h,h),l(e,"has-text-position-"+E,E&&j),l(e,"has-text-position-"+_,_&&j),l(e,"has-"+a.slug+"-theme",a.slug),e)),M=document.getElementById("_bu_prepress_primary_term_select");M&&(M.value&&o({primaryTerm:M.value}),M.addEventListener("change",function(){o({primaryTerm:M.value})}));var A=function(){return j?wp.element.createElement(b,null,wp.element.createElement(y,{label:m("Horizontal Text Positioning"),value:E,onChange:function(e){return o({textPositionX:e})},options:[{value:"x-left",label:m("Left")},{value:"x-center",label:m("Center")},{value:"x-right",label:m("Right")}]}),wp.element.createElement(y,{label:m("Vertical Text Positioning"),value:_,onChange:function(e){return o({textPositionY:e})},options:[{value:"y-top",label:m("Top")},{value:"",label:m("Center")},{value:"y-bottom",label:m("Bottom")}]})):null},F=function(){return i.includes("is-style-side-by-side")?wp.element.createElement(b,null,wp.element.createElement(w,{label:m("Flip Order"),checked:O,onChange:function(e){o({flip:e})}}),wp.element.createElement(w,{label:m("Wide Layout"),checked:N,onChange:function(e){o({wide:e})}})):null};return wp.element.createElement(b,null,wp.element.createElement("div",{className:R},wp.element.createElement("div",{class:"container-lockup"},wp.element.createElement("div",{class:"wp-block-leadin-media"},Object(p.b)(this.props,void 0,"Media")),wp.element.createElement("div",{class:"container-words-outer"},wp.element.createElement("div",{class:"container-words-inner"},I&&wp.element.createElement("span",{class:"wp-prepress-tag"},I),wp.element.createElement(x,{tagName:"h1",className:"head",placeholder:m("Add headline"),value:g,onChange:function(e){return o({head:e})},formattingControls:["bold","italic"],keepPlaceholderOnFocus:!0}),(!x.isEmpty(f)||u)&&wp.element.createElement(x,{tagName:"h4",className:"deck",placeholder:m("Add subheader (optional)"),value:f,onChange:function(e){return o({deck:e})},formattingControls:["bold","italic"]}))))),wp.element.createElement(C,null,function(){return d?wp.element.createElement(v,{title:m("Media Positioning"),initialOpen:!1},wp.element.createElement(y,{label:m("Media Focal Point"),value:h,onChange:function(e){return o({imageFocus:e})},options:[{value:"left-top",label:m("Left Top")},{value:"left-middle",label:m("Left Center")},{value:"left-bottom",label:m("Left Bottom")},{value:"center-top",label:m("Center Top")},{value:"center-middle",label:m("Center")},{value:"center-bottom",label:m("Center Bottom")},{value:"right-top",label:m("Right Top")},{value:"right-middle",label:m("Right Center")},{value:"right-bottom",label:m("Right Bottom")}]})):null}(),function(){return B||j||S?wp.element.createElement(v,{title:m("Layout Options")},F(),A(),wp.element.createElement(w,{label:m("Boxed Text"),checked:T,onChange:function(e){o({box:e})}})):null}(),wp.element.createElement(k,{title:m("Color Settings"),initialOpen:!1,colorSettings:[{value:a.color,onChange:r,label:m("Theme"),disableCustomColors:!0,colors:Object(s.a)()}]})))}}]),t}(g);t.a=f([_("themeColor")])(N)},function(e,t,n){"use strict";var l=n(32),a=(n.n(l),n(33));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var l=n(35),a=(n.n(l),n(36));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var l=n(38),a=(n.n(l),n(39));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0),r=n.n(a),o=n(41),i=(n.n(o),n(42)),c=(n.n(i),n(43)),s=wp.i18n.__,p=wp.blocks.registerBlockType,u=wp.components,m=u.G,d=u.Path,g=u.SVG,b=wp.editor,f=b.RichText,h=b.getColorClassName,w=document.getElementById("bu_publication_owner").value,y={url:{type:"string",source:"attribute",selector:"a",attribute:"href"},title:{type:"string",source:"attribute",selector:"a",attribute:"title"},text:{type:"string",source:"html",selector:"a"},themeColor:{type:"string"},icon:{type:"string"},className:{type:"string"}},v=[{name:"default",label:s("Default"),isDefault:!0},{name:"outline",label:s("Outline")},{name:"text",label:s("Text")}];"research"===w&&v.push({name:"accent",label:s("Accent")}),p("bu/button",{title:s("Button"),description:s("Prompt visitors to take action with a custom button."),icon:wp.element.createElement(g,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(d,{fill:"none",d:"M0 0h24v24H0V0z"}),wp.element.createElement(m,null,wp.element.createElement(d,{fill:"#c00",d:"M19 6H5L3 8v8l2 2h14l2-2V8l-2-2zm0 10H5V8h14v8z"}))),category:"bu",publicationClassName:w+"-block-button",attributes:y,styles:v,supports:{className:!1,customClassName:!1,align:["left","center","right"]},edit:c.a,save:function(e){var t,n=e.attributes,a=n.url,o=n.text,i=n.themeColor,c=n.icon,s=n.className,p=r()("wp-block-button",s,w+"-block-button",(t={},l(t,h("theme",i),h("theme",i)),l(t,"icon-navigateright "+c,c),t));return wp.element.createElement("p",null,wp.element.createElement(f.Content,{tagName:"a",className:p,href:a,value:o}))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(1),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),u=wp.i18n.__,m=wp.element,d=m.Component,g=m.Fragment,b=wp.compose.compose,f=wp.components,h=f.Button,w=f.Dashicon,y=f.IconButton,v=f.PanelBody,E=f.RadioControl,C=wp.editor,k=C.InspectorControls,x=C.PanelColorSettings,_=C.RichText,P=C.URLInput,N=C.withColors,T=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e,t=this.props,n=t.attributes,a=t.themeColor,r=t.setThemeColor,o=t.setAttributes,i=t.isSelected,p=t.className,m=t.publicationClassName,d=n.text,b=n.url,f=n.icon,C=c()("wp-block-button",p,m,(e={},l(e,"has-"+a.slug+"-theme",a.slug),l(e,"icon-navigateright "+f,f),e));return wp.element.createElement(g,null,wp.element.createElement(k,null,wp.element.createElement(x,{title:u("Color Settings"),colorSettings:[{value:a.color,onChange:r,label:u("Theme"),disableCustomColors:!0,colors:Object(s.a)()}]}),wp.element.createElement(v,{title:u("Icon Settings")},wp.element.createElement(E,{label:"Placement",selected:f,options:[{label:"Before text",value:"align-icon-left"},{label:"After text",value:"align-icon-right"}],onChange:function(e){o({icon:e})}}),wp.element.createElement(h,{onClick:function(){return o({icon:void 0})},label:"Clear icon settings",isDefault:!0,isSmall:!0},u("Clear")))),wp.element.createElement("p",null,wp.element.createElement(_,{placeholder:u("Add text\u2026"),value:d,onChange:function(e){return o({text:e})},formattingControls:["bold","italic"],className:C,keepPlaceholderOnFocus:!0})),i&&wp.element.createElement("form",{className:"block-library-button__inline-link",onSubmit:function(e){return e.preventDefault()}},wp.element.createElement(w,{icon:"admin-links"}),wp.element.createElement(P,{value:b,onChange:function(e){return o({url:e})}}),wp.element.createElement(y,{icon:"editor-break",label:u("Apply"),type:"submit"})))}}]),t}(d);t.a=b([N("themeColor")])(T)},function(e,t,n){"use strict";function l(e,t){var n={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(n[l]=e[l]);return n}var a=n(45),r=(n.n(a),n(46)),o=(n.n(r),n(0)),i=n.n(o),c=wp.i18n.__,s=wp.blocks.registerBlockType,p=wp.compose,u=p.withState,m=p.compose,d=wp.data,g=d.withSelect,b=d.select,f=wp.element.Fragment,h=wp.components,w=h.PanelBody,y=h.RangeControl,v=h.ToggleControl,E=wp.editor,C=E.InspectorControls,k=E.BlockAlignmentToolbar,x=E.BlockControls,_=E.URLInput,P=wp.url.addQueryArgs,N=wp.date,T=N.format,O=N.__experimentalGetSettings,I=wp,B=I.apiFetch,j=wp.hooks.applyFilters,S=document.getElementById("bu_publication_owner").value;s("editorial/relatedstories",{title:c("Related Stories"),description:c("A list of related stories to embed in an article."),icon:wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M0,0h24v24H0V0z",fill:"none"}),wp.element.createElement("rect",{x:"11",y:"7",width:"6",height:"2"}),wp.element.createElement("rect",{x:"11",y:"11",width:"6",height:"2"}),wp.element.createElement("rect",{x:"11",y:"15",width:"6",height:"2"}),wp.element.createElement("rect",{x:"7",y:"7",width:"2",height:"2"}),wp.element.createElement("rect",{x:"7",y:"11",width:"2",height:"2"}),wp.element.createElement("rect",{x:"7",y:"15",width:"2",height:"2"}),wp.element.createElement("path",{d:"M20.1,3H3.9C3.4,3,3,3.4,3,3.9v16.2C3,20.5,3.4,21,3.9,21h16.2c0.4,0,0.9-0.5,0.9-0.9V3.9C21,3.4,20.5,3,20.1,3z M19,19H5V5h14V19z",fill:"#c00"})),category:"bu-editorial",attributes:{align:{type:"string",default:"right"},className:{type:"string",default:""},cardCount:{type:"number",default:2},relatedManual:{type:"boolean",default:!1},includePosts:{type:"array",default:[]},URLInputEntry:{type:"string",default:""}},styles:[{name:"list",label:c("List"),isDefault:!0},{name:"card",label:c("Card")}],getEditWrapperProps:function(e){var t=e.align,n=e.className;return["left","right"].includes(t)&&("undefined"===typeof n||n.includes("is-style-list"))?{"data-align":t}:{"data-align":"none"}},publicationClassName:S+"-block-related-stories",edit:m([u({yarppPosts:[],yarppPostsError:!1,doingYarppPostsFetch:!1,relatedPosts:[],relatedPostsError:!1,doingRelatedPostsFetch:!1,errorMessage:!1}),g(function(e,t){var n=t.setState,l=t.yarppPosts,a=t.yarppPostsError,r=t.doingYarppPostsFetch,o=t.relatedPosts,i=t.relatedPostsError,c=t.doingRelatedPostsFetch,s=t.errorMessage,p=t.attributes,u=p.relatedManual,m=p.includePosts,d=p.className,g=p.cardCount,b=void 0,f=d&&d.includes("is-style-card"),h=f&&g?g:3;if(u)b={per_page:h,include:m};else{if(0===l.length&&!a){var w=e("core/editor").getCurrentPostId();if(w&&!r){n({doingYarppPostsFetch:!0});var y=j("buBlocks.relatedStories.yarppPostTypes",["post"]);B({path:P("/bu-blocks/v1/yarpprelated",{post_id:w,post_type:y})}).then(function(e){n({yarppPosts:e,yarppPostsError:0===e.length,doingYarppPostsFetch:!1,relatedPosts:[],relatedPostsError:!1,doingRelatedPostsFetch:!1})}).catch(function(e){"yarpp_disabled"===e.code&&n({yarppPostsError:!0,doingYarppPostsFetch:!1,errorMessage:e.message})})}}b={per_page:h,include:l}}if(b.include.length>0&&0===o.length&&!i&&!c){var v=j("buBlocks.relatedStories.postTypes",["post"]);n({doingRelatedPostsFetch:!0}),B({path:P("/bu-blocks/v1/collection",{include:b.include,post_type:v})}).then(function(e){n({relatedPosts:e,relatedPostsError:0===e.length,doingRelatedPostsFetch:!1})}).catch(function(e){n({relatedPostsError:!0,doingRelatedPostsFetch:!1,errorMessage:e.code})})}return{posts:o,errorMessage:s}})])(function(e){var t=e.posts,n=e.errorMessage,a=e.attributes,r=l(e,["posts","errorMessage","attributes"]),o=r.className,s=r.publicationClassName,p=r.setAttributes,u=r.setState,m=a.align,d=a.cardCount,g=a.relatedManual,h=a.URLInputEntry,E=a.includePosts,P=void 0;P=t.length>2&&o.includes("is-style-card")&&2===d?t.slice(0,2):t;var N=b("core/editor").getCurrentPost(),I=function(e,t){return wp.element.createElement("li",{className:"wp-block-editorial-relatedstories-list-item"},wp.element.createElement("article",{className:"wp-block-editorial-relatedstories-article"},e.includes("is-style-card")&&t.media_url&&wp.element.createElement("figure",{className:"wp-block-editorial-relatedstories-article-image"},wp.element.createElement("img",{src:t.media_url,alt:"placeholder"})),wp.element.createElement("div",{className:"wp-block-editorial-relatedstories-article-content"},e.includes("is-style-card")&&t.primary_term&&wp.element.createElement("p",{className:"wp-block-editorial-relatedstories-article-category"},wp.element.createElement("span",null,t.primary_term)),wp.element.createElement("h4",{className:"wp-block-editorial-relatedstories-article-title"},wp.element.createElement("a",{href:t.link,className:"wp-block-editorial-relatedstories-article-title-link"},t.title)),wp.element.createElement("p",{className:"wp-block-editorial-relatedstories-article-date"},T(O().formats.date,t.date_gmt)),j("buBlocks.relatedStories.displayListItem","",t,N))))},B=function(){u({relatedPosts:[],relatedPostsError:!1,doingRelatedPostsFetch:!1})},S=function(e){var t=e.target.parentNode.dataset.postId;if(t){var n=E.indexOf(parseInt(t));n>-1&&p({includePosts:E.filter(function(e,t){return t!==n})}),B()}},R=function(e){return wp.element.createElement("li",{"data-post-id":e.id},e.title," ",wp.element.createElement("button",{onClick:S,type:"button",id:"remove-selected-post",class:"components-button is-tertiary"},"Remove"))},M=function(e,t){"undefined"===typeof t?p({URLInputEntry:e}):(p({includePosts:E.concat(t.id)}),p({URLInputEntry:""}),B())},A=function(){p({relatedManual:!g}),g&&u({yarppPosts:[],yarppPostsError:!1,doingYarppPostsFetch:!1}),B()},F="";o.includes("is-style-card")&&2===d?F="has-two":o.includes("is-style-card")&&(F=" has-three");var L=i()(o,s,F);return wp.element.createElement(f,null,wp.element.createElement(C,null,wp.element.createElement(w,{title:c("Settings"),className:"panelbody-related-stories"},o.includes("is-style-card")&&wp.element.createElement(y,{label:c("Cards"),value:d,onChange:function(e){return p({cardCount:e})},initialPosition:2,min:2,max:3}),wp.element.createElement(v,{label:"Enable manual selection",help:g?"Display manually selected related stories":"Display related stories automatically.",checked:g,onChange:A}),g&&wp.element.createElement(_,{value:h,onChange:M}),g&&t&&t.length>0&&wp.element.createElement(f,null,wp.element.createElement("h3",null,"Manually selected posts:"),wp.element.createElement("ul",{className:"panelbody-related-stories-list"},t.map(function(e){return R(e)}))))),!o.includes("is-style-card")&&wp.element.createElement(x,null,wp.element.createElement(k,{value:m,onChange:function(e){return p({align:e})},controls:["left","right"]})),wp.element.createElement("aside",{className:L},P&&P.length>0?wp.element.createElement("ul",{className:"wp-block-editorial-relatedstories-list"},P&&P.map(function(e){return I(o,e)})):wp.element.createElement("p",{class:"wp-block-editorial-relatedstories-error"},n||"Select related posts in this block's settings.")))}),save:function(){return null}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";var l=n(48),a=(n.n(l),n(49));n.n(a)},function(e,t){},function(e,t){}]);