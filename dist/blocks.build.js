!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1),n(4),n(10),n(14),n(17),n(20),n(23),n(26)},function(e,t,n){"use strict";var r=n(2),a=(n.n(r),n(3));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(5),a=(n.n(r),n(6)),l=(n.n(a),n(7)),o=n(8),i=(n.n(o),n(9)),c=(n.n(i),wp.i18n.__),s=wp.blocks.registerBlockType,p=wp.element.Fragment,u=wp.editor,m=u.RichText,d=u.BlockControls,h=wp.data.select,f=document.getElementById("bu_publication_owner").value;s("editorial/headline",{title:c("Headline"),description:c("Add a section heading with an anchor and pre- and post-text formatting options."),icon:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},wp.element.createElement("path",{fill:"#c00",d:"M5 4v3h5.5v12h3V7H19V4z"}),wp.element.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),category:"bu-editorial",supports:{anchor:!0},attributes:{content:{type:"string",source:"html",selector:".wp-block-editorial-headline"},level:{type:"number",default:2},anchor:{type:"string",source:"attribute",attribute:"id",selector:".wp-block-editorial-headline"}},styles:[{name:"default",label:c("Regular"),isDefault:!0},{name:"emphasis-weight",label:c("Emphasize weight")},{name:"emphasis-color",label:c("Emphasize color")}],publicationClassName:f+"-block-editorial-headline",edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.className,a=e.clientId,o=t.content,i=t.level,s=t.anchor,u="h"+i;if(!s){var f=h("core/editor").getBlocks(),b=f.filter(function(e){return"editorial/headline"===e.name}),g=b.findIndex(function(e){return e.clientId===a});n({anchor:"headline-"+(g+1)})}return wp.element.createElement(p,null,wp.element.createElement(d,null,wp.element.createElement(l.a,{minLevel:2,maxLevel:5,selectedLevel:i,onChange:function(e){return n({level:e})}})),wp.element.createElement(m,{tagName:u,className:r,value:o,onChange:function(e){return n({content:e})},placeholder:c("Write headline\u2026"),formattingControls:["pretext","posttext","bold","italic"]}))},save:function(e){var t=e.attributes,n=t.content,r=t.level,a="h"+r;return wp.element.createElement(m.Content,{tagName:a,value:n})}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=wp.i18n,c=i.__,s=i.sprintf,p=wp.element.Component,u=wp.components.Toolbar,m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"createLevelControl",value:function(e,t,n){return{icon:"heading",title:s(c("Heading %d"),e),isActive:e===t,onClick:function(){return n(e)},subscript:String(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.minLevel,r=t.maxLevel,a=t.selectedLevel,l=t.onChange,o=Array.from({length:r-n},function(e,t){return t+n});return wp.element.createElement(u,{controls:o.map(function(t){return e.createLevelControl(t,a,l)})})}}]),t}(p);t.a=m},function(e,t){var n=wp.i18n.__,r=wp.element.Fragment,a=wp.richText,l=a.registerFormatType,o=a.toggleFormat,i=wp.editor,c=i.RichTextToolbarButton,s=i.RichTextShortcut,p="editorial/pretext";l(p,{title:n("Pretext"),tagName:"span",className:"wp-block-editorial-headline-pretext",edit:function(e){var t=e.isActive,a=e.value,l=e.onChange,i=function(){return l(o(a,{type:p}))};return wp.element.createElement(r,null,wp.element.createElement(s,{type:"access",character:"a",onUse:i}),wp.element.createElement(c,{name:"pretext",icon:"warning",title:n("Pretext"),onClick:i,isActive:t,shortcutType:"access",shortcutCharacter:"a"}))}})},function(e,t){var n=wp.i18n.__,r=wp.element.Fragment,a=wp.richText,l=a.registerFormatType,o=a.toggleFormat,i=wp.editor,c=i.RichTextToolbarButton,s=i.RichTextShortcut,p="editorial/posttext";l(p,{title:n("Posttext"),tagName:"span",className:"wp-block-editorial-headline-posttext",edit:function(e){var t=e.isActive,a=e.value,l=e.onChange,i=function(){return l(o(a,{type:p}))};return wp.element.createElement(r,null,wp.element.createElement(s,{type:"access",character:"b",onUse:i}),wp.element.createElement(c,{name:"posttext",icon:"warning",title:n("Posttext"),onClick:i,isActive:t,shortcutType:"access",shortcutCharacter:"b"}))}})},function(e,t,n){"use strict";var r=n(11),a=(n.n(r),n(12)),l=(n.n(a),n(13)),o=wp.i18n.__,i=wp.blocks.registerBlockType,c=wp.element.Fragment,s=wp.components,p=s.PanelBody,u=s.SelectControl,m=wp.editor,d=m.InspectorControls,h=m.InnerBlocks,f=document.getElementById("bu_publication_owner").value,b=i("editorial/aside",{title:o("Aside"),description:o("Add an aside with related information. Accepts image, headline, paragraph, and button blocks as children."),icon:"format-aside",category:"bu-editorial",supports:{align:["left","right"]},attributes:{colorScheme:{type:"string",default:""}},publicationClassName:f+"-block-aside",edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.className,a=e.presetTemplate,l=t.colorScheme,i=["core/image","core/heading","core/paragraph","core/button"];return wp.element.createElement(c,null,wp.element.createElement(d,null,wp.element.createElement(p,{title:o("Color Settings")},wp.element.createElement(u,{label:o("Color Scheme"),value:l||"",onChange:function(e){return n({colorScheme:e})},options:[{value:"",label:o("None")},{value:"has-light-background",label:o("Light Background")},{value:"has-dark-background",label:o("Dark Background")},{value:"has-primary-background",label:o("Primary Background")}]}))),wp.element.createElement("aside",{className:[r,l].join(" ").trim()},wp.element.createElement(h,{allowedBlocks:i,template:a})))},save:function(e){var t=e.attributes,n=e.className,r=t.colorScheme;return wp.element.createElement("aside",{className:[n,r].join(" ").trim()},wp.element.createElement(h.Content,null))}}),g=[["core/image"],["core/heading",{placeholder:"Enter aside title\u2026"}],["core/paragraph",{placeholder:"Enter aside content\u2026"}],["core/button"]];Object(l.a)(b,g)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=wp.blocks.registerBlockType,a=wp.element.createElement,l=wp.hooks.addFilter,o=function(e,t){var n=e.name,o=e.title,i=e.edit,c=e.save,s=Object.assign({},e),p=n.split("/"),u=function(e,t){return s.name===t&&(e=e.replace(/-preset/i,"")),e};s.name=p[0]+"-preset/"+p[1],s.title=o+" (preset)",s.category="bu-editorial-presets",s.save=c,s.edit=function(e){return a(i,Object.assign(e,{presetTemplate:t}))},r(s.name,s),l("blocks.getBlockDefaultClassName","bu-blocks/preset-block-class-name/",u)};t.a=o},function(e,t,n){"use strict";var r=n(15),a=(n.n(r),n(16));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(18),a=(n.n(r),n(19)),l=(n.n(a),wp.i18n.__),o=wp.blocks.registerBlockType,i=wp.element.Fragment,c=wp.components,s=c.PanelBody,p=c.SelectControl,u=wp.editor,m=u.RichText,d=u.PlainText,h=u.InspectorControls,f=document.getElementById("bu_publication_owner").value;o("editorial/introparagraph",{title:l("Intro Paragraph"),description:l("Add an introduction with a bulleted list and styled paragraph."),icon:wp.element.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{fill:"#c00",d:"M11 5v7H9.5C7.6 12 6 10.4 6 8.5S7.6 5 9.5 5H11m8-2H9.5C6.5 3 4 5.5 4 8.5S6.5 14 9.5 14H11v7h2V5h2v16h2V5h2V3z"})),category:"bu-editorial",supports:{anchor:!0},attributes:{heading:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph h4"},list:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph-toc"},content:{type:"string",source:"html",selector:".wp-block-editorial-introparagraph-content"},dropCapStyle:{type:"string",default:""},paragraphColor:{type:"string",default:""}},styles:[{name:"default",label:l("Regular"),isDefault:!0},{name:"large",label:l("Large paragraph text")},{name:"split",label:l("Split paragraph text")},{name:"dropcap-boxed",label:l("Boxed dropcap")},{name:"dropcap-outlined",label:l("Outlined dropcap")},{name:"dropcap-dimensional",label:l("Dimensional dropcap")},{name:"dropcap-image",label:l("Image dropcap")}],publicationClassName:f+"-block-editorial-introparagraph",edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.className,a=t.heading,o=t.list,c=t.content,u=t.dropCapStyle,f=t.paragraphColor;return wp.element.createElement(i,null,wp.element.createElement(h,null,wp.element.createElement(s,{title:l("Intro Paragraph Settings")},wp.element.createElement(p,{label:l("Paragraph text color"),value:f||"",onChange:function(e){return n({paragraphColor:e})},options:[{value:"",label:l("None")},{value:"has-paragraph-color-primary",label:l("Primary color")},{value:"has-paragraph-color-secondary",label:l("Secondary color")}]}),wp.element.createElement(p,{label:l("Drop cap Style"),value:u||"",onChange:function(e){return n({dropCapStyle:e})},options:[{value:"",label:l("None")},{value:"has-dropcap",label:l("Standard dropcap")},{value:"has-dropcap has-dropcap-color-primary",label:l("Primary color")},{value:"has-dropcap has-dropcap-color-secondary",label:l("Secondary color")}]}))),wp.element.createElement("div",{className:[r,u,f].join(" ").trim()},wp.element.createElement(d,{tagName:"h4",value:a,onChange:function(e){return n({heading:e})},placeholder:l("Add a heading")}),wp.element.createElement(m,{multiline:"li",tagName:"ul",onChange:function(e){return n({list:e})},value:o,wrapperClassName:"wp-block-editorial-introparagraph-toc",className:"{ className }",placeholder:l("Write list\u2026")}),wp.element.createElement(m,{multiline:"p",tagName:"div",wrapperClassName:"wp-block-editorial-introparagraph-content",value:c,onChange:function(e){return n({content:e})},placeholder:l("Write paragraphs\u2026"),formattingControls:["bold","italic"]})))},save:function(e){var t=e.attributes,n=t.heading,r=t.content,a=t.list,l=t.className,o=t.dropCapStyle,i=t.paragraphColor;return wp.element.createElement("div",{className:[l,o,i].join(" ").trim()},wp.element.createElement("h4",null,n),wp.element.createElement(m.Content,{tagName:"ul",className:"wp-block-editorial-introparagraph-toc",value:a,multiline:"li"}),wp.element.createElement(m.Content,{tagName:"div",className:"wp-block-editorial-introparagraph-content",value:r}))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(21),a=(n.n(r),n(22));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(24),a=(n.n(r),n(25));n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=n(27),l=(n.n(a),n(28)),o=(n.n(l),n(29)),i=wp.i18n.__,c=wp.blocks.registerBlockType,s=wp.components,p=s.G,u=s.Path,m=s.SVG,d=wp.editor,h=d.RichText,f=d.getColorClassName,b=document.getElementById("bu_publication_owner").value,g={url:{type:"string",source:"attribute",selector:"a",attribute:"href"},title:{type:"string",source:"attribute",selector:"a",attribute:"title"},text:{type:"string",source:"html",selector:"a"},themeColor:{type:"string"},icon:{type:"string"},className:{type:"string"}},w=[{name:"default",label:i("Default"),isDefault:!0},{name:"outline",label:i("Outline")},{name:"text",label:i("Text")}];"research"===b&&w.push({name:"accent",label:i("Accent")}),c("bu/button",{title:i("Button"),description:i("Prompt visitors to take action with a custom button."),icon:wp.element.createElement(m,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(u,{fill:"none",d:"M0 0h24v24H0V0z"}),wp.element.createElement(p,null,wp.element.createElement(u,{fill:"#c00",d:"M19 6H5L3 8v8l2 2h14l2-2V8l-2-2zm0 10H5V8h14v8z"}))),category:"bu",publicationClassName:b+"-block-button",attributes:g,styles:w,supports:{className:!1,customClassName:!1,align:["left","center","right"]},edit:o.a,save:function(e){var t=e.attributes,n=t.url,a=t.text,l=t.themeColor,o=t.icon,i=t.className,c=["wp-block-button",i,b+"-block-button",f("theme",l)].concat(r(o?["icon-navigateright "+o]:[])).join(" ").trim();return wp.element.createElement("p",null,wp.element.createElement(h.Content,{tagName:"a",className:c,href:n,value:a}))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(30),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=wp.i18n.__,p=wp.element,u=p.Component,m=p.Fragment,d=wp.compose.compose,h=wp.components,f=h.Button,b=h.Dashicon,g=h.IconButton,w=h.PanelBody,v=h.RadioControl,y=wp.editor,C=y.InspectorControls,E=y.PanelColorSettings,k=y.RichText,x=y.URLInput,_=y.withColors,N=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.themeColor,a=e.setThemeColor,l=e.setAttributes,o=e.isSelected,c=e.className,p=t.text,u=t.url,d=t.icon,h=["wp-block-button",c].concat(r(n.class?[n.class.replace("-color","")]:[]),r(d?["icon-navigateright "+d]:[])).join(" ").trim();return wp.element.createElement(m,null,wp.element.createElement(C,null,wp.element.createElement(E,{title:s("Color Settings"),colorSettings:[{value:n.color,onChange:a,label:s("Theme"),disableCustomColors:!0,colors:Object(i.a)()}]}),wp.element.createElement(w,{title:s("Icon Settings")},wp.element.createElement(v,{label:"Placement",selected:d,options:[{label:"Before text",value:"align-icon-left"},{label:"After text",value:"align-icon-right"}],onChange:function(e){l({icon:e})}}),wp.element.createElement(f,{onClick:function(){return l({icon:void 0})},label:"Clear icon settings",isDefault:!0,isSmall:!0},s("Clear")))),wp.element.createElement("p",null,wp.element.createElement(k,{placeholder:s("Add text\u2026"),value:p,onChange:function(e){return l({text:e})},formattingControls:["bold","italic"],className:h,keepPlaceholderOnFocus:!0})),o&&wp.element.createElement("form",{className:"block-library-button__inline-link",onSubmit:function(e){return e.preventDefault()}},wp.element.createElement(b,{icon:"admin-links"}),wp.element.createElement(x,{value:u,onChange:function(e){return l({url:e})}}),wp.element.createElement(g,{icon:"editor-break",label:s("Apply"),type:"submit"})))}}]),t}(u);t.a=d([_("themeColor")])(N)},function(e,t,n){"use strict";var r=(wp.i18n.__,wp.data),a=r.select,l=r.dispatch,o=a("core/editor"),i=o.getEditorSettings,c=l("core/editor"),s=c.updateEditorSettings,p=function(){var e=i().colors,t=i().buDefaultThemes,n=i().buPublicationThemes,r=document.getElementById("bu_publication_owner").value,a=n&&n[r]?n[r]:t;if(!a.some(function(t){return e.includes(t)})){var l=e.concat(a);s({colors:l})}return a};t.a=p}]);